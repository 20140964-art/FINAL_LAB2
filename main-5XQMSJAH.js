var PN=Object.defineProperty,xN=Object.defineProperties;var kN=Object.getOwnPropertyDescriptors;var GI=Object.getOwnPropertySymbols;var ON=Object.prototype.hasOwnProperty,FN=Object.prototype.propertyIsEnumerable;var WI=(n,e,t)=>e in n?PN(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,O=(n,e)=>{for(var t in e||={})ON.call(e,t)&&WI(n,t,e[t]);if(GI)for(var t of GI(e))FN.call(e,t)&&WI(n,t,e[t]);return n},ve=(n,e)=>xN(n,kN(e));var C=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{c(t.next(u))}catch(l){i(l)}},s=u=>{try{c(t.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);c((t=t.apply(n,e)).next())});var cp;function qu(){return cp}function Nn(n){let e=cp;return cp=n,e}var KI=Symbol("NotFound");function Fo(n){return n===KI||n?.name==="\u0275NotFound"}var gt=null,zu=!1,up=1,LN=null,xt=Symbol("SIGNAL");function oe(n){let e=gt;return gt=n,e}function Wu(){return gt}var Na={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ma(n){if(zu)throw new Error("");if(gt===null)return;gt.consumerOnSignalRead(n);let e=gt.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=gt.recomputing;if(r&&(t=e!==void 0?e.nextProducer:gt.producers,t!==void 0&&t.producer===n)){gt.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===gt&&(!r||jN(i,gt)))return;let o=Lo(gt),s={producer:n,consumer:gt,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};gt.producersTail=s,e!==void 0?e.nextProducer=s:gt.producers=s,o&&JI(n,s)}function QI(){up++}function lp(n){if(!(Lo(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===up)){if(!n.producerMustRecompute(n)&&!xa(n)){Gu(n);return}n.producerRecomputeValue(n),Gu(n)}}function dp(n){if(n.consumers===void 0)return;let e=zu;zu=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||VN(r)}}finally{zu=e}}function hp(){return gt?.consumerAllowSignalWrites!==!1}function VN(n){n.dirty=!0,dp(n),n.consumerMarkedDirty?.(n)}function Gu(n){n.dirty=!1,n.lastCleanEpoch=up}function Pa(n){return n&&YI(n),oe(n)}function YI(n){n.producersTail=void 0,n.recomputing=!0}function Ku(n,e){oe(e),n&&ZI(n)}function ZI(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(Lo(n))do t=fp(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function xa(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(lp(t),r!==t.version))return!0}return!1}function ka(n){if(Lo(n)){let e=n.producers;for(;e!==void 0;)e=fp(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function JI(n,e){let t=n.consumersTail,r=Lo(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)JI(i.producer,i)}function fp(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!Lo(e)){let o=e.producers;for(;o!==void 0;)o=fp(o)}return t}function Lo(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function pp(n){LN?.(n)}function jN(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function gp(n,e){return Object.is(n,e)}function UN(){throw new Error}var XI=UN;function ew(n){XI(n)}function mp(n){XI=n}var BN=null;function yp(n,e){let t=Object.create(Qu);t.value=n,e!==void 0&&(t.equal=e);let r=()=>tw(t);return r[xt]=t,pp(t),[r,s=>Vo(t,s),s=>vp(t,s)]}function tw(n){return Ma(n),n.value}function Vo(n,e){hp()||ew(n),n.equal(n.value,e)||(n.value=e,$N(n))}function vp(n,e){hp()||ew(n),Vo(n,e(n.value))}var Qu=ve(O({},Na),{equal:gp,value:void 0,kind:"signal"});function $N(n){n.version++,QI(),dp(n),BN?.(n)}function ne(n){return typeof n=="function"}function jo(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Yu=jo(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Ti(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ue=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ne(r))try{r()}catch(o){e=o instanceof Yu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{nw(o)}catch(s){e=e??[],s instanceof Yu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Yu(e)}}add(e){var t;if(e&&e!==this)if(this.closed)nw(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ti(t,e)}remove(e){let{_finalizers:t}=this;t&&Ti(t,e),e instanceof n&&e._removeParent(this)}};Ue.EMPTY=(()=>{let n=new Ue;return n.closed=!0,n})();var _p=Ue.EMPTY;function Zu(n){return n instanceof Ue||n&&"closed"in n&&ne(n.remove)&&ne(n.add)&&ne(n.unsubscribe)}function nw(n){ne(n)?n():n.unsubscribe()}var ln={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Uo={setTimeout(n,e,...t){let{delegate:r}=Uo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Uo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Ju(n){Uo.setTimeout(()=>{let{onUnhandledError:e}=ln;if(e)e(n);else throw n})}function Oa(){}var rw=Ep("C",void 0,void 0);function iw(n){return Ep("E",void 0,n)}function ow(n){return Ep("N",n,void 0)}function Ep(n,e,t){return{kind:n,value:e,error:t}}var Ci=null;function Bo(n){if(ln.useDeprecatedSynchronousErrorHandling){let e=!Ci;if(e&&(Ci={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Ci;if(Ci=null,t)throw r}}else n()}function sw(n){ln.useDeprecatedSynchronousErrorHandling&&Ci&&(Ci.errorThrown=!0,Ci.error=n)}var Si=class extends Ue{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Zu(e)&&e.add(this)):this.destination=zN}static create(e,t,r){return new $o(e,t,r)}next(e){this.isStopped?wp(ow(e),this):this._next(e)}error(e){this.isStopped?wp(iw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?wp(rw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},HN=Function.prototype.bind;function Ip(n,e){return HN.call(n,e)}var Dp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Xu(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Xu(r)}else Xu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Xu(t)}}},$o=class extends Si{constructor(e,t,r){super();let i;if(ne(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&ln.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ip(e.next,o),error:e.error&&Ip(e.error,o),complete:e.complete&&Ip(e.complete,o)}):i=e}this.destination=new Dp(i)}};function Xu(n){ln.useDeprecatedSynchronousErrorHandling?sw(n):Ju(n)}function qN(n){throw n}function wp(n,e){let{onStoppedNotification:t}=ln;t&&Uo.setTimeout(()=>t(n,e))}var zN={closed:!0,next:Oa,error:qN,complete:Oa};var Ho=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Bt(n){return n}function el(...n){return bp(n)}function bp(n){return n.length===0?Bt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var se=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=WN(t)?t:new $o(t,r,i);return Bo(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=aw(r),new r((i,o)=>{let s=new $o({next:c=>{try{t(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Ho](){return this}pipe(...t){return bp(t)(this)}toPromise(t){return t=aw(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function aw(n){var e;return(e=n??ln.Promise)!==null&&e!==void 0?e:Promise}function GN(n){return n&&ne(n.next)&&ne(n.error)&&ne(n.complete)}function WN(n){return n&&n instanceof Si||GN(n)&&Zu(n)}function Tp(n){return ne(n?.lift)}function fe(n){return e=>{if(Tp(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function pe(n,e,t,r,i){return new Cp(n,e,t,r,i)}var Cp=class extends Si{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(c){try{t(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function qo(){return fe((n,e)=>{let t=null;n._refCount++;let r=pe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var zo=class extends se{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Tp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ue;let t=this.getSubject();e.add(this.source.subscribe(pe(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ue.EMPTY)}return e}refCount(){return qo()(this)}};var cw=jo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var rt=(()=>{class n extends se{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new tl(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new cw}next(t){Bo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Bo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Bo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?_p:(this.currentObservers=null,o.push(t),new Ue(()=>{this.currentObservers=null,Ti(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new se;return t.source=this,t}}return n.create=(e,t)=>new tl(e,t),n})(),tl=class extends rt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:_p}};var ut=class extends rt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Sp={now(){return(Sp.delegate||Date).now()},delegate:void 0};var nl=class extends Ue{constructor(e,t){super()}schedule(e,t=0){return this}};var Fa={setInterval(n,e,...t){let{delegate:r}=Fa;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Fa;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Go=class extends nl{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Fa.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Fa.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ti(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Wo=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Wo.now=Sp.now;var Ko=class extends Wo{constructor(e,t=Wo.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Ap=new Ko(Go);var rl=class extends Go{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var il=class extends Ko{};var Rp=new il(rl);var kt=new se(n=>n.complete());function uw(n){return n&&ne(n.schedule)}function lw(n){return n[n.length-1]}function dw(n){return ne(lw(n))?n.pop():void 0}function xr(n){return uw(lw(n))?n.pop():void 0}function Np(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function fw(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function c(f){try{l(r.next(f))}catch(p){s(p)}}function u(f){try{l(r.throw(f))}catch(p){s(p)}}function l(f){f.done?o(f.value):i(f.value).then(c,u)}l((r=r.apply(n,e||[])).next())})}function hw(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ai(n){return this instanceof Ai?(this.v=n,this):new Ai(n)}function pw(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(S){return Promise.resolve(S).then(y,p)}}function c(y,S){r[y]&&(i[y]=function(M){return new Promise(function(R,F){o.push([y,M,R,F])>1||u(y,M)})},S&&(i[y]=S(i[y])))}function u(y,S){try{l(r[y](S))}catch(M){m(o[0][3],M)}}function l(y){y.value instanceof Ai?Promise.resolve(y.value.v).then(f,p):m(o[0][2],y)}function f(y){u("next",y)}function p(y){u("throw",y)}function m(y,S){y(S),o.shift(),o.length&&u(o[0][0],o[0][1])}}function gw(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof hw=="function"?hw(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(c,u){s=n[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(l){o({value:l,done:c})},s)}}var ol=n=>n&&typeof n.length=="number"&&typeof n!="function";function sl(n){return ne(n?.then)}function al(n){return ne(n[Ho])}function cl(n){return Symbol.asyncIterator&&ne(n?.[Symbol.asyncIterator])}function ul(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function KN(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ll=KN();function dl(n){return ne(n?.[ll])}function hl(n){return pw(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Ai(t.read());if(i)return yield Ai(void 0);yield yield Ai(r)}}finally{t.releaseLock()}})}function fl(n){return ne(n?.getReader)}function it(n){if(n instanceof se)return n;if(n!=null){if(al(n))return QN(n);if(ol(n))return YN(n);if(sl(n))return ZN(n);if(cl(n))return mw(n);if(dl(n))return JN(n);if(fl(n))return XN(n)}throw ul(n)}function QN(n){return new se(e=>{let t=n[Ho]();if(ne(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function YN(n){return new se(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function ZN(n){return new se(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Ju)})}function JN(n){return new se(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function mw(n){return new se(e=>{eM(n,e).catch(t=>e.error(t))})}function XN(n){return mw(hl(n))}function eM(n,e){var t,r,i,o;return fw(this,void 0,void 0,function*(){try{for(t=gw(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Ot(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function kr(n,e=0){return fe((t,r)=>{t.subscribe(pe(r,i=>Ot(r,n,()=>r.next(i),e),()=>Ot(r,n,()=>r.complete(),e),i=>Ot(r,n,()=>r.error(i),e)))})}function Or(n,e=0){return fe((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function yw(n,e){return it(n).pipe(Or(e),kr(e))}function vw(n,e){return it(n).pipe(Or(e),kr(e))}function _w(n,e){return new se(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function Ew(n,e){return new se(t=>{let r;return Ot(t,e,()=>{r=n[ll](),Ot(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ne(r?.return)&&r.return()})}function pl(n,e){if(!n)throw new Error("Iterable cannot be null");return new se(t=>{Ot(t,e,()=>{let r=n[Symbol.asyncIterator]();Ot(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Iw(n,e){return pl(hl(n),e)}function ww(n,e){if(n!=null){if(al(n))return yw(n,e);if(ol(n))return _w(n,e);if(sl(n))return vw(n,e);if(cl(n))return pl(n,e);if(dl(n))return Ew(n,e);if(fl(n))return Iw(n,e)}throw ul(n)}function Oe(n,e){return e?ww(n,e):it(n)}function W(...n){let e=xr(n);return Oe(n,e)}function Qo(n,e){let t=ne(n)?n:()=>n,r=i=>i.error(t());return new se(e?i=>e.schedule(r,0,i):r)}function Mp(n){return!!n&&(n instanceof se||ne(n.lift)&&ne(n.subscribe))}var er=jo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ce(n,e){return fe((t,r)=>{let i=0;t.subscribe(pe(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:tM}=Array;function nM(n,e){return tM(e)?n(...e):n(e)}function Dw(n){return ce(e=>nM(n,e))}var{isArray:rM}=Array,{getPrototypeOf:iM,prototype:oM,keys:sM}=Object;function bw(n){if(n.length===1){let e=n[0];if(rM(e))return{args:e,keys:null};if(aM(e)){let t=sM(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function aM(n){return n&&typeof n=="object"&&iM(n)===oM}function Tw(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function La(...n){let e=xr(n),t=dw(n),{args:r,keys:i}=bw(n);if(r.length===0)return Oe([],e);let o=new se(cM(r,e,i?s=>Tw(i,s):Bt));return t?o.pipe(Dw(t)):o}function cM(n,e,t=Bt){return r=>{Cw(e,()=>{let{length:i}=n,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)Cw(e,()=>{let l=Oe(n[u],e),f=!1;l.subscribe(pe(r,p=>{o[u]=p,f||(f=!0,c--),c||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Cw(n,e,t){n?Ot(t,n,e):e()}function Sw(n,e,t,r,i,o,s,c){let u=[],l=0,f=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=M=>l<r?S(M):u.push(M),S=M=>{o&&e.next(M),l++;let R=!1;it(t(M,f++)).subscribe(pe(e,F=>{i?.(F),o?y(F):e.next(F)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let F=u.shift();s?Ot(e,s,()=>S(F)):S(F)}m()}catch(F){e.error(F)}}))};return n.subscribe(pe(e,y,()=>{p=!0,m()})),()=>{c?.()}}function $e(n,e,t=1/0){return ne(e)?$e((r,i)=>ce((o,s)=>e(r,o,i,s))(it(n(r,i))),t):(typeof e=="number"&&(t=e),fe((r,i)=>Sw(r,i,n,t)))}function Yo(n=1/0){return $e(Bt,n)}function Aw(){return Yo(1)}function Zo(...n){return Aw()(Oe(n,xr(n)))}function Va(n){return new se(e=>{it(n()).subscribe(e)})}function Ct(n,e){return fe((t,r)=>{let i=0;t.subscribe(pe(r,o=>n.call(e,o,i++)&&r.next(o)))})}function tr(n){return fe((e,t)=>{let r=null,i=!1,o;r=e.subscribe(pe(t,void 0,void 0,s=>{o=it(n(s,tr(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Rw(n,e,t,r,i){return(o,s)=>{let c=t,u=e,l=0;o.subscribe(pe(s,f=>{let p=l++;u=c?n(u,f,p):(c=!0,f),r&&s.next(u)},i&&(()=>{c&&s.next(u),s.complete()})))}}function Fr(n,e){return ne(e)?$e(n,e,1):$e(n,1)}function Lr(n){return fe((e,t)=>{let r=!1;e.subscribe(pe(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function nr(n){return n<=0?()=>kt:fe((e,t)=>{let r=0;e.subscribe(pe(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function gl(n=uM){return fe((e,t)=>{let r=!1;e.subscribe(pe(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function uM(){return new er}function ja(n){return fe((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function rr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ct((i,o)=>n(i,o,r)):Bt,nr(1),t?Lr(e):gl(()=>new er))}function Jo(n){return n<=0?()=>kt:fe((e,t)=>{let r=[];e.subscribe(pe(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Pp(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ct((i,o)=>n(i,o,r)):Bt,Jo(1),t?Lr(e):gl(()=>new er))}function ml(n,e){return fe(Rw(n,e,arguments.length>=2,!0))}function yl(...n){let e=xr(n);return fe((t,r)=>{(e?Zo(n,t,e):Zo(n,t)).subscribe(r)})}function St(n,e){return fe((t,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();t.subscribe(pe(r,u=>{i?.unsubscribe();let l=0,f=o++;it(n(u,f)).subscribe(i=pe(r,p=>r.next(e?e(u,p,f,l++):p),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function vl(n){return fe((e,t)=>{it(n).subscribe(pe(t,()=>t.complete(),Oa)),!t.closed&&e.subscribe(t)})}function ot(n,e,t){let r=ne(n)||e||t?{next:n,error:e,complete:t}:n;return r?fe((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(pe(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Bt}function Nw(n){let e=oe(null);try{return n()}finally{oe(e)}}var Vr=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},zp=new Vr("20.3.15");var Dl="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",V=class extends Error{code;constructor(e,t){super($r(e,t)),this.code=e}};function lM(n){return`NG0${Math.abs(n)}`}function $r(n,e){return`${lM(n)}${e?": "+e:""}`}var sr=globalThis;function Ie(n){for(let e in n)if(n[e]===Ie)return e;throw Error("")}function jr(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(jr).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Gp(n,e){return n?e?`${n} ${e}`:n:e||""}var dM=Ie({__forward_ref__:Ie});function Ha(n){return n.__forward_ref__=Ha,n.toString=function(){return jr(this())},n}function Ft(n){return Wp(n)?n():n}function Wp(n){return typeof n=="function"&&n.hasOwnProperty(dM)&&n.__forward_ref__===Ha}function H(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function fn(n){return{providers:n.providers||[],imports:n.imports||[]}}function qa(n){return hM(n,bl)}function Kp(n){return qa(n)!==null}function hM(n,e){return n.hasOwnProperty(e)&&n[e]||null}function fM(n){let e=n?.[bl]??null;return e||null}function kp(n){return n&&n.hasOwnProperty(El)?n[El]:null}var bl=Ie({\u0275prov:Ie}),El=Ie({\u0275inj:Ie}),U=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=H({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Qp(n){return n&&!!n.\u0275providers}var Yp=Ie({\u0275cmp:Ie}),Zp=Ie({\u0275dir:Ie}),Jp=Ie({\u0275pipe:Ie}),Xp=Ie({\u0275mod:Ie}),Ba=Ie({\u0275fac:Ie}),Pi=Ie({__NG_ELEMENT_ID__:Ie}),Pw=Ie({__NG_ENV_ID__:Ie});function za(n){return typeof n=="string"?n:n==null?"":String(n)}function kw(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():za(n)}var Ow=Ie({ngErrorCode:Ie}),pM=Ie({ngErrorMessage:Ie}),gM=Ie({ngTokenPath:Ie});function eg(n,e){return Fw("",-200,e)}function Tl(n,e){throw new V(-201,!1)}function Fw(n,e,t){let r=new V(e,n);return r[Ow]=e,r[pM]=n,t&&(r[gM]=t),r}function mM(n){return n[Ow]}var Op;function Lw(){return Op}function At(n){let e=Op;return Op=n,e}function tg(n,e,t){let r=qa(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;Tl(n,"Injector")}var yM={},Ri=yM,Fp="__NG_DI_FLAG__",Lp=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Ni(t)||0;try{return this.injector.get(e,r&8?null:Ri,r)}catch(i){if(Fo(i))return i;throw i}}};function vM(n,e=0){let t=qu();if(t===void 0)throw new V(-203,!1);if(t===null)return tg(n,void 0,e);{let r=_M(e),i=t.retrieve(n,r);if(Fo(i)){if(r.optional)return null;throw i}return i}}function K(n,e=0){return(Lw()||vM)(Ft(n),e)}function N(n,e){return K(n,Ni(e))}function Ni(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function _M(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function Vp(n){let e=[];for(let t=0;t<n.length;t++){let r=Ft(n[t]);if(Array.isArray(r)){if(r.length===0)throw new V(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let c=r[s],u=EM(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(K(i,o))}else e.push(K(r))}return e}function Vw(n,e){return n[Fp]=e,n.prototype[Fp]=e,n}function EM(n){return n[Fp]}function Ur(n,e){let t=n.hasOwnProperty(Ba);return t?n[Ba]:null}function Cl(n,e){n.forEach(t=>Array.isArray(t)?Cl(t,e):e(t))}function ng(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Ga(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}var xi={},dn=[],ar=new U(""),rg=new U("",-1),ig=new U(""),$a=class{get(e,t=Ri){if(t===Ri){let i=Fw("",-201);throw i.name="\u0275NotFound",i}return t}};function og(n){return n[Xp]||null}function cr(n){return n[Yp]||null}function sg(n){return n[Zp]||null}function jw(n){return n[Jp]||null}function Yt(n){return{\u0275providers:n}}function Uw(n){return Yt([{provide:ar,multi:!0,useValue:n}])}function Bw(...n){return{\u0275providers:ag(!0,n),\u0275fromNgModule:!0}}function ag(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Cl(e,s=>{let c=s;Il(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&$w(i,o),t}function $w(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];cg(i,o=>{e(o,r)})}}function Il(n,e,t,r){if(n=Ft(n),!n)return!1;let i=null,o=kp(n),s=!o&&cr(n);if(!o&&!s){let u=n.ngModule;if(o=kp(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Il(l,e,t,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let l;try{Cl(o.imports,f=>{Il(f,e,t,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&$w(l,e)}if(!c){let l=Ur(i)||(()=>new i);e({provide:i,useFactory:l,deps:dn},i),e({provide:ig,useValue:i,multi:!0},i),e({provide:ar,useValue:()=>K(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let l=n;cg(u,f=>{e(f,l)})}}else return!1;return i!==n&&n.providers!==void 0}function cg(n,e){for(let t of n)Qp(t)&&(t=t.\u0275providers),Array.isArray(t)?cg(t,e):e(t)}var IM=Ie({provide:String,useValue:Ie});function Hw(n){return n!==null&&typeof n=="object"&&IM in n}function wM(n){return!!(n&&n.useExisting)}function DM(n){return!!(n&&n.useFactory)}function wl(n){return typeof n=="function"}var Wa=new U(""),_l={},xw={},xp;function Ka(){return xp===void 0&&(xp=new $a),xp}var He=class{},Mi=class extends He{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Up(e,s=>this.processProvider(s)),this.records.set(rg,Xo(void 0,this)),i.has("environment")&&this.records.set(He,Xo(void 0,this));let o=this.records.get(Wa);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(ig,dn,{self:!0}))}retrieve(e,t){let r=Ni(t)||0;try{return this.get(e,Ri,r)}catch(i){if(Fo(i))return i;throw i}}destroy(){Ua(this),this._destroyed=!0;let e=oe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),oe(e)}}onDestroy(e){return Ua(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ua(this);let t=Nn(this),r=At(void 0),i;try{return e()}finally{Nn(t),At(r)}}get(e,t=Ri,r){if(Ua(this),e.hasOwnProperty(Pw))return e[Pw](this);let i=Ni(r),o,s=Nn(this),c=At(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let f=AM(e)&&qa(e);f&&this.injectableDefInScope(f)?l=Xo(jp(e),_l):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?Ka():this.parent;return t=i&8&&t===Ri?null:t,u.get(e,t)}catch(u){let l=mM(u);throw l===-200||l===-201?new V(l,null):u}finally{At(c),Nn(s)}}resolveInjectorInitializers(){let e=oe(null),t=Nn(this),r=At(void 0),i;try{let o=this.get(ar,dn,{self:!0});for(let s of o)s()}finally{Nn(t),At(r),oe(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(jr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Ft(e);let t=wl(e)?e:Ft(e&&e.provide),r=TM(e);if(!wl(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Xo(void 0,_l,!0),i.factory=()=>Vp(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=oe(null);try{if(t.value===xw)throw eg(jr(e));return t.value===_l&&(t.value=xw,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&SM(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{oe(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Ft(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function jp(n){let e=qa(n),t=e!==null?e.factory:Ur(n);if(t!==null)return t;if(n instanceof U)throw new V(204,!1);if(n instanceof Function)return bM(n);throw new V(204,!1)}function bM(n){if(n.length>0)throw new V(204,!1);let t=fM(n);return t!==null?()=>t.factory(n):()=>new n}function TM(n){if(Hw(n))return Xo(void 0,n.useValue);{let e=qw(n);return Xo(e,_l)}}function qw(n,e,t){let r;if(wl(n)){let i=Ft(n);return Ur(i)||jp(i)}else if(Hw(n))r=()=>Ft(n.useValue);else if(DM(n))r=()=>n.useFactory(...Vp(n.deps||[]));else if(wM(n))r=(i,o)=>K(Ft(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Ft(n&&(n.useClass||n.provide));if(CM(n))r=()=>new i(...Vp(n.deps));else return Ur(i)||jp(i)}return r}function Ua(n){if(n.destroyed)throw new V(205,!1)}function Xo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function CM(n){return!!n.deps}function SM(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function AM(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Up(n,e){for(let t of n)Array.isArray(t)?Up(t,e):t&&Qp(t)?Up(t.\u0275providers,e):e(t)}function Ke(n,e){let t;n instanceof Mi?(Ua(n),t=n):t=new Lp(n);let r,i=Nn(t),o=At(void 0);try{return e()}finally{Nn(i),At(o)}}function zw(){return Lw()!==void 0||qu()!=null}var pn=0,ie=1,J=2,lt=3,Zt=4,Jt=5,Qa=6,es=7,mt=8,Hr=9,Mn=10,et=11,ts=12,ug=13,ki=14,Xt=15,Oi=16,Fi=17,Li=18,Ya=19,lg=20,ir=21,Sl=22,Za=23,$t=24,Vi=25,Ja=26,Rt=27,Gw=1;var qr=7,Xa=8,ec=9,Lt=10;function Pn(n){return Array.isArray(n)&&typeof n[Gw]=="object"}function gn(n){return Array.isArray(n)&&n[Gw]===!0}function dg(n){return(n.flags&4)!==0}function zr(n){return n.componentOffset>-1}function tc(n){return(n.flags&1)===1}function ji(n){return!!n.template}function ns(n){return(n[J]&512)!==0}function Ui(n){return(n[J]&256)===256}var Ww="svg",Kw="math";function en(n){for(;Array.isArray(n);)n=n[pn];return n}function Qw(n,e){return en(e[n])}function mn(n,e){return en(e[n.index])}function Al(n,e){return n.data[e]}function Yw(n,e){return n[e]}function hg(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function tn(n,e){let t=e[n];return Pn(t)?t:t[pn]}function Rl(n){return(n[J]&128)===128}function Zw(n){return gn(n[lt])}function nc(n,e){return e==null?null:n[e]}function fg(n){n[Fi]=0}function pg(n){n[J]&1024||(n[J]|=1024,Rl(n)&&rs(n))}function Jw(n,e){for(;n>0;)e=e[ki],n--;return e}function rc(n){return!!(n[J]&9216||n[$t]?.dirty)}function Nl(n){n[Mn].changeDetectionScheduler?.notify(8),n[J]&64&&(n[J]|=1024),rc(n)&&rs(n)}function rs(n){n[Mn].changeDetectionScheduler?.notify(0);let e=Br(n);for(;e!==null&&!(e[J]&8192||(e[J]|=8192,!Rl(e)));)e=Br(e)}function gg(n,e){if(Ui(n))throw new V(911,!1);n[ir]===null&&(n[ir]=[]),n[ir].push(e)}function Xw(n,e){if(n[ir]===null)return;let t=n[ir].indexOf(e);t!==-1&&n[ir].splice(t,1)}function Br(n){let e=n[lt];return gn(e)?e[lt]:e}function eD(n){return n[es]??=[]}function tD(n){return n.cleanup??=[]}var he={lFrame:mD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Bp=!1;function nD(){return he.lFrame.elementDepthCount}function rD(){he.lFrame.elementDepthCount++}function iD(){he.lFrame.elementDepthCount--}function mg(){return he.bindingsEnabled}function oD(){return he.skipHydrationRootTNode!==null}function sD(n){return he.skipHydrationRootTNode===n}function aD(){he.skipHydrationRootTNode=null}function xe(){return he.lFrame.lView}function ur(){return he.lFrame.tView}function be(n){return he.lFrame.contextLView=n,n[mt]}function Te(n){return he.lFrame.contextLView=null,n}function Vt(){let n=yg();for(;n!==null&&n.type===64;)n=n.parent;return n}function yg(){return he.lFrame.currentTNode}function cD(){let n=he.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function is(n,e){let t=he.lFrame;t.currentTNode=n,t.isParent=e}function vg(){return he.lFrame.isParent}function uD(){he.lFrame.isParent=!1}function _g(){return Bp}function Eg(n){let e=Bp;return Bp=n,e}function lD(){let n=he.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function dD(n){return he.lFrame.bindingIndex=n}function Ml(){return he.lFrame.bindingIndex++}function hD(){return he.lFrame.inI18n}function fD(n,e){let t=he.lFrame;t.bindingIndex=t.bindingRootIndex=n,Pl(e)}function pD(){return he.lFrame.currentDirectiveIndex}function Pl(n){he.lFrame.currentDirectiveIndex=n}function Ig(n){he.lFrame.currentQueryIndex=n}function RM(n){let e=n[ie];return e.type===2?e.declTNode:e.type===1?n[Jt]:null}function wg(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=RM(o),i===null||(o=o[ki],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=he.lFrame=gD();return r.currentTNode=e,r.lView=n,!0}function xl(n){let e=gD(),t=n[ie];he.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function gD(){let n=he.lFrame,e=n===null?null:n.child;return e===null?mD(n):e}function mD(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function yD(){let n=he.lFrame;return he.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Dg=yD;function kl(){let n=yD();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function vD(n){return(he.lFrame.contextLView=Jw(n,he.lFrame.contextLView))[mt]}function Ol(){return he.lFrame.selectedIndex}function Gr(n){he.lFrame.selectedIndex=n}function bg(){let n=he.lFrame;return Al(n.tView,n.selectedIndex)}function _D(){return he.lFrame.currentNamespace}var ED=!0;function Fl(){return ED}function Ll(n){ED=n}function $p(n,e=null,t=null,r){let i=Tg(n,e,t,r);return i.resolveInjectorInitializers(),i}function Tg(n,e=null,t=null,r,i=new Set){let o=[t||dn,Bw(n)];return r=r||(typeof n=="object"?void 0:jr(n)),new Mi(o,e||Ka(),r||null,i)}var We=class n{static THROW_IF_NOT_FOUND=Ri;static NULL=new $a;static create(e,t){if(Array.isArray(e))return $p({name:""},t,e,"");{let r=e.name??"";return $p({name:r},e.parent,e.providers,r)}}static \u0275prov=H({token:n,providedIn:"any",factory:()=>K(rg)});static __NG_ELEMENT_ID__=-1},qe=new U(""),yn=(()=>{class n{static __NG_ELEMENT_ID__=NM;static __NG_ENV_ID__=t=>t}return n})(),Hp=class extends yn{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Ui(this._lView)}onDestroy(e){let t=this._lView;return gg(t,e),()=>Xw(t,e)}};function NM(){return new Hp(xe())}var hn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Nt=new U("",{providedIn:"root",factory:()=>{let n=N(He),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(hn),e.handleError(t))}}}),ID={provide:ar,useValue:()=>void N(hn),multi:!0},MM=new U("",{providedIn:"root",factory:()=>{let n=N(qe).defaultView;if(!n)return;let e=N(Nt),t=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),N(yn).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function Cg(){return Yt([Uw(()=>void N(MM))])}function ge(n,e){let[t,r,i]=yp(n,e?.equal),o=t,s=o[xt];return o.set=r,o.update=i,o.asReadonly=wD.bind(o),o}function wD(){let n=this[xt];if(n.readonlyFn===void 0){let e=()=>this();e[xt]=n,n.readonlyFn=e}return n.readonlyFn}var Vl=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=PM}return n})();function PM(){return new Vl(xe(),Vt())}var or=class{},ic=new U("",{providedIn:"root",factory:()=>!1});var Sg=new U(""),Ag=new U(""),xn=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new ut(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new se(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})(),os=(()=>{class n{internalPendingTasks=N(xn);scheduler=N(or);errorHandler=N(Nt);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})();function oc(...n){}var Rg=(()=>{class n{static \u0275prov=H({token:n,providedIn:"root",factory:()=>new qp})}return n})(),qp=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function ls(n){return{toString:n}.toString()}var jl="__parameters__";function BM(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function $M(n,e,t){return ls(()=>{let r=BM(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,l,f){let p=u.hasOwnProperty(jl)?u[jl]:Object.defineProperty(u,jl,{value:[]})[jl];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var dr=Vw($M("Optional"),8);function HM(n){return typeof n=="function"}var zl=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function XD(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var zi=(()=>{let n=()=>eb;return n.ngInherit=!0,n})();function eb(n){return n.type.prototype.ngOnChanges&&(n.setInput=zM),qM}function qM(){let n=nb(this),e=n?.current;if(e){let t=n.previous;if(t===xi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function zM(n,e,t,r,i){let o=this.declaredInputs[r],s=nb(n)||GM(n,{previous:xi,current:null}),c=s.current||(s.current={}),u=s.previous,l=u[o];c[o]=new zl(l&&l.currentValue,t,u===xi),XD(n,e,i,t)}var tb="__ngSimpleChanges__";function nb(n){return n[tb]||null}function GM(n,e){return n[tb]=e}var DD=[];var Ce=function(n,e=null,t){for(let r=0;r<DD.length;r++){let i=DD[r];i(n,e,t)}};function WM(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=eb(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function rb(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=o;s&&(n.contentHooks??=[]).push(-t,s),c&&((n.contentHooks??=[]).push(t,c),(n.contentCheckHooks??=[]).push(t,c)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),f!=null&&(n.destroyHooks??=[]).push(t,f)}}function $l(n,e,t){ib(n,e,3,t)}function Hl(n,e,t,r){(n[J]&3)===t&&ib(n,e,t,r)}function Ng(n,e){let t=n[J];(t&3)===e&&(t&=16383,t+=1,n[J]=t)}function ib(n,e,t,r){let i=r!==void 0?n[Fi]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(n[Fi]+=65536),(c<o||o==-1)&&(KM(n,t,e,u),n[Fi]=(n[Fi]&4294901760)+u+2),u++}function bD(n,e){Ce(4,n,e);let t=oe(null);try{e.call(n)}finally{oe(t),Ce(5,n,e)}}function KM(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],c=n[s];i?n[J]>>14<n[Fi]>>16&&(n[J]&3)===e&&(n[J]+=16384,bD(c,o)):bD(c,o)}var as=-1,cc=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function QM(n){return(n.flags&8)!==0}function YM(n){return(n.flags&16)!==0}function ZM(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],c=t[r++];n.setAttribute(e,s,c,o)}else{let o=i,s=t[++r];JM(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function ob(n){return n===3||n===4||n===6}function JM(n){return n.charCodeAt(0)===64}function Zg(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?TD(n,t,i,null,e[++r]):TD(n,t,i,null,null))}}return n}function TD(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let c=n[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<n.length;){let c=n[o];if(typeof c=="number")break;if(c===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function sb(n){return n!==as}function Gl(n){return n&32767}function XM(n){return n>>16}function Wl(n,e){let t=XM(n),r=e;for(;t>0;)r=r[ki],t--;return r}var Fg=!0;function Kl(n){let e=Fg;return Fg=n,e}var eP=256,ab=eP-1,cb=5,tP=0,kn={};function nP(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Pi)&&(r=t[Pi]),r==null&&(r=t[Pi]=tP++);let i=r&ab,o=1<<i;e.data[n+(i>>cb)]|=o}function ub(n,e){let t=lb(n,e);if(t!==-1)return t;let r=e[ie];r.firstCreatePass&&(n.injectorIndex=e.length,Mg(r.data,n),Mg(e,null),Mg(r.blueprint,null));let i=Jg(n,e),o=n.injectorIndex;if(sb(i)){let s=Gl(i),c=Wl(i,e),u=c[ie].data;for(let l=0;l<8;l++)e[o+l]=c[s+l]|u[s+l]}return e[o+8]=i,o}function Mg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function lb(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Jg(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=gb(i),r===null)return as;if(t++,i=i[ki],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return as}function rP(n,e,t){nP(n,e,t)}function iP(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(ob(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function db(n,e,t){if(t&8||n!==void 0)return n;Tl(e,"NodeInjector")}function hb(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[Hr],o=At(void 0);try{return i?i.get(e,r,t&8):tg(e,r,t&8)}finally{At(o)}}return db(r,e,t)}function fb(n,e,t,r=0,i){if(n!==null){if(e[J]&2048&&!(r&2)){let s=uP(n,e,t,r,kn);if(s!==kn)return s}let o=pb(n,e,t,r,kn);if(o!==kn)return o}return hb(e,t,r,i)}function pb(n,e,t,r,i){let o=aP(t);if(typeof o=="function"){if(!wg(e,n,r))return r&1?db(i,t,r):hb(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Tl(t);else return s}finally{Dg()}}else if(typeof o=="number"){let s=null,c=lb(n,e),u=as,l=r&1?e[Xt][Jt]:null;for((c===-1||r&4)&&(u=c===-1?Jg(n,e):e[c+8],u===as||!SD(r,!1)?c=-1:(s=e[ie],c=Gl(u),e=Wl(u,e)));c!==-1;){let f=e[ie];if(CD(o,c,f.data)){let p=oP(c,e,t,s,r,l);if(p!==kn)return p}u=e[c+8],u!==as&&SD(r,e[ie].data[c+8]===l)&&CD(o,c,e)?(s=f,c=Gl(u),e=Wl(u,e)):c=-1}}return i}function oP(n,e,t,r,i,o){let s=e[ie],c=s.data[n+8],u=r==null?zr(c)&&Fg:r!=s&&(c.type&3)!==0,l=i&1&&o===c,f=sP(c,s,t,u,l);return f!==null?Lg(e,s,f,c,i):kn}function sP(n,e,t,r,i){let o=n.providerIndexes,s=e.data,c=o&1048575,u=n.directiveStart,l=n.directiveEnd,f=o>>20,p=r?c:c+f,m=i?c+f:l;for(let y=p;y<m;y++){let S=s[y];if(y<u&&t===S||y>=u&&S.type===t)return y}if(i){let y=s[u];if(y&&ji(y)&&y.type===t)return u}return null}function Lg(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof cc){let c=o;if(c.resolving){let y=kw(s[t]);throw eg(y)}let u=Kl(c.canSeeViewProviders);c.resolving=!0;let l=s[t].type||s[t],f,p=c.injectImpl?At(c.injectImpl):null,m=wg(n,r,0);try{o=n[t]=c.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&WM(t,s[t],e)}finally{p!==null&&At(p),Kl(u),c.resolving=!1,Dg()}}return o}function aP(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Pi)?n[Pi]:void 0;return typeof e=="number"?e>=0?e&ab:cP:e}function CD(n,e,t){let r=1<<n;return!!(t[e+(n>>cb)]&r)}function SD(n,e){return!(n&2)&&!(n&1&&e)}var Bi=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return fb(this._tNode,this._lView,e,Ni(r),t)}};function cP(){return new Bi(Vt(),xe())}function hc(n){return ls(()=>{let e=n.prototype.constructor,t=e[Ba]||Vg(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Ba]||Vg(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Vg(n){return Wp(n)?()=>{let e=Vg(Ft(n));return e&&e()}:Ur(n)}function uP(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[J]&2048&&!ns(s);){let c=pb(o,s,t,r|2,kn);if(c!==kn)return c;let u=o.parent;if(!u){let l=s[lg];if(l){let f=l.get(t,kn,r);if(f!==kn)return f}u=gb(s),s=s[ki]}o=u}return i}function gb(n){let e=n[ie],t=e.type;return t===2?e.declTNode:t===1?n[Jt]:null}function fc(n){return iP(Vt(),n)}function lP(){return od(Vt(),xe())}function od(n,e){return new Gi(mn(n,e))}var Gi=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=lP}return n})();function mb(n){return(n.flags&128)===128}var Xg=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(Xg||{}),yb=new Map,dP=0;function hP(){return dP++}function fP(n){yb.set(n[Ya],n)}function jg(n){yb.delete(n[Ya])}var AD="__ngContext__";function cs(n,e){Pn(e)?(n[AD]=e[Ya],fP(e)):n[AD]=e}function vb(n){return Eb(n[ts])}function _b(n){return Eb(n[Zt])}function Eb(n){for(;n!==null&&!gn(n);)n=n[Zt];return n}var Ug;function em(n){Ug=n}function Ib(){if(Ug!==void 0)return Ug;if(typeof document<"u")return document;throw new V(210,!1)}var sd=new U("",{providedIn:"root",factory:()=>pP}),pP="ng",ad=new U(""),Wi=new U("",{providedIn:"platform",factory:()=>"unknown"});var cd=new U("",{providedIn:"root",factory:()=>Ib().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var gP="h",mP="b";var wb=!1,Db=new U("",{providedIn:"root",factory:()=>wb});var tm=new U("");var yP=(n,e,t,r)=>{};function vP(n,e,t,r){yP(n,e,t,r)}function nm(n){return(n.flags&32)===32}var _P=()=>null;function bb(n,e,t=!1){return _P(n,e,t)}function Tb(n,e){let t=n.contentQueries;if(t!==null){let r=oe(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let c=n.data[s];Ig(o),c.contentQueries(2,e[s],s)}}}finally{oe(r)}}}function Bg(n,e,t){Ig(0);let r=oe(null);try{e(n,t)}finally{oe(r)}}function Cb(n,e,t){if(dg(e)){let r=oe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=n.data[s];if(c.contentQueries){let u=t[s];c.contentQueries(1,u,s)}}}finally{oe(r)}}}var lr=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(lr||{});var Ul;function EP(){if(Ul===void 0&&(Ul=null,sr.trustedTypes))try{Ul=sr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ul}function RD(n){return EP()?.createScriptURL(n)||n}var Ql=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Dl})`}};function ud(n){return n instanceof Ql?n.changingThisBreaksApplicationSecurity:n}function rm(n,e){let t=Sb(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Dl})`)}return t===e}function Sb(n){return n instanceof Ql&&n.getTypeName()||null}var IP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ab(n){return n=String(n),n.match(IP)?n:"unsafe:"+n}function wP(n,e){return n.createText(e)}function DP(n,e,t){n.setValue(e,t)}function Rb(n,e,t){return n.createElement(e,t)}function Yl(n,e,t,r,i){n.insertBefore(e,t,r,i)}function Nb(n,e,t){n.appendChild(e,t)}function ND(n,e,t,r,i){r!==null?Yl(n,e,t,r,i):Nb(n,e,t)}function bP(n,e,t,r){n.removeChild(null,e,t,r)}function TP(n,e,t){n.setAttribute(e,"style",t)}function CP(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Mb(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&ZM(n,e,r),i!==null&&CP(n,e,i),o!==null&&TP(n,e,o)}var ld=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(ld||{});function Pb(n){let e=kb();return e?e.sanitize(ld.URL,n)||"":rm(n,"URL")?ud(n):Ab(za(n))}function xb(n){let e=kb();if(e)return RD(e.sanitize(ld.RESOURCE_URL,n)||"");if(rm(n,"ResourceURL"))return RD(ud(n));throw new V(904,!1)}function SP(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?xb:Pb}function im(n,e,t){return SP(e,t)(n)}function kb(){let n=xe();return n&&n[Mn].sanitizer}function Ob(n){return n instanceof Function?n():n}function AP(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var Fb="ng-template";function RP(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&AP(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(om(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function om(n){return n.type===4&&n.value!==Fb}function NP(n,e,t){let r=n.type===4&&!t?Fb:n.value;return e===r}function MP(n,e,t){let r=4,i=n.attrs,o=i!==null?kP(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!vn(r)&&!vn(u))return!1;if(s&&vn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!NP(n,u,t)||u===""&&e.length===1){if(vn(r))return!1;s=!0}}else if(r&8){if(i===null||!RP(n,i,u,t)){if(vn(r))return!1;s=!0}}else{let l=e[++c],f=PP(u,i,om(n),t);if(f===-1){if(vn(r))return!1;s=!0;continue}if(l!==""){let p;if(f>o?p="":p=i[f+1].toLowerCase(),r&2&&l!==p){if(vn(r))return!1;s=!0}}}}return vn(r)||s}function vn(n){return(n&1)===0}function PP(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return OP(e,n)}function xP(n,e,t=!1){for(let r=0;r<e.length;r++)if(MP(n,e[r],t))return!0;return!1}function kP(n){for(let e=0;e<n.length;e++){let t=n[e];if(ob(t))return e}return n.length}function OP(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function MD(n,e){return n?":not("+e.trim()+")":e}function FP(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let c=n[++t];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!vn(s)&&(e+=MD(o,i),i=""),r=s,o=o||!vn(r);t++}return i!==""&&(e+=MD(o,i)),e}function LP(n){return n.map(FP).join(",")}function VP(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!vn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Ki={};function sm(n,e,t,r,i,o,s,c,u,l,f){let p=Rt+r,m=p+i,y=jP(p,m),S=typeof l=="function"?l():l;return y[ie]={type:n,blueprint:y,template:t,queries:null,viewQuery:c,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:f}}function jP(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Ki);return t}function UP(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=sm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function am(n,e,t,r,i,o,s,c,u,l,f){let p=e.blueprint.slice();return p[pn]=i,p[J]=r|4|128|8|64|1024,(l!==null||n&&n[J]&2048)&&(p[J]|=2048),fg(p),p[lt]=p[ki]=n,p[mt]=t,p[Mn]=s||n&&n[Mn],p[et]=c||n&&n[et],p[Hr]=u||n&&n[Hr]||null,p[Jt]=o,p[Ya]=hP(),p[Qa]=f,p[lg]=l,p[Xt]=e.type==2?n[Xt]:p,p}function BP(n,e,t){let r=mn(e,n),i=UP(t),o=n[Mn].rendererFactory,s=cm(n,am(n,i,null,Lb(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function Lb(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function Vb(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function cm(n,e){return n[ts]?n[ug][Zt]=e:n[ts]=e,n[ug]=e,e}function Y(n=1){jb(ur(),xe(),Ol()+n,!1)}function jb(n,e,t,r){if(!r)if((e[J]&3)===3){let o=n.preOrderCheckHooks;o!==null&&$l(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Hl(e,o,0,t)}Gr(t)}var dd=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(dd||{});function $g(n,e,t,r){let i=oe(null);try{let[o,s,c]=n.inputs[t],u=null;(s&dd.SignalBased)!==0&&(u=e[o][xt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):c!==null&&(r=c.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):XD(e,u,o,r)}finally{oe(i)}}var Kr=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(Kr||{}),$P;function um(n,e){return $P(n,e)}var us=new Set,hd=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(hd||{}),Qi=new U(""),PD=new Set;function Yi(n){PD.has(n)||(PD.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Ub=!1,Hg=class extends rt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,zw()&&(this.destroyRef=N(yn,{optional:!0})??void 0,this.pendingTasks=N(xn,{optional:!0})??void 0)}emit(e){let t=oe(null);try{super.next(e)}finally{oe(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof Ue&&e.add(c),c}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},yt=Hg;function Bb(n){let e,t;function r(){n=oc;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function xD(n){return queueMicrotask(()=>n()),()=>{n=oc}}var lm="isAngularZone",Zl=lm+"_ID",HP=0,Se=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new yt(!1);onMicrotaskEmpty=new yt(!1);onStable=new yt(!1);onError=new yt(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Ub}=e;if(typeof Zone>"u")throw new V(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,GP(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(lm)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new V(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new V(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,qP,oc,oc);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},qP={};function dm(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function zP(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){Bb(()=>{n.callbackScheduled=!1,qg(n),n.isCheckStableRunning=!0,dm(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),qg(n)}function GP(n){let e=()=>{zP(n)},t=HP++;n._inner=n._inner.fork({name:"angular",properties:{[lm]:!0,[Zl]:t,[Zl+t]:!0},onInvokeTask:(r,i,o,s,c,u)=>{if(WP(u))return r.invokeTask(o,s,c,u);try{return kD(n),r.invokeTask(o,s,c,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),OD(n)}},onInvoke:(r,i,o,s,c,u,l)=>{try{return kD(n),r.invoke(o,s,c,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!KP(u)&&e(),OD(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,qg(n),dm(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function qg(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function kD(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function OD(n){n._nesting--,dm(n)}var Jl=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new yt;onMicrotaskEmpty=new yt;onStable=new yt;onError=new yt;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function WP(n){return $b(n,"__ignore_ng_zone__")}function KP(n){return $b(n,"__scheduler_tick__")}function $b(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var hm=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})(),Hb=[0,1,2,3],qb=(()=>{class n{ngZone=N(Se);scheduler=N(or);errorHandler=N(hn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){N(Qi,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Ce(16),this.executing=!0;for(let r of Hb)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Ce(17)}register(t){let{view:r}=t;r!==void 0?((r[Vi]??=[]).push(t),rs(r),r[J]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(hd.AFTER_NEXT_RENDER,t):t()}static \u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})(),Xl=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Vi];e&&(this.view[Vi]=e.filter(t=>t!==this))}};function fd(n,e){let t=e?.injector??N(We);return Yi("NgAfterNextRender"),YP(n,t,e,!0)}function QP(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function YP(n,e,t,r){let i=e.get(hm);i.impl??=e.get(qb);let o=e.get(Qi,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(yn):null,c=e.get(Vl,null,{optional:!0}),u=new Xl(i.impl,QP(n),c?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}var ZP=new U("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function zb(n,e,t){let r=n.get(ZP);if(Array.isArray(e))for(let i of e)r.queue.add(i),t?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),t?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(n)}function JP(n,e){for(let[t,r]of e)zb(n,r.animateFns)}function FD(n,e,t,r){let i=n?.[Ja]?.enter;e!==null&&i&&i.has(t.index)&&JP(r,i)}function ss(n,e,t,r,i,o,s,c){if(i!=null){let u,l=!1;gn(i)?u=i:Pn(i)&&(l=!0,i=i[pn]);let f=en(i);n===0&&r!==null?(FD(c,r,o,t),s==null?Nb(e,r,f):Yl(e,r,f,s||null,!0)):n===1&&r!==null?(FD(c,r,o,t),Yl(e,r,f,s||null,!0)):n===2?LD(c,o,t,p=>{bP(e,f,l,p)}):n===3&&LD(c,o,t,()=>{e.destroyNode(f)}),u!=null&&dx(e,n,t,u,o,r,s)}}function XP(n,e){Gb(n,e),e[pn]=null,e[Jt]=null}function ex(n,e,t,r,i,o){r[pn]=i,r[Jt]=e,pd(n,r,t,1,i,o)}function Gb(n,e){e[Mn].changeDetectionScheduler?.notify(9),pd(n,e,e[et],2,null,null)}function tx(n){let e=n[ts];if(!e)return Pg(n[ie],n);for(;e;){let t=null;if(Pn(e))t=e[ts];else{let r=e[Lt];r&&(t=r)}if(!t){for(;e&&!e[Zt]&&e!==n;)Pn(e)&&Pg(e[ie],e),e=e[lt];e===null&&(e=n),Pn(e)&&Pg(e[ie],e),t=e&&e[Zt]}e=t}}function fm(n,e){let t=n[ec],r=t.indexOf(e);t.splice(r,1)}function Wb(n,e){if(Ui(e))return;let t=e[et];t.destroyNode&&pd(n,e,t,3,null,null),tx(e)}function Pg(n,e){if(Ui(e))return;let t=oe(null);try{e[J]&=-129,e[J]|=256,e[$t]&&ka(e[$t]),ix(n,e),rx(n,e),e[ie].type===1&&e[et].destroy();let r=e[Oi];if(r!==null&&gn(e[lt])){r!==e[lt]&&fm(r,e);let i=e[Li];i!==null&&i.detachView(n)}jg(e)}finally{oe(t)}}function LD(n,e,t,r){let i=n?.[Ja];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);n&&us.add(n),zb(t,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),c=[];if(s){for(let u=0;u<s.animateFns.length;u++){let l=s.animateFns[u],{promise:f}=l();c.push(f)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(c),nx(n,r)}else n&&us.delete(n),r(!1)},i)}function nx(n,e){let t=n[Ja]?.running;if(t){t.then(()=>{n[Ja].running=void 0,us.delete(n),e(!0)});return}e(!1)}function rx(n,e){let t=n.cleanup,r=e[es];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let c=t[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else{let c=r[t[s+1]];t[s].call(c)}r!==null&&(e[es]=null);let i=e[ir];if(i!==null){e[ir]=null;for(let s=0;s<i.length;s++){let c=i[s];c()}}let o=e[Za];if(o!==null){e[Za]=null;for(let s of o)s.destroy()}}function ix(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof cc)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];Ce(4,c,u);try{u.call(c)}finally{Ce(5,c,u)}}else{Ce(4,i,o);try{o.call(i)}finally{Ce(5,i,o)}}}}}function ox(n,e,t){return sx(n,e.parent,t)}function sx(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[pn];if(zr(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===lr.None||i===lr.Emulated)return null}return mn(r,t)}function ax(n,e,t){return ux(n,e,t)}function cx(n,e,t){return n.type&40?mn(n,t):null}var ux=cx,VD;function pm(n,e,t,r){let i=ox(n,r,e),o=e[et],s=r.parent||e[Jt],c=ax(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)ND(o,i,t[u],c,!1);else ND(o,i,t,c,!1);VD!==void 0&&VD(o,r,e,t,i)}function sc(n,e){if(e!==null){let t=e.type;if(t&3)return mn(e,n);if(t&4)return zg(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return sc(n,r);{let i=n[e.index];return gn(i)?zg(-1,i):en(i)}}else{if(t&128)return sc(n,e.next);if(t&32)return um(e,n)()||en(n[e.index]);{let r=Kb(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Br(n[Xt]);return sc(i,r)}else return sc(n,e.next)}}}return null}function Kb(n,e){if(e!==null){let r=n[Xt][Jt],i=e.projection;return r.projection[i]}return null}function zg(n,e){let t=Lt+n+1;if(t<e.length){let r=e[t],i=r[ie].firstChild;if(i!==null)return sc(r,i)}return e[qr]}function gm(n,e,t,r,i,o,s){for(;t!=null;){let c=r[Hr];if(t.type===128){t=t.next;continue}let u=r[t.index],l=t.type;if(s&&e===0&&(u&&cs(en(u),r),t.flags|=2),!nm(t))if(l&8)gm(n,e,t.child,r,i,o,!1),ss(e,n,c,i,u,t,o,r);else if(l&32){let f=um(t,r),p;for(;p=f();)ss(e,n,c,i,p,t,o,r);ss(e,n,c,i,u,t,o,r)}else l&16?lx(n,e,r,t,i,o):ss(e,n,c,i,u,t,o,r);t=s?t.projectionNext:t.next}}function pd(n,e,t,r,i,o){gm(t,r,n.firstChild,e,i,o,!1)}function lx(n,e,t,r,i,o){let s=t[Xt],u=s[Jt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];ss(e,n,t[Hr],i,f,r,o,t)}else{let l=u,f=s[lt];mb(r)&&(l.flags|=128),gm(n,e,l,f,i,o,!0)}}function dx(n,e,t,r,i,o,s){let c=r[qr],u=en(r);c!==u&&ss(e,n,t,o,c,i,s);for(let l=Lt;l<r.length;l++){let f=r[l];pd(f[ie],f,n,e,o,c)}}function Qb(n,e,t,r,i){let o=Ol(),s=r&2;try{Gr(-1),s&&e.length>Rt&&jb(n,e,Rt,!1),Ce(s?2:0,i,t),t(r,i)}finally{Gr(o),Ce(s?3:1,i,t)}}function mm(n,e,t){_x(n,e,t),(t.flags&64)===64&&Ex(n,e,t)}function Yb(n,e,t=mn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?t(e,n):n[s];n[i++]=c}}}function hx(n,e,t,r){let o=r.get(Db,wb)||t===lr.ShadowDom,s=n.selectRootElement(e,o);return fx(s),s}function fx(n){px(n)}var px=()=>null;function gx(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function mx(n,e,t,r,i,o){let s=e[ie];if(ym(n,s,e,t,r)){zr(n)&&vx(e,n.index);return}n.type&3&&(t=gx(t)),yx(n,e,t,r,i,o)}function yx(n,e,t,r,i,o){if(n.type&3){let s=mn(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function vx(n,e){let t=tn(e,n);t[J]&16||(t[J]|=64)}function _x(n,e,t){let r=t.directiveStart,i=t.directiveEnd;zr(t)&&BP(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||ub(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let c=n.data[s],u=Lg(e,n,s,t);if(cs(u,e),o!==null&&bx(e,s-r,u,c,t,o),ji(c)){let l=tn(t.index,e);l[mt]=Lg(e,n,s,t)}}}function Ex(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=pD();try{Gr(o);for(let c=r;c<i;c++){let u=n.data[c],l=e[c];Pl(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&Ix(u,l)}}finally{Gr(-1),Pl(s)}}function Ix(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function Zb(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];xP(e,o.selectors,!1)&&(r??=[],ji(o)?r.unshift(o):r.push(o))}return r}function wx(n,e,t,r,i,o){let s=mn(n,e);Dx(e[et],s,o,n.value,t,r,i)}function Dx(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let c=s==null?za(o):s(o,r||"",i);n.setAttribute(e,i,c,t)}}function bx(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1];$g(r,t,u,l)}}function Tx(n,e,t,r,i){let o=Rt+t,s=e[ie],c=i(s,e,n,r,t);e[o]=c,is(n,!0);let u=n.type===2;return u?(Mb(e[et],c,n),(nD()===0||tc(n))&&cs(c,e),rD()):cs(c,e),Fl()&&(!u||!nm(n))&&pm(s,e,c,n),n}function Cx(n){let e=n;return vg()?uD():(e=e.parent,is(e,!1)),e}function Sx(n,e){let t=n[Hr];if(!t)return;let r;try{r=t.get(Nt,null)}catch{r=null}r?.(e)}function ym(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],c=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],f=s[u+1],p=e.data[l];$g(p,t[l],f,i),c=!0}if(o)for(let u of o){let l=t[u],f=e.data[u];$g(f,l,r,i),c=!0}return c}function Ax(n,e){let t=tn(e,n),r=t[ie];Rx(r,t);let i=t[pn];i!==null&&t[Qa]===null&&(t[Qa]=bb(i,t[Hr])),Ce(18),vm(r,t,t[mt]),Ce(19,t[mt])}function Rx(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function vm(n,e,t){xl(e);try{let r=n.viewQuery;r!==null&&Bg(1,r,t);let i=n.template;i!==null&&Qb(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Li]?.finishViewCreation(n),n.staticContentQueries&&Tb(n,e),n.staticViewQueries&&Bg(2,n.viewQuery,t);let o=n.components;o!==null&&Nx(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[J]&=-5,kl()}}function Nx(n,e){for(let t=0;t<e.length;t++)Ax(n,e[t])}function Mx(n,e,t,r){let i=oe(null);try{let o=e.tView,c=n[J]&4096?4096:16,u=am(n,o,t,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Oi]=l;let f=n[Li];return f!==null&&(u[Li]=f.createEmbeddedView(o)),vm(o,u,t),u}finally{oe(i)}}function jD(n,e){return!e||e.firstChild===null||mb(n)}function uc(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(en(o)),gn(o)&&Jb(o,r);let s=t.type;if(s&8)uc(n,e,t.child,r);else if(s&32){let c=um(t,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=Kb(e,t);if(Array.isArray(c))r.push(...c);else{let u=Br(e[Xt]);uc(u[ie],u,c,r,!0)}}t=i?t.projectionNext:t.next}return r}function Jb(n,e){for(let t=Lt;t<n.length;t++){let r=n[t],i=r[ie].firstChild;i!==null&&uc(r[ie],r,i,e)}n[qr]!==n[pn]&&e.push(n[qr])}function Xb(n){if(n[Vi]!==null){for(let e of n[Vi])e.impl.addSequence(e);n[Vi].length=0}}var eT=[];function Px(n){return n[$t]??xx(n)}function xx(n){let e=eT.pop()??Object.create(Ox);return e.lView=n,e}function kx(n){n.lView[$t]!==n&&(n.lView=null,eT.push(n))}var Ox=ve(O({},Na),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{rs(n.lView)},consumerOnSignalRead(){this.lView[$t]=this}});function Fx(n){let e=n[$t]??Object.create(Lx);return e.lView=n,e}var Lx=ve(O({},Na),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Br(n.lView);for(;e&&!tT(e[ie]);)e=Br(e);e&&pg(e)},consumerOnSignalRead(){this.lView[$t]=this}});function tT(n){return n.type!==2}function nT(n){if(n[Za]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Za])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[J]&8192)}}var Vx=100;function rT(n,e=0){let r=n[Mn].rendererFactory,i=!1;i||r.begin?.();try{jx(n,e)}finally{i||r.end?.()}}function jx(n,e){let t=_g();try{Eg(!0),Gg(n,e);let r=0;for(;rc(n);){if(r===Vx)throw new V(103,!1);r++,Gg(n,1)}}finally{Eg(t)}}function Ux(n,e,t,r){if(Ui(e))return;let i=e[J],o=!1,s=!1;xl(e);let c=!0,u=null,l=null;o||(tT(n)?(l=Px(e),u=Pa(l)):Wu()===null?(c=!1,l=Fx(e),u=Pa(l)):e[$t]&&(ka(e[$t]),e[$t]=null));try{fg(e),dD(n.bindingStartIndex),t!==null&&Qb(n,e,t,2,r);let f=(i&3)===3;if(!o)if(f){let y=n.preOrderCheckHooks;y!==null&&$l(e,y,null)}else{let y=n.preOrderHooks;y!==null&&Hl(e,y,0,null),Ng(e,0)}if(s||Bx(e),nT(e),iT(e,0),n.contentQueries!==null&&Tb(n,e),!o)if(f){let y=n.contentCheckHooks;y!==null&&$l(e,y)}else{let y=n.contentHooks;y!==null&&Hl(e,y,1),Ng(e,1)}Hx(n,e);let p=n.components;p!==null&&sT(e,p,0);let m=n.viewQuery;if(m!==null&&Bg(2,m,r),!o)if(f){let y=n.viewCheckHooks;y!==null&&$l(e,y)}else{let y=n.viewHooks;y!==null&&Hl(e,y,2),Ng(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Sl]){for(let y of e[Sl])y();e[Sl]=null}o||(Xb(e),e[J]&=-73)}catch(f){throw o||rs(e),f}finally{l!==null&&(Ku(l,u),c&&kx(l)),kl()}}function iT(n,e){for(let t=vb(n);t!==null;t=_b(t))for(let r=Lt;r<t.length;r++){let i=t[r];oT(i,e)}}function Bx(n){for(let e=vb(n);e!==null;e=_b(e)){if(!(e[J]&2))continue;let t=e[ec];for(let r=0;r<t.length;r++){let i=t[r];pg(i)}}}function $x(n,e,t){Ce(18);let r=tn(e,n);oT(r,t),Ce(19,r[mt])}function oT(n,e){Rl(n)&&Gg(n,e)}function Gg(n,e){let r=n[ie],i=n[J],o=n[$t],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&xa(o)),s||=!1,o&&(o.dirty=!1),n[J]&=-9217,s)Ux(r,n,r.template,n[mt]);else if(i&8192){let c=oe(null);try{nT(n),iT(n,1);let u=r.components;u!==null&&sT(n,u,1),Xb(n)}finally{oe(c)}}}function sT(n,e,t){for(let r=0;r<e.length;r++)$x(n,e[r],t)}function Hx(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Gr(~i);else{let o=i,s=t[++r],c=t[++r];fD(s,o);let u=e[o];Ce(24,u),c(2,u),Ce(25,u)}}}finally{Gr(-1)}}function _m(n,e){let t=_g()?64:1088;for(n[Mn].changeDetectionScheduler?.notify(e);n;){n[J]|=t;let r=Br(n);if(ns(n)&&!r)return n;n=r}return null}function aT(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function qx(n,e,t,r=!0){let i=e[ie];if(zx(i,e,n,t),r){let s=zg(t,n),c=e[et],u=c.parentNode(n[qr]);u!==null&&ex(i,n[Jt],c,e,u,s)}let o=e[Qa];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Wg(n,e){if(n.length<=Lt)return;let t=Lt+e,r=n[t];if(r){let i=r[Oi];i!==null&&i!==n&&fm(i,r),e>0&&(n[t-1][Zt]=r[Zt]);let o=Ga(n,Lt+e);XP(r[ie],r);let s=o[Li];s!==null&&s.detachView(o[ie]),r[lt]=null,r[Zt]=null,r[J]&=-129}return r}function zx(n,e,t,r){let i=Lt+r,o=t.length;r>0&&(t[i-1][Zt]=e),r<o-Lt?(e[Zt]=t[i],ng(t,Lt+r,e)):(t.push(e),e[Zt]=null),e[lt]=t;let s=e[Oi];s!==null&&t!==s&&cT(s,e);let c=e[Li];c!==null&&c.insertView(n),Nl(e),e[J]|=128}function cT(n,e){let t=n[ec],r=e[lt];if(Pn(r))n[J]|=2;else{let i=r[lt][Xt];e[Xt]!==i&&(n[J]|=2)}t===null?n[ec]=[e]:t.push(e)}var Wr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[ie];return uc(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[mt]}set context(e){this._lView[mt]=e}get destroyed(){return Ui(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[lt];if(gn(e)){let t=e[Xa],r=t?t.indexOf(this):-1;r>-1&&(Wg(e,r),Ga(t,r))}this._attachedToViewContainer=!1}Wb(this._lView[ie],this._lView)}onDestroy(e){gg(this._lView,e)}markForCheck(){_m(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[J]&=-129}reattach(){Nl(this._lView),this._lView[J]|=128}detectChanges(){this._lView[J]|=1024,rT(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new V(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ns(this._lView),t=this._lView[Oi];t!==null&&!e&&fm(t,this._lView),Gb(this._lView[ie],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new V(902,!1);this._appRef=e;let t=ns(this._lView),r=this._lView[Oi];r!==null&&!t&&cT(r,this._lView),Nl(this._lView)}};var gd=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Gx;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=Mx(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Wr(o)}}return n})();function Gx(){return Wx(Vt(),xe())}function Wx(n,e){return n.type&4?new gd(e,n,od(n,e)):null}function Em(n,e,t,r,i){let o=n.data[e];if(o===null)o=Kx(n,e,t,r,i),hD()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=cD();o.injectorIndex=s===null?-1:s.injectorIndex}return is(o,!0),o}function Kx(n,e,t,r,i){let o=yg(),s=vg(),c=s?o:o&&o.parent,u=n.data[e]=Yx(n,c,t,e,r,i);return Qx(n,u,o,s),u}function Qx(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function Yx(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,c=0;return oD()&&(c|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var jG=new RegExp(`^(\\d+)*(${mP}|${gP})*(.*)`);var Zx=()=>null;function UD(n,e){return Zx(n,e)}var uT=class{},md=class{},Kg=class{resolveComponentFactory(e){throw new V(917,!1)}},pc=class{static NULL=new Kg},$i=class{},ds=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>Jx()}return n})();function Jx(){let n=xe(),e=Vt(),t=tn(e.index,n);return(Pn(t)?t:n)[et]}var lT=(()=>{class n{static \u0275prov=H({token:n,providedIn:"root",factory:()=>null})}return n})();var ql={},Qg=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,ql,r);return i!==ql||t===ql?i:this.parentInjector.get(e,t,r)}};function BD(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=Gp(i,c);else if(o==2){let u=c,l=e[++s];r=Gp(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Fe(n,e=0){let t=xe();if(t===null)return K(n,e);let r=Vt();return fb(r,t,Ft(n),e)}function Im(){let n="invalid";throw new Error(n)}function dT(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let c=s,u=null,l=null;for(let f of s)if(f.resolveHostDirectives!==null){[c,u,l]=f.resolveHostDirectives(s);break}tk(n,e,t,c,o,u,l)}o!==null&&r!==null&&Xx(t,r,o)}function Xx(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new V(-301,!1);r.push(e[i],o)}}function ek(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function tk(n,e,t,r,i,o,s){let c=r.length,u=!1;for(let m=0;m<c;m++){let y=r[m];!u&&ji(y)&&(u=!0,ek(n,t,m)),rP(ub(t,e),n,y.type)}ak(t,n.data.length,c);for(let m=0;m<c;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,f=!1,p=Vb(n,e,c,null);c>0&&(t.directiveToIndex=new Map);for(let m=0;m<c;m++){let y=r[m];if(t.mergedAttrs=Zg(t.mergedAttrs,y.hostAttrs),rk(n,t,e,p,y),sk(p,y,i),s!==null&&s.has(y)){let[M,R]=s.get(y);t.directiveToIndex.set(y.type,[p,M+t.directiveStart,R+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let S=y.type.prototype;!l&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!f&&(S.ngOnChanges||S.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),f=!0),p++}nk(n,t,o)}function nk(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))$D(0,e,i,r),$D(1,e,i,r),qD(e,r,!1);else{let o=t.get(i);HD(0,e,o,r),HD(1,e,o,r),qD(e,r,!0)}}}function $D(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),hT(e,o)}}function HD(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],c;n===0?c=e.hostDirectiveInputs??={}:c=e.hostDirectiveOutputs??={},c[s]??=[],c[s].push(r,o),hT(e,s)}}function hT(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function qD(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||om(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,c=0;for(;c<r.length;){let u=r[c];if(u===0){c+=4;continue}else if(u===5){c+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let f of l)if(f===e){s??=[],s.push(u,r[c+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let f=0;f<l.length;f+=2)if(l[f]===e){s??=[],s.push(l[f+1],r[c+1]);break}}c+=2}n.initialInputs??=[],n.initialInputs.push(s)}function rk(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Ur(i.type,!0)),s=new cc(o,ji(i),Fe,null);n.blueprint[r]=s,t[r]=s,ik(n,e,r,Vb(n,t,i.hostVars,Ki),i)}function ik(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let c=~e.index;ok(s)!=c&&s.push(c),s.push(t,r,o)}}function ok(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function sk(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ji(e)&&(t[""]=n)}}function ak(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function fT(n,e,t,r,i,o,s,c){let u=e[ie],l=u.consts,f=nc(l,s),p=Em(u,n,t,r,f);return o&&dT(u,e,p,nc(l,c),i),p.mergedAttrs=Zg(p.mergedAttrs,p.attrs),p.attrs!==null&&BD(p,p.attrs,!1),p.mergedAttrs!==null&&BD(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function pT(n,e){rb(n,e),dg(e)&&n.queries.elementEnd(e)}function wm(n){return mT(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function gT(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function mT(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function ck(n,e,t){return n[e]=t}function lc(n,e,t){if(t===Ki)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function uk(n,e,t,r){let i=lc(n,e,t);return lc(n,e+1,r)||i}function xg(n,e,t){return function r(i){let o=zr(n)?tn(n.index,e):e;_m(o,5);let s=e[mt],c=zD(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)c=zD(e,s,u,i)&&c,u=u.__ngNextListenerFn__;return c}}function zD(n,e,t,r){let i=oe(null);try{return Ce(6,e,t),t(r)!==!1}catch(o){return Sx(n,o),!1}finally{Ce(7,e,t),oe(i)}}function lk(n,e,t,r,i,o,s,c){let u=tc(n),l=!1,f=null;if(!r&&u&&(f=hk(e,t,o,n.index)),f!==null){let p=f.__ngLastListenerFn__||f;p.__ngNextListenerFn__=s,f.__ngLastListenerFn__=s,l=!0}else{let p=mn(n,t),m=r?r(p):p;vP(t,m,o,c);let y=i.listen(m,o,c);if(!dk(o)){let S=r?M=>r(en(M[n.index])):n.index;yT(S,e,t,o,c,y,!1)}}return l}function dk(n){return n.startsWith("animation")||n.startsWith("transition")}function hk(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let c=e[es],u=i[o+2];return c&&c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function yT(n,e,t,r,i,o,s){let c=e.firstCreatePass?tD(e):null,u=eD(t),l=u.length;u.push(i,o),c&&c.push(r,n,l,(l+1)*(s?-1:1))}function GD(n,e,t,r,i,o){let s=e[t],c=e[ie],l=c.data[t].outputs[r],p=s[l].subscribe(o);yT(n.index,c,e,i,o,p,!0)}var Yg=Symbol("BINDING");var ed=class extends pc{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=cr(e);return new Hi(t,this.ngModule)}};function fk(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&dd.SignalBased)!==0};return i&&(o.transform=i),o})}function pk(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function gk(n,e,t){let r=e instanceof He?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Qg(t,r):t}function mk(n){let e=n.get($i,null);if(e===null)throw new V(407,!1);let t=n.get(lT,null),r=n.get(or,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function yk(n,e){let t=vT(n);return Rb(e,t,t==="svg"?Ww:t==="math"?Kw:null)}function vT(n){return(n.selectors[0][0]||"div").toLowerCase()}var Hi=class extends md{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=fk(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=pk(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=LP(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){Ce(22);let c=oe(null);try{let u=this.componentDef,l=vk(r,u,s,o),f=gk(u,i||this.ngModule,e),p=mk(f),m=p.rendererFactory.createRenderer(null,u),y=r?hx(m,r,u.encapsulation,f):yk(u,m),S=s?.some(WD)||o?.some(F=>typeof F!="function"&&F.bindings.some(WD)),M=am(null,l,null,512|Lb(u),null,null,p,m,f,null,bb(y,f,!0));M[Rt]=y,xl(M);let R=null;try{let F=fT(Rt,M,2,"#host",()=>l.directiveRegistry,!0,0);Mb(m,y,F),cs(y,M),mm(l,M,F),Cb(l,F,M),pT(l,F),t!==void 0&&Ek(F,this.ngContentSelectors,t),R=tn(F.index,M),M[mt]=R[mt],vm(l,M,null)}catch(F){throw R!==null&&jg(R),jg(M),F}finally{Ce(23),kl()}return new td(this.componentType,M,!!S)}finally{oe(c)}}};function vk(n,e,t,r){let i=n?["ng-version","20.3.15"]:VP(e.selectors[0]),o=null,s=null,c=0;if(t)for(let f of t)c+=f[Yg].requiredVars,f.create&&(f.targetIdx=0,(o??=[]).push(f)),f.update&&(f.targetIdx=0,(s??=[]).push(f));if(r)for(let f=0;f<r.length;f++){let p=r[f];if(typeof p!="function")for(let m of p.bindings){c+=m[Yg].requiredVars;let y=f+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let u=[e];if(r)for(let f of r){let p=typeof f=="function"?f:f.type,m=sg(p);u.push(m)}return sm(0,null,_k(o,s),1,c,u,null,null,null,[i],null)}function _k(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function WD(n){let e=n[Yg].kind;return e==="input"||e==="twoWay"}var td=class extends uT{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Al(t[ie],Rt),this.location=od(this._tNode,t),this.instance=tn(this._tNode.index,t)[mt],this.hostView=this.changeDetectorRef=new Wr(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=ym(r,i[ie],i,e,t);this.previousInputValues.set(e,t);let s=tn(r.index,i);_m(s,1)}get injector(){return new Bi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Ek(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var hs=(()=>{class n{static __NG_ELEMENT_ID__=Ik}return n})();function Ik(){let n=Vt();return Dk(n,xe())}var wk=hs,_T=class extends wk{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return od(this._hostTNode,this._hostLView)}get injector(){return new Bi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Jg(this._hostTNode,this._hostLView);if(sb(e)){let t=Wl(e,this._hostLView),r=Gl(e),i=t[ie].data[r+8];return new Bi(i,t)}else return new Bi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=KD(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Lt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=UD(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(c,i,jD(this._hostTNode,s)),c}createComponent(e,t,r,i,o,s,c){let u=e&&!HM(e),l;if(u)l=t;else{let R=t||{};l=R.index,r=R.injector,i=R.projectableNodes,o=R.environmentInjector||R.ngModuleRef,s=R.directives,c=R.bindings}let f=u?e:new Hi(cr(e)),p=r||this.parentInjector;if(!o&&f.ngModule==null){let F=(u?p:this.parentInjector).get(He,null);F&&(o=F)}let m=cr(f.componentType??{}),y=UD(this._lContainer,m?.id??null),S=y?.firstChild??null,M=f.create(p,i,S,o,s,c);return this.insertImpl(M.hostView,l,jD(this._hostTNode,y)),M}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(Zw(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[lt],l=new _T(u,u[Jt],u[lt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return qx(s,i,o,r),e.attachToViewContainerRef(),ng(kg(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=KD(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Wg(this._lContainer,t);r&&(Ga(kg(this._lContainer),t),Wb(r[ie],r))}detach(e){let t=this._adjustIndex(e,-1),r=Wg(this._lContainer,t);return r&&Ga(kg(this._lContainer),t)!=null?new Wr(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function KD(n){return n[Xa]}function kg(n){return n[Xa]||(n[Xa]=[])}function Dk(n,e){let t,r=e[n.index];return gn(r)?t=r:(t=aT(r,e,null,n),e[n.index]=t,cm(e,t)),Tk(t,e,n,r),new _T(t,n,e)}function bk(n,e){let t=n[et],r=t.createComment(""),i=mn(e,n),o=t.parentNode(i);return Yl(t,o,r,t.nextSibling(i),!1),r}var Tk=Ak,Ck=()=>!1;function Sk(n,e,t){return Ck(n,e,t)}function Ak(n,e,t,r){if(n[qr])return;let i;t.type&8?i=en(r):i=bk(e,t),n[qr]=i}var qi=class{},yd=class{};var nd=class extends qi{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new ed(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=og(e);this._bootstrapComponents=Ob(o.bootstrap),this._r3Injector=Tg(e,t,[{provide:qi,useValue:this},{provide:pc,useValue:this.componentFactoryResolver},...r],jr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},rd=class extends yd{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new nd(this.moduleType,e,[])}};var dc=class extends qi{injector;componentFactoryResolver=new ed(this);instance=null;constructor(e){super();let t=new Mi([...e.providers,{provide:qi,useValue:this},{provide:pc,useValue:this.componentFactoryResolver}],e.parent||Ka(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function fs(n,e,t=null){return new dc({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var Rk=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=ag(!1,t.type),i=r.length>0?fs([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=H({token:n,providedIn:"environment",factory:()=>new n(K(He))})}return n})();function _n(n){return ls(()=>{let e=ET(n),t=ve(O({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Xg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(Rk).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||lr.Emulated,styles:n.styles||dn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Yi("NgStandalone"),IT(t);let r=n.dependencies;return t.directiveDefs=QD(r,Nk),t.pipeDefs=QD(r,jw),t.id=xk(t),t})}function Nk(n){return cr(n)||sg(n)}function On(n){return ls(()=>({type:n.type,bootstrap:n.bootstrap||dn,declarations:n.declarations||dn,imports:n.imports||dn,exports:n.exports||dn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Mk(n,e){if(n==null)return xi;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,c,u;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,c=dd.None,u=null),t[o]=[r,c,u],e[o]=s}return t}function Pk(n){if(n==null)return xi;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Qr(n){return ls(()=>{let e=ET(n);return IT(e),e})}function Dm(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function ET(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||xi,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||dn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:Mk(n.inputs,e),outputs:Pk(n.outputs),debugInfo:null}}function IT(n){n.features?.forEach(e=>e(n))}function QD(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function xk(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function kk(n,e,t,r,i,o,s,c){if(t.firstCreatePass){n.mergedAttrs=Zg(n.mergedAttrs,n.attrs);let f=n.tView=sm(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),f.queries=t.queries.embeddedTView(n))}c&&(n.flags|=c),is(n,!1);let u=Fk(t,e,n,r);Fl()&&pm(t,e,u,n),cs(u,e);let l=aT(u,e,u,n);e[r+Rt]=l,cm(e,l),Sk(l,n,e)}function Ok(n,e,t,r,i,o,s,c,u,l,f){let p=t+Rt,m;return e.firstCreatePass?(m=Em(e,p,4,s||null,c||null),mg()&&dT(e,n,m,nc(e.consts,l),Zb),rb(e,m)):m=e.data[p],kk(m,n,e,t,r,i,o,u),tc(m)&&mm(e,n,m),l!=null&&Yb(n,m,f),m}function Yr(n,e,t,r,i,o,s,c){let u=xe(),l=ur(),f=nc(l.consts,o);return Ok(u,l,n,e,t,r,i,f,void 0,s,c),Yr}var Fk=Lk;function Lk(n,e,t,r){return Ll(!0),e[et].createComment("")}var bm=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var Tm=new U("");function Zi(n){return!!n&&typeof n.then=="function"}function Cm(n){return!!n&&typeof n.subscribe=="function"}var Sm=new U("");function vd(n){return Yt([{provide:Sm,multi:!0,useValue:n}])}var Am=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=N(Sm,{optional:!0})??[];injector=N(We);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Ke(this.injector,i);if(Zi(o))t.push(o);else if(Cm(o)){let s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),gc=new U("");function wT(){mp(()=>{let n="";throw new V(600,n)})}function DT(n){return n.isBoundToModule}var Vk=10;var Zr=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=N(Nt);afterRenderManager=N(hm);zonelessEnabled=N(ic);rootEffectScheduler=N(Rg);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new rt;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=N(xn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(ce(t=>!t))}constructor(){N(Qi,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=N(He);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=We.NULL){return this._injector.get(Se).run(()=>{Ce(10);let s=t instanceof md;if(!this._injector.get(Am).done){let S="";throw new V(405,S)}let u;s?u=t:u=this._injector.get(pc).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let l=DT(u)?void 0:this._injector.get(qi),f=r||u.selector,p=u.create(i,[],f,l),m=p.location.nativeElement,y=p.injector.get(Tm,null);return y?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),ac(this.components,p),y?.unregisterApplication(m)}),this._loadComponent(p),Ce(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ce(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(hd.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new V(101,!1);let t=oe(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,oe(t),this.afterTick.next(),Ce(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get($i,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<Vk;)Ce(14),this.synchronizeOnce(),Ce(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!rc(i))continue;let o=r&&!this.zonelessEnabled?0:1;rT(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>rc(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;ac(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(gc,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>ac(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new V(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ac(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function mc(n,e,t,r){let i=xe(),o=Ml();if(lc(i,o,e)){let s=ur(),c=bg();wx(c,i,n,e,t,r)}return mc}var GG=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function X(n,e,t){let r=xe(),i=Ml();if(lc(r,i,e)){let o=ur(),s=bg();mx(s,r,n,e,r[et],t)}return X}function YD(n,e,t,r,i){ym(e,n,t,i?"class":"style",r)}function B(n,e,t,r){let i=xe(),o=i[ie],s=n+Rt,c=o.firstCreatePass?fT(s,i,2,e,Zb,mg(),t,r):o.data[s];if(Tx(c,i,n,e,jk),tc(c)){let u=i[ie];mm(u,i,c),Cb(u,c,i)}return r!=null&&Yb(i,c),B}function j(){let n=ur(),e=Vt(),t=Cx(e);return n.firstCreatePass&&pT(n,t),sD(t)&&aD(),iD(),t.classesWithoutHost!=null&&QM(t)&&YD(n,t,xe(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&YM(t)&&YD(n,t,xe(),t.stylesWithoutHost,!1),j}function ue(n,e,t,r){return B(n,e,t,r),j(),ue}var jk=(n,e,t,r,i)=>(Ll(!0),Rb(e[et],r,_D()));function Ji(){return xe()}var Bl=void 0;function Uk(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var Bk=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Bl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Bl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Bl,"{1} 'at' {0}",Bl],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Uk],Og={};function Ht(n){let e=$k(n),t=ZD(e);if(t)return t;let r=e.split("-")[0];if(t=ZD(r),t)return t;if(r==="en")return Bk;throw new V(701,!1)}function ZD(n){return n in Og||(Og[n]=sr.ng&&sr.ng.common&&sr.ng.common.locales&&sr.ng.common.locales[n]),Og[n]}var ze=(function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n})(ze||{});function $k(n){return n.toLowerCase().replace(/_/g,"-")}var yc="en-US";var Hk=yc;function bT(n){typeof n=="string"&&(Hk=n.toLowerCase().replace(/_/g,"-"))}function q(n,e,t){let r=xe(),i=ur(),o=Vt();return qk(i,r,r[et],o,n,e,t),q}function qk(n,e,t,r,i,o,s){let c=!0,u=null;if((r.type&3||s)&&(u??=xg(r,e,o),lk(r,n,e,s,t,i,o,u)&&(c=!1)),c){let l=r.outputs?.[i],f=r.hostDirectiveOutputs?.[i];if(f&&f.length)for(let p=0;p<f.length;p+=2){let m=f[p],y=f[p+1];u??=xg(r,e,o),GD(r,e,m,y,i,u)}if(l&&l.length)for(let p of l)u??=xg(r,e,o),GD(r,e,p,i,i,u)}}function Fn(n=1){return vD(n)}function Le(n,e=""){let t=xe(),r=ur(),i=n+Rt,o=r.firstCreatePass?Em(r,i,1,e,null):r.data[i],s=zk(r,t,o,e,n);t[i]=s,Fl()&&pm(r,t,s,o),is(o,!1)}var zk=(n,e,t,r,i)=>(Ll(!0),wP(e[et],r));function Gk(n,e,t,r=""){return lc(n,Ml(),t)?e+za(t)+r:Ki}function Jr(n){return Rm("",n),Jr}function Rm(n,e,t){let r=xe(),i=Gk(r,n,e,t);return i!==Ki&&Wk(r,Ol(),i),Rm}function Wk(n,e,t){let r=Qw(e,n);DP(n[et],r,t)}function Kk(n,e){let t=n[e];return t===Ki?void 0:t}function Qk(n,e,t,r,i,o,s){let c=e+t;return uk(n,c,i,o)?ck(n,c+2,s?r.call(s,i,o):r(i,o)):Kk(n,c+2)}function Xi(n,e){let t=ur(),r,i=n+Rt;t.firstCreatePass?(r=Yk(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Ur(r.type,!0)),s,c=At(Fe);try{let u=Kl(!1),l=o();return Kl(u),hg(t,xe(),i,l),l}finally{At(c)}}function Yk(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function eo(n,e,t,r){let i=n+Rt,o=xe(),s=Yw(o,i);return Zk(o,i)?Qk(o,lD(),e,s.transform,t,r,s):s.transform(t,r)}function Zk(n,e){return n[ie].data[e].pure}var id=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Nm=(()=>{class n{compileModuleSync(t){return new rd(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=og(t),o=Ob(i.declarations).reduce((s,c)=>{let u=cr(c);return u&&s.push(new Hi(u)),s},[]);return new id(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Jk=(()=>{class n{zone=N(Se);changeDetectionScheduler=N(or);applicationRef=N(Zr);applicationErrorHandler=N(Nt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),TT=new U("",{factory:()=>!1});function Mm({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Se(ve(O({},xm()),{scheduleInRootZone:t})),[{provide:Se,useFactory:n},{provide:ar,multi:!0,useFactory:()=>{let r=N(Jk,{optional:!0});return()=>r.initialize()}},{provide:ar,multi:!0,useFactory:()=>{let r=N(Xk);return()=>{r.initialize()}}},e===!0?{provide:Sg,useValue:!0}:[],{provide:Ag,useValue:t??Ub},{provide:Nt,useFactory:()=>{let r=N(Se),i=N(He),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(hn),o.handleError(s))})}}}]}function Pm(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=Mm({ngZoneFactory:()=>{let i=xm(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Yi("NgZone_CoalesceEvent"),new Se(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Yt([{provide:TT,useValue:!0},{provide:ic,useValue:!1},r])}function xm(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var Xk=(()=>{class n{subscription=new Ue;initialized=!1;zone=N(Se);pendingTasks=N(xn);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Se.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Se.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var CT=(()=>{class n{applicationErrorHandler=N(Nt);appRef=N(Zr);taskService=N(xn);ngZone=N(Se);zonelessEnabled=N(ic);tracing=N(Qi,{optional:!0});disableScheduling=N(Sg,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ue;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Zl):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(N(Ag,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Jl||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?xD:Bb;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Zl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,xD(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function eO(){return typeof $localize<"u"&&$localize.locale||yc}var vc=new U("",{providedIn:"root",factory:()=>N(vc,{optional:!0,skipSelf:!0})||eO()});function En(n){return Nw(n)}var ST=class{[xt];constructor(e){this[xt]=e}destroy(){this[xt].destroy()}};var PT=Symbol("InputSignalNode#UNSET"),_O=ve(O({},Qu),{transformFn:void 0,applyValueToInputSignal(n,e){Vo(n,e)}});function xT(n,e){let t=Object.create(_O);t.value=n,t.transformFn=e?.transform;function r(){if(Ma(t),t.value===PT){let i=null;throw new V(-950,i)}return t.value}return r[xt]=t,r}var Ed=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>fc(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},EO=new U("");EO.__NG_ELEMENT_ID__=n=>{let e=Vt();if(e===null)throw new V(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new V(204,!1)};function AT(n,e){return xT(n,e)}function IO(n){return xT(PT,n)}var kT=(AT.required=IO,AT);var km=new U(""),wO=new U("");function _c(n){return!n.moduleRef}function DO(n){let e=_c(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Se);return t.run(()=>{_c(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Nt),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),_c(n)){let o=()=>e.destroy(),s=n.platformInjector.get(km);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(km);s.add(o),n.moduleRef.onDestroy(()=>{ac(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return TO(r,t,()=>{let o=e.get(xn),s=o.add(),c=e.get(Am);return c.runInitializers(),c.donePromise.then(()=>{let u=e.get(vc,yc);if(bT(u||yc),!e.get(wO,!0))return _c(n)?e.get(Zr):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(_c(n)){let f=e.get(Zr);return n.rootComponent!==void 0&&f.bootstrap(n.rootComponent),f}else return bO?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var bO;function TO(n,e,t){try{let r=t();return Zi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var _d=null;function CO(n=[],e){return We.create({name:e,providers:[{provide:Wa,useValue:"platform"},{provide:km,useValue:new Set([()=>_d=null])},...n]})}function SO(n=[]){if(_d)return _d;let e=CO(n);return _d=e,wT(),AO(e),e}function AO(n){let e=n.get(ad,null);Ke(n,()=>{e?.forEach(t=>t())})}function jm(){return!1}var ps=(()=>{class n{static __NG_ELEMENT_ID__=RO}return n})();function RO(n){return NO(Vt(),xe(),(n&16)===16)}function NO(n,e,t){if(zr(n)&&!t){let r=tn(n.index,e);return new Wr(r,r)}else if(n.type&175){let r=e[Xt];return new Wr(r,e)}return null}var Om=class{constructor(){}supports(e){return wm(e)}create(e){return new Fm(e)}},MO=(n,e)=>e,Fm=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||MO}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<RT(r,i,o)?t:r,c=RT(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=c-i,f=u-i;if(l!=f){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,S=y+m;f<=S&&S<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=f-l}}c!==u&&e(s,c,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!wm(e))throw new V(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)o=e[c],s=this._trackByFn(c,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,c),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,c)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,gT(e,c=>{s=this._trackByFn(i,c),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,c,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,c,s,i)),Object.is(t.item,c)||this._addIdentityChange(t,c)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Lm(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Id),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Id),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Lm=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},Vm=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Id=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Vm,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function RT(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function NT(){return new Um([new Om])}var Um=(()=>{class n{factories;static \u0275prov=H({token:n,providedIn:"root",factory:NT});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=N(n,{optional:!0,skipSelf:!0});return n.create(t,r||NT())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new V(901,!1)}}return n})();function OT(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;Ce(8);try{let o=i?.injector??SO(r),s=[Mm({}),{provide:or,useExisting:CT},ID,...t||[]],c=new dc({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return DO({r3Injector:c.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Ce(9)}}function gs(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function FT(n){let e=cr(n);if(!e)return null;let t=new Hi(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var jT=null;function hr(){return jT}function Bm(n){jT??=n}var Ec=class{},Ic=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>N(UT),providedIn:"platform"})}return n})(),$m=new U(""),UT=(()=>{class n extends Ic{_location;_history;_doc=N(qe);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return hr().getBaseHref(this._doc)}onPopState(t){let r=hr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=hr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Dd(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function LT(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function In(n){return n&&n[0]!=="?"?`?${n}`:n}var wn=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>N(Td),providedIn:"root"})}return n})(),bd=new U(""),Td=(()=>{class n extends wn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??N(qe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Dd(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+In(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+In(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+In(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(K(Ic),K(bd,8))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Xr=(()=>{class n{_subject=new rt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=kO(LT(VT(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+In(r))}normalize(t){return n.stripTrailingSlash(xO(this._basePath,VT(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+In(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+In(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=In;static joinWithSlash=Dd;static stripTrailingSlash=LT;static \u0275fac=function(r){return new(r||n)(K(wn))};static \u0275prov=H({token:n,factory:()=>PO(),providedIn:"root"})}return n})();function PO(){return new Xr(K(wn))}function xO(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function VT(n){return n.replace(/\/index.html$/,"")}function kO(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var Gm=(()=>{class n extends wn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Dd(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+In(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+In(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(K(Ic),K(bd,8))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})();var vt=(function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n})(vt||{}),Ae=(function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n})(Ae||{}),jt=(function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n})(jt||{}),pr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function HT(n){return Ht(n)[ze.LocaleId]}function qT(n,e,t){let r=Ht(n),i=[r[ze.DayPeriodsFormat],r[ze.DayPeriodsStandalone]],o=nn(i,e);return nn(o,t)}function zT(n,e,t){let r=Ht(n),i=[r[ze.DaysFormat],r[ze.DaysStandalone]],o=nn(i,e);return nn(o,t)}function GT(n,e,t){let r=Ht(n),i=[r[ze.MonthsFormat],r[ze.MonthsStandalone]],o=nn(i,e);return nn(o,t)}function WT(n,e){let r=Ht(n)[ze.Eras];return nn(r,e)}function wc(n,e){let t=Ht(n);return nn(t[ze.DateFormat],e)}function Dc(n,e){let t=Ht(n);return nn(t[ze.TimeFormat],e)}function bc(n,e){let r=Ht(n)[ze.DateTimeFormat];return nn(r,e)}function Tc(n,e){let t=Ht(n),r=t[ze.NumberSymbols][e];if(typeof r>"u"){if(e===pr.CurrencyDecimal)return t[ze.NumberSymbols][pr.Decimal];if(e===pr.CurrencyGroup)return t[ze.NumberSymbols][pr.Group]}return r}function KT(n){if(!n[ze.ExtraData])throw new V(2303,!1)}function QT(n){let e=Ht(n);return KT(e),(e[ze.ExtraData][2]||[]).map(r=>typeof r=="string"?Hm(r):[Hm(r[0]),Hm(r[1])])}function YT(n,e,t){let r=Ht(n);KT(r);let i=[r[ze.ExtraData][0],r[ze.ExtraData][1]],o=nn(i,e)||[];return nn(o,t)||[]}function nn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new V(2304,!1)}function Hm(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var OO=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Cd={},FO=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function ZT(n,e,t,r){let i=zO(n);e=fr(t,e)||e;let s=[],c;for(;e;)if(c=FO.exec(e),c){s=s.concat(c.slice(1));let f=s.pop();if(!f)break;e=f}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=XT(r,u),i=qO(i,r));let l="";return s.forEach(f=>{let p=$O(f);l+=p?p(i,t,u):f==="''"?"'":f.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Md(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function fr(n,e){let t=HT(n);if(Cd[t]??={},Cd[t][e])return Cd[t][e];let r="";switch(e){case"shortDate":r=wc(n,jt.Short);break;case"mediumDate":r=wc(n,jt.Medium);break;case"longDate":r=wc(n,jt.Long);break;case"fullDate":r=wc(n,jt.Full);break;case"shortTime":r=Dc(n,jt.Short);break;case"mediumTime":r=Dc(n,jt.Medium);break;case"longTime":r=Dc(n,jt.Long);break;case"fullTime":r=Dc(n,jt.Full);break;case"short":let i=fr(n,"shortTime"),o=fr(n,"shortDate");r=Sd(bc(n,jt.Short),[i,o]);break;case"medium":let s=fr(n,"mediumTime"),c=fr(n,"mediumDate");r=Sd(bc(n,jt.Medium),[s,c]);break;case"long":let u=fr(n,"longTime"),l=fr(n,"longDate");r=Sd(bc(n,jt.Long),[u,l]);break;case"full":let f=fr(n,"fullTime"),p=fr(n,"fullDate");r=Sd(bc(n,jt.Full),[f,p]);break}return r&&(Cd[t][e]=r),r}function Sd(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function Dn(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function LO(n,e){return Dn(n,3).substring(0,e)}function Qe(n,e,t=0,r=!1,i=!1){return function(o,s){let c=VO(n,o);if((t>0||c>-t)&&(c+=t),n===3)c===0&&t===-12&&(c=12);else if(n===6)return LO(c,e);let u=Tc(s,pr.MinusSign);return Dn(c,e,u,r,i)}}function VO(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new V(2301,!1)}}function Me(n,e,t=vt.Format,r=!1){return function(i,o){return jO(i,o,n,e,t,r)}}function jO(n,e,t,r,i,o){switch(t){case 2:return GT(e,i,r)[n.getMonth()];case 1:return zT(e,i,r)[n.getDay()];case 0:let s=n.getHours(),c=n.getMinutes();if(o){let l=QT(e),f=YT(e,i,r),p=l.findIndex(m=>{if(Array.isArray(m)){let[y,S]=m,M=s>=y.hours&&c>=y.minutes,R=s<S.hours||s===S.hours&&c<S.minutes;if(y.hours<S.hours){if(M&&R)return!0}else if(M||R)return!0}else if(m.hours===s&&m.minutes===c)return!0;return!1});if(p!==-1)return f[p]}return qT(e,i,r)[s<12?0:1];case 3:return WT(e,r)[n.getFullYear()<=0?0:1];default:let u=t;throw new V(2302,!1)}}function Ad(n){return function(e,t,r){let i=-1*r,o=Tc(t,pr.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+Dn(s,2,o)+Dn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Dn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Dn(s,2,o)+":"+Dn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Dn(s,2,o)+":"+Dn(Math.abs(i%60),2,o);default:throw new V(2310,!1)}}}var UO=0,Nd=4;function BO(n){let e=Md(n,UO,1).getDay();return Md(n,0,1+(e<=Nd?Nd:Nd+7)-e)}function JT(n){let e=n.getDay(),t=e===0?-3:Nd-e;return Md(n.getFullYear(),n.getMonth(),n.getDate()+t)}function qm(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=JT(t),s=BO(o.getFullYear()),c=o.getTime()-s.getTime();i=1+Math.round(c/6048e5)}return Dn(i,n,Tc(r,pr.MinusSign))}}function Rd(n,e=!1){return function(t,r){let o=JT(t).getFullYear();return Dn(o,n,Tc(r,pr.MinusSign),e)}}var zm={};function $O(n){if(zm[n])return zm[n];let e;switch(n){case"G":case"GG":case"GGG":e=Me(3,Ae.Abbreviated);break;case"GGGG":e=Me(3,Ae.Wide);break;case"GGGGG":e=Me(3,Ae.Narrow);break;case"y":e=Qe(0,1,0,!1,!0);break;case"yy":e=Qe(0,2,0,!0,!0);break;case"yyy":e=Qe(0,3,0,!1,!0);break;case"yyyy":e=Qe(0,4,0,!1,!0);break;case"Y":e=Rd(1);break;case"YY":e=Rd(2,!0);break;case"YYY":e=Rd(3);break;case"YYYY":e=Rd(4);break;case"M":case"L":e=Qe(1,1,1);break;case"MM":case"LL":e=Qe(1,2,1);break;case"MMM":e=Me(2,Ae.Abbreviated);break;case"MMMM":e=Me(2,Ae.Wide);break;case"MMMMM":e=Me(2,Ae.Narrow);break;case"LLL":e=Me(2,Ae.Abbreviated,vt.Standalone);break;case"LLLL":e=Me(2,Ae.Wide,vt.Standalone);break;case"LLLLL":e=Me(2,Ae.Narrow,vt.Standalone);break;case"w":e=qm(1);break;case"ww":e=qm(2);break;case"W":e=qm(1,!0);break;case"d":e=Qe(2,1);break;case"dd":e=Qe(2,2);break;case"c":case"cc":e=Qe(7,1);break;case"ccc":e=Me(1,Ae.Abbreviated,vt.Standalone);break;case"cccc":e=Me(1,Ae.Wide,vt.Standalone);break;case"ccccc":e=Me(1,Ae.Narrow,vt.Standalone);break;case"cccccc":e=Me(1,Ae.Short,vt.Standalone);break;case"E":case"EE":case"EEE":e=Me(1,Ae.Abbreviated);break;case"EEEE":e=Me(1,Ae.Wide);break;case"EEEEE":e=Me(1,Ae.Narrow);break;case"EEEEEE":e=Me(1,Ae.Short);break;case"a":case"aa":case"aaa":e=Me(0,Ae.Abbreviated);break;case"aaaa":e=Me(0,Ae.Wide);break;case"aaaaa":e=Me(0,Ae.Narrow);break;case"b":case"bb":case"bbb":e=Me(0,Ae.Abbreviated,vt.Standalone,!0);break;case"bbbb":e=Me(0,Ae.Wide,vt.Standalone,!0);break;case"bbbbb":e=Me(0,Ae.Narrow,vt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Me(0,Ae.Abbreviated,vt.Format,!0);break;case"BBBB":e=Me(0,Ae.Wide,vt.Format,!0);break;case"BBBBB":e=Me(0,Ae.Narrow,vt.Format,!0);break;case"h":e=Qe(3,1,-12);break;case"hh":e=Qe(3,2,-12);break;case"H":e=Qe(3,1);break;case"HH":e=Qe(3,2);break;case"m":e=Qe(4,1);break;case"mm":e=Qe(4,2);break;case"s":e=Qe(5,1);break;case"ss":e=Qe(5,2);break;case"S":e=Qe(6,1);break;case"SS":e=Qe(6,2);break;case"SSS":e=Qe(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Ad(0);break;case"ZZZZZ":e=Ad(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Ad(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Ad(2);break;default:return null}return zm[n]=e,e}function XT(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function HO(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function qO(n,e,t){let i=n.getTimezoneOffset(),o=XT(e,i);return HO(n,-1*(o-i))}function zO(n){if(BT(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(c=>+c);return Md(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(OO))return GO(r)}let e=new Date(n);if(!BT(e))throw new V(2311,!1);return e}function GO(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,c=Number(n[5]||0)-r,u=Number(n[6]||0),l=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,c,u,l),e}function BT(n){return n instanceof Date&&!isNaN(n.valueOf())}var Pd=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ei=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Pd(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let c=r.get(o);r.move(c,s),$T(c,i)}});for(let i=0,o=r.length;i<o;i++){let c=r.get(i).context;c.index=i,c.count=o,c.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);$T(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(Fe(hs),Fe(gd),Fe(Um))};static \u0275dir=Qr({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function $T(n,e){n.context.$implicit=e.item}function WO(n,e){return new V(2100,!1)}var KO="mediumDate",eC=new U(""),tC=new U(""),to=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??KO,c=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return ZT(t,s,o||this.locale,c)}catch(s){throw WO(n,s.message)}}static \u0275fac=function(r){return new(r||n)(Fe(vc,16),Fe(eC,24),Fe(tC,24))};static \u0275pipe=Dm({name:"date",type:n,pure:!0})}return n})();var ti=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=On({type:n});static \u0275inj=fn({})}return n})();function Wm(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Cc=class{};var nC="browser";var rC=(()=>{class n{static \u0275prov=H({token:n,providedIn:"root",factory:()=>new Km(N(qe),window)})}return n})(),Km=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo(ve(O({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let r=QO(this.document,e);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn($r(2400,!1))}}scrollToElement(e,t){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(ve(O({},t),{left:i-s[0],top:o-s[1]}))}};function QO(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Sc=class{_doc;constructor(e){this._doc=e}manager},kd=(()=>{class n extends Sc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(K(qe))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),Fd=new U(""),Xm=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof kd));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof kd);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new V(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(K(Fd),K(Se))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),Qm="ng-app-id";function iC(n){for(let e of n)e.remove()}function oC(n,e){let t=e.createElement("style");return t.textContent=n,t}function YO(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Qm}="${e}"],link[${Qm}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Qm),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Zm(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var ey=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,YO(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,oC);r?.forEach(i=>this.addUsage(i,this.external,Zm))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(iC(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])iC(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,oC(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,Zm(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(K(qe),K(sd),K(cd,8),K(Wi))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),Ym={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ty=/%COMP%/g;var aC="%COMP%",ZO=`_nghost-${aC}`,JO=`_ngcontent-${aC}`,XO=!0,e1=new U("",{providedIn:"root",factory:()=>XO});function t1(n){return JO.replace(ty,n)}function n1(n){return ZO.replace(ty,n)}function cC(n,e){return e.map(t=>t.replace(ty,n))}var ny=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,c,u=null,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=c,this.nonce=u,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new Ac(t,s,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Od?i.applyToHost(t):i instanceof Rc&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case lr.Emulated:o=new Od(u,l,r,this.appId,f,s,c,p,m);break;case lr.ShadowDom:return new Jm(u,l,t,r,s,c,this.nonce,p,m);default:o=new Rc(u,l,r,f,s,c,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(K(Xm),K(ey),K(sd),K(e1),K(qe),K(Se),K(cd),K(Qi,8))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),Ac=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Ym[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(sC(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(sC(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new V(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Ym[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Ym[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Kr.DashCase|Kr.Important)?e.style.setProperty(t,r,i&Kr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Kr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=hr().getGlobalEventTarget(this.doc,e),!e))throw new V(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function sC(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Jm=class extends Ac{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,c,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=i.styles;f=cC(i.id,f);for(let m of f){let y=document.createElement("style");c&&y.setAttribute("nonce",c),y.textContent=m,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let m of p){let y=Zm(m,o);c&&y.setAttribute("nonce",c),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Rc=class extends Ac{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,c,u,l){super(e,o,s,c,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let f=r.styles;this.styles=l?cC(l,f):f,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&us.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Od=class extends Rc{contentAttr;hostAttr;constructor(e,t,r,i,o,s,c,u,l){let f=i+"-"+r.id;super(e,t,r,o,s,c,u,l,f),this.contentAttr=t1(f),this.hostAttr=n1(f)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Ld=class n extends Ec{supportsDOMEvents=!0;static makeCurrent(){Bm(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=r1();return t==null?null:i1(t)}resetBaseElement(){Nc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Wm(document.cookie,e)}},Nc=null;function r1(){return Nc=Nc||document.head.querySelector("base"),Nc?Nc.getAttribute("href"):null}function i1(n){return new URL(n,document.baseURI).pathname}var o1=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),uC=["alt","control","meta","shift"],s1={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},a1={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},lC=(()=>{class n extends Sc{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),c=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>hr().onAndCancel(t,s.domEventName,c,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),s="code."),uC.forEach(l=>{let f=r.indexOf(l);f>-1&&(r.splice(f,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=s1[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),uC.forEach(s=>{if(s!==i){let c=a1[s];c(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(K(qe))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})();function ry(n,e,t){let r=O({rootComponent:n,platformRef:t?.platformRef},c1(e));return OT(r)}function c1(n){return{appProviders:[...f1,...n?.providers??[]],platformProviders:h1}}function u1(){Ld.makeCurrent()}function l1(){return new hn}function d1(){return em(document),document}var h1=[{provide:Wi,useValue:nC},{provide:ad,useValue:u1,multi:!0},{provide:qe,useFactory:d1}];var f1=[{provide:Wa,useValue:"root"},{provide:hn,useFactory:l1},{provide:Fd,useClass:kd,multi:!0,deps:[qe]},{provide:Fd,useClass:lC,multi:!0,deps:[qe]},ny,ey,Xm,{provide:$i,useExisting:ny},{provide:Cc,useClass:o1},[]];var dC=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(K(qe))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ee="primary",Hc=Symbol("RouteTitle"),cy=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function io(n){return new cy(n)}function _C(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],c=n[o];if(s[0]===":")i[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function g1(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ln(n[t],e[t]))return!1;return!0}function Ln(n,e){let t=n?uy(n):void 0,r=e?uy(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!EC(n[i],e[i]))return!1;return!0}function uy(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function EC(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function IC(n){return n.length>0?n[n.length-1]:null}function gr(n){return Mp(n)?n:Zi(n)?Oe(Promise.resolve(n)):W(n)}var m1={exact:DC,subset:bC},wC={exact:y1,subset:v1,ignored:()=>!0};function hC(n,e,t){return m1[t.paths](n.root,e.root,t.matrixParams)&&wC[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function y1(n,e){return Ln(n,e)}function DC(n,e,t){if(!no(n.segments,e.segments)||!Ud(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!DC(n.children[r],e.children[r],t))return!1;return!0}function v1(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>EC(n[t],e[t]))}function bC(n,e,t){return TC(n,e,e.segments,t)}function TC(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!no(i,t)||e.hasChildren()||!Ud(i,t,r))}else if(n.segments.length===t.length){if(!no(n.segments,t)||!Ud(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!bC(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!no(n.segments,i)||!Ud(n.segments,i,r)||!n.children[ee]?!1:TC(n.children[ee],e,o,r)}}function Ud(n,e,t){return e.every((r,i)=>wC[t](n[i].parameters,r.parameters))}var jn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new _e([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=io(this.queryParams),this._queryParamMap}toString(){return I1.serialize(this)}},_e=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bd(this)}},ni=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=io(this.parameters),this._parameterMap}toString(){return SC(this)}};function _1(n,e){return no(n,e)&&n.every((t,r)=>Ln(t.parameters,e[r].parameters))}function no(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function E1(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ee&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ee&&(t=t.concat(e(i,r)))}),t}var oo=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>new ri,providedIn:"root"})}return n})(),ri=class{parse(e){let t=new dy(e);return new jn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Mc(e.root,!0)}`,r=b1(e.queryParams),i=typeof e.fragment=="string"?`#${w1(e.fragment)}`:"";return`${t}${r}${i}`}},I1=new ri;function Bd(n){return n.segments.map(e=>SC(e)).join("/")}function Mc(n,e){if(!n.hasChildren())return Bd(n);if(e){let t=n.children[ee]?Mc(n.children[ee],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ee&&r.push(`${i}:${Mc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=E1(n,(r,i)=>i===ee?[Mc(n.children[ee],!1)]:[`${i}:${Mc(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ee]!=null?`${Bd(n)}/${t[0]}`:`${Bd(n)}/(${t.join("//")})`}}function CC(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vd(n){return CC(n).replace(/%3B/gi,";")}function w1(n){return encodeURI(n)}function ly(n){return CC(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $d(n){return decodeURIComponent(n)}function fC(n){return $d(n.replace(/\+/g,"%20"))}function SC(n){return`${ly(n.path)}${D1(n.parameters)}`}function D1(n){return Object.entries(n).map(([e,t])=>`;${ly(e)}=${ly(t)}`).join("")}function b1(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Vd(t)}=${Vd(i)}`).join("&"):`${Vd(t)}=${Vd(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var T1=/^[^\/()?;#]+/;function iy(n){let e=n.match(T1);return e?e[0]:""}var C1=/^[^\/()?;=#]+/;function S1(n){let e=n.match(C1);return e?e[0]:""}var A1=/^[^=?&#]+/;function R1(n){let e=n.match(A1);return e?e[0]:""}var N1=/^[^&#]+/;function M1(n){let e=n.match(N1);return e?e[0]:""}var dy=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new _e([],{}):new _e([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ee]=new _e(e,t)),r}parseSegment(){let e=iy(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new V(4009,!1);return this.capture(e),new ni($d(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=S1(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=iy(this.remaining);i&&(r=i,this.capture(r))}e[$d(t)]=$d(r)}parseQueryParam(e){let t=R1(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=M1(this.remaining);s&&(r=s,this.capture(r))}let i=fC(t),o=fC(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=iy(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new V(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ee);let s=this.parseChildren();t[o??ee]=Object.keys(s).length===1&&s[ee]?s[ee]:new _e([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new V(4011,!1)}};function AC(n){return n.segments.length>0?new _e([],{[ee]:n}):n}function RC(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=RC(i);if(r===ee&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))e[s]=c;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new _e(n.segments,e);return P1(t)}function P1(n){if(n.numberOfChildren===1&&n.children[ee]){let e=n.children[ee];return new _e(n.segments.concat(e.segments),e.children)}return n}function ii(n){return n instanceof jn}function NC(n,e,t=null,r=null){let i=MC(n);return PC(i,e,t,r)}function MC(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let c=new _e(o.url,s);return o===n&&(e=c),c}let r=t(n.root),i=AC(r);return e??i}function PC(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return oy(i,i,i,t,r);let o=x1(e);if(o.toRoot())return oy(i,i,new _e([],{}),t,r);let s=k1(o,i,n),c=s.processChildren?xc(s.segmentGroup,s.index,o.commands):kC(s.segmentGroup,s.index,o.commands);return oy(i,s.segmentGroup,c,t,r)}function Hd(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Oc(n){return typeof n=="object"&&n!=null&&n.outlets}function oy(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let s;n===e?s=t:s=xC(n,e,t);let c=AC(RC(s));return new jn(c,o,i)}function xC(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=xC(o,e,t)}),new _e(n.segments,r)}var qd=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Hd(r[0]))throw new V(4003,!1);let i=r.find(Oc);if(i&&i!==IC(r))throw new V(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function x1(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new qd(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?t=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,o]},[]);return new qd(t,e,r)}var vs=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function k1(n,e,t){if(n.isAbsolute)return new vs(e,!0,0);if(!t)return new vs(e,!1,NaN);if(t.parent===null)return new vs(t,!0,0);let r=Hd(n.commands[0])?0:1,i=t.segments.length-1+r;return O1(t,i,n.numberOfDoubleDots)}function O1(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new V(4005,!1);i=r.segments.length}return new vs(r,!1,i-o)}function F1(n){return Oc(n[0])?n[0].outlets:{[ee]:n}}function kC(n,e,t){if(n??=new _e([],{}),n.segments.length===0&&n.hasChildren())return xc(n,e,t);let r=L1(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new _e(n.segments.slice(0,r.pathIndex),{});return o.children[ee]=new _e(n.segments.slice(r.pathIndex),n.children),xc(o,0,i)}else return r.match&&i.length===0?new _e(n.segments,{}):r.match&&!n.hasChildren()?hy(n,e,t):r.match?xc(n,0,i):hy(n,e,t)}function xc(n,e,t){if(t.length===0)return new _e(n.segments,{});{let r=F1(t),i={};if(Object.keys(r).some(o=>o!==ee)&&n.children[ee]&&n.numberOfChildren===1&&n.children[ee].segments.length===0){let o=xc(n.children[ee],e,t);return new _e(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=kC(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new _e(n.segments,i)}}function L1(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],c=t[r];if(Oc(c))break;let u=`${c}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!gC(u,l,s))return o;r+=2}else{if(!gC(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function hy(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Oc(o)){let u=V1(o.outlets);return new _e(r,u)}if(i===0&&Hd(t[0])){let u=n.segments[e];r.push(new ni(u.path,pC(t[0]))),i++;continue}let s=Oc(o)?o.outlets[ee]:`${o}`,c=i<t.length-1?t[i+1]:null;s&&c&&Hd(c)?(r.push(new ni(s,pC(c))),i+=2):(r.push(new ni(s,{})),i++)}return new _e(r,{})}function V1(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=hy(new _e([],{}),0,r))}),e}function pC(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function gC(n,e,t){return n==t.path&&Ln(e,t.parameters)}var _s="imperative",tt=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(tt||{}),Gt=class{id;url;constructor(e,t){this.id=e,this.url=t}},oi=class extends Gt{type=tt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},rn=class extends Gt{urlAfterRedirects;type=tt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Mt=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(Mt||{}),Is=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(Is||{}),Vn=class extends Gt{reason;code;type=tt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Un=class extends Gt{reason;code;type=tt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},ws=class extends Gt{error;target;type=tt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Fc=class extends Gt{urlAfterRedirects;state;type=tt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zd=class extends Gt{urlAfterRedirects;state;type=tt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gd=class extends Gt{urlAfterRedirects;state;shouldActivate;type=tt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Wd=class extends Gt{urlAfterRedirects;state;type=tt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kd=class extends Gt{urlAfterRedirects;state;type=tt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qd=class{route;type=tt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Yd=class{route;type=tt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Zd=class{snapshot;type=tt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jd=class{snapshot;type=tt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xd=class{snapshot;type=tt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},eh=class{snapshot;type=tt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ds=class{routerEvent;position;anchor;type=tt.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Lc=class{},bs=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function j1(n){return!(n instanceof Lc)&&!(n instanceof bs)}function U1(n,e){return n.providers&&!n._injector&&(n._injector=fs(n.providers,e,`Route: ${n.path}`)),n._injector??e}function bn(n){return n.outlet||ee}function B1(n,e){let t=n.filter(r=>bn(r)===e);return t.push(...n.filter(r=>bn(r)!==e)),t}function Ss(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var th=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ss(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new so(this.rootInjector)}},so=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new th(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(K(He))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),nh=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=fy(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=fy(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=py(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return py(e,this._root).map(t=>t.value)}};function fy(n,e){if(n===e.value)return e;for(let t of e.children){let r=fy(n,t);if(r)return r}return null}function py(n,e){if(n===e.value)return[e];for(let t of e.children){let r=py(n,t);if(r.length)return r.unshift(e),r}return[]}var zt=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function ys(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Vc=class extends nh{snapshot;constructor(e,t){super(e),this.snapshot=t,wy(this,e)}toString(){return this.snapshot.toString()}};function OC(n){let e=$1(n),t=new ut([new ni("",{})]),r=new ut({}),i=new ut({}),o=new ut({}),s=new ut(""),c=new Bn(t,r,o,s,i,ee,n,e.root);return c.snapshot=e.root,new Vc(new zt(c,[]),e)}function $1(n){let e={},t={},r={},o=new ro([],e,r,"",t,ee,n,null,{});return new jc("",new zt(o,[]))}var Bn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,c,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ce(l=>l[Hc]))??W(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ce(e=>io(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ce(e=>io(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function rh(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:O(O({},e.params),n.params),data:O(O({},e.data),n.data),resolve:O(O(O(O({},n.data),e.data),i?.data),n._resolvedData)}:r={params:O({},n.params),data:O({},n.data),resolve:O(O({},n.data),n._resolvedData??{})},i&&LC(i)&&(r.resolve[Hc]=i.title),r}var ro=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Hc]}constructor(e,t,r,i,o,s,c,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=io(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=io(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},jc=class extends nh{url;constructor(e,t){super(t),this.url=e,wy(this,t)}toString(){return FC(this._root)}};function wy(n,e){e.value._routerState=n,e.children.forEach(t=>wy(n,t))}function FC(n){let e=n.children.length>0?` { ${n.children.map(FC).join(", ")} } `:"";return`${n.value}${e}`}function sy(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ln(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Ln(e.params,t.params)||n.paramsSubject.next(t.params),g1(e.url,t.url)||n.urlSubject.next(t.url),Ln(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function gy(n,e){let t=Ln(n.params,e.params)&&_1(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||gy(n.parent,e.parent))}function LC(n){return typeof n.title=="string"||n.title===null}var VC=new U(""),qc=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ee;activateEvents=new yt;deactivateEvents=new yt;attachEvents=new yt;detachEvents=new yt;routerOutletData=kT();parentContexts=N(so);location=N(hs);changeDetector=N(ps);inputBinder=N(zc,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new V(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new V(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new V(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new V(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new my(t,c,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Qr({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[zi]})}return n})(),my=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Bn?this.route:e===so?this.childContexts:e===VC?this.outletData:this.parent.get(e,t)}},zc=new U(""),Dy=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=La([r.queryParams,r.params,r.data]).pipe(St(([o,s,c],u)=>(c=O(O(O({},o),s),c),u===0?W(c):Promise.resolve(c)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=FT(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:c}of s.inputs)t.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),by=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=_n({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&ue(0,"router-outlet")},dependencies:[qc],encapsulation:2})}return n})();function Ty(n){let e=n.children&&n.children.map(Ty),t=e?ve(O({},n),{children:e}):O({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ee&&(t.component=by),t}function H1(n,e,t){let r=Uc(n,e._root,t?t._root:void 0);return new Vc(r,e)}function Uc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=q1(n,e,t);return new zt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(c=>Uc(n,c)),s}}let r=z1(e.value),i=e.children.map(o=>Uc(n,o));return new zt(r,i)}}function q1(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Uc(n,r,i);return Uc(n,r)})}function z1(n){return new Bn(new ut(n.url),new ut(n.params),new ut(n.queryParams),new ut(n.fragment),new ut(n.data),n.outlet,n.component,n)}var Ts=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},jC="ngNavigationCancelingError";function ih(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=ii(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=UC(!1,Mt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function UC(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[jC]=!0,t.cancellationCode=e,t}function G1(n){return BC(n)&&ii(n.url)}function BC(n){return!!n&&n[jC]}var W1=(n,e,t,r)=>ce(i=>(new yy(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),yy=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),sy(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=ys(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ys(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ys(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=ys(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new eh(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Jd(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(sy(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),sy(c.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},oh=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Es=class{component;route;constructor(e,t){this.component=e,this.route=t}};function K1(n,e,t){let r=n._root,i=e?e._root:null;return Pc(r,i,t,[r.value])}function Q1(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function As(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Kp(n)?n:e.get(n):r}function Pc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ys(e);return n.children.forEach(s=>{Y1(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>kc(c,t.getContext(s),i)),i}function Y1(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=Z1(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new oh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Pc(n,e,c?c.children:null,r,i):Pc(n,e,t,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Es(c.outlet.component,s))}else s&&kc(e,c,i),i.canActivateChecks.push(new oh(r)),o.component?Pc(n,null,c?c.children:null,r,i):Pc(n,null,t,r,i);return i}function Z1(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!no(n.url,e.url);case"pathParamsOrQueryParamsChange":return!no(n.url,e.url)||!Ln(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gy(n,e)||!Ln(n.queryParams,e.queryParams);case"paramsChange":default:return!gy(n,e)}}function kc(n,e,t){let r=ys(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?kc(s,e.children.getContext(o),t):kc(s,null,t):kc(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Es(e.outlet.component,i)):t.canDeactivateChecks.push(new Es(null,i)):t.canDeactivateChecks.push(new Es(null,i))}function Gc(n){return typeof n=="function"}function J1(n){return typeof n=="boolean"}function X1(n){return n&&Gc(n.canLoad)}function eF(n){return n&&Gc(n.canActivate)}function tF(n){return n&&Gc(n.canActivateChild)}function nF(n){return n&&Gc(n.canDeactivate)}function rF(n){return n&&Gc(n.canMatch)}function $C(n){return n instanceof er||n?.name==="EmptyError"}var jd=Symbol("INITIAL_VALUE");function Cs(){return St(n=>La(n.map(e=>e.pipe(nr(1),yl(jd)))).pipe(ce(e=>{for(let t of e)if(t!==!0){if(t===jd)return jd;if(t===!1||iF(t))return t}return!0}),Ct(e=>e!==jd),nr(1)))}function iF(n){return ii(n)||n instanceof Ts}function oF(n,e){return $e(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?W(ve(O({},t),{guardsResult:!0})):sF(s,r,i,n).pipe($e(c=>c&&J1(c)?aF(r,o,n,e):W(c)),ce(c=>ve(O({},t),{guardsResult:c})))})}function sF(n,e,t,r){return Oe(n).pipe($e(i=>hF(i.component,i.route,t,e,r)),rr(i=>i!==!0,!0))}function aF(n,e,t,r){return Oe(e).pipe(Fr(i=>Zo(uF(i.route.parent,r),cF(i.route,r),dF(n,i.path,t),lF(n,i.route,t))),rr(i=>i!==!0,!0))}function cF(n,e){return n!==null&&e&&e(new Xd(n)),W(!0)}function uF(n,e){return n!==null&&e&&e(new Zd(n)),W(!0)}function lF(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return W(!0);let i=r.map(o=>Va(()=>{let s=Ss(e)??t,c=As(o,s),u=eF(c)?c.canActivate(e,n):Ke(s,()=>c(e,n));return gr(u).pipe(rr())}));return W(i).pipe(Cs())}function dF(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Q1(s)).filter(s=>s!==null).map(s=>Va(()=>{let c=s.guards.map(u=>{let l=Ss(s.node)??t,f=As(u,l),p=tF(f)?f.canActivateChild(r,n):Ke(l,()=>f(r,n));return gr(p).pipe(rr())});return W(c).pipe(Cs())}));return W(o).pipe(Cs())}function hF(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return W(!0);let s=o.map(c=>{let u=Ss(e)??i,l=As(c,u),f=nF(l)?l.canDeactivate(n,e,t,r):Ke(u,()=>l(n,e,t,r));return gr(f).pipe(rr())});return W(s).pipe(Cs())}function fF(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return W(!0);let o=i.map(s=>{let c=As(s,n),u=X1(c)?c.canLoad(e,t):Ke(n,()=>c(e,t));return gr(u)});return W(o).pipe(Cs(),HC(r))}function HC(n){return el(ot(e=>{if(typeof e!="boolean")throw ih(n,e)}),ce(e=>e===!0))}function pF(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return W(!0);let o=i.map(s=>{let c=As(s,n),u=rF(c)?c.canMatch(e,t):Ke(n,()=>c(e,t));return gr(u)});return W(o).pipe(Cs(),HC(r))}var Bc=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},$c=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function ms(n){return Qo(new Bc(n))}function gF(n){return Qo(new V(4e3,!1))}function mF(n){return Qo(UC(!1,Mt.GuardRejected))}var vy=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return W(r);if(i.numberOfChildren>1||!i.children[ee])return gF(`${e.redirectTo}`);i=i.children[ee]}}applyRedirectCommands(e,t,r,i,o){return yF(t,i,o).pipe(ce(s=>{if(s instanceof jn)throw new $c(s);let c=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new $c(c);return c}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new jn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);r[i]=t[c]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([c,u])=>{s[c]=this.createSegmentGroup(e,u,r,i)}),new _e(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new V(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function yF(n,e,t){if(typeof n=="string")return W(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:c,outlet:u,params:l,data:f,title:p}=e;return gr(Ke(t,()=>r({params:l,data:f,queryParams:i,fragment:o,routeConfig:s,url:c,outlet:u,title:p})))}var _y={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function vF(n,e,t,r,i){let o=qC(n,e,t);return o.matched?(r=U1(e,r),pF(r,e,t,i).pipe(ce(s=>s===!0?o:O({},_y)))):W(o)}function qC(n,e,t){if(e.path==="**")return _F(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?O({},_y):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||_C)(t,n,e);if(!i)return O({},_y);let o={};Object.entries(i.posParams??{}).forEach(([c,u])=>{o[c]=u.path});let s=i.consumed.length>0?O(O({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function _F(n){return{matched:!0,parameters:n.length>0?IC(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function mC(n,e,t,r){return t.length>0&&wF(n,t,r)?{segmentGroup:new _e(e,IF(r,new _e(t,n.children))),slicedSegments:[]}:t.length===0&&DF(n,t,r)?{segmentGroup:new _e(n.segments,EF(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new _e(n.segments,n.children),slicedSegments:t}}function EF(n,e,t,r){let i={};for(let o of t)if(ah(n,e,o)&&!r[bn(o)]){let s=new _e([],{});i[bn(o)]=s}return O(O({},r),i)}function IF(n,e){let t={};t[ee]=e;for(let r of n)if(r.path===""&&bn(r)!==ee){let i=new _e([],{});t[bn(r)]=i}return t}function wF(n,e,t){return t.some(r=>ah(n,e,r)&&bn(r)!==ee)}function DF(n,e,t){return t.some(r=>ah(n,e,r))}function ah(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function bF(n,e,t){return e.length===0&&!n.children[t]}var Ey=class{};function TF(n,e,t,r,i,o,s="emptyOnly"){return new Iy(n,e,t,r,i,s,o).recognize()}var CF=31,Iy=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,c){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new vy(this.urlSerializer,this.urlTree)}noMatchError(e){return new V(4002,`'${e.segmentGroup}'`)}recognize(){let e=mC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ce(({children:t,rootSnapshot:r})=>{let i=new zt(r,t),o=new jc("",i),s=NC(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new ro([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ee,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ee,t).pipe(ce(r=>({children:r,rootSnapshot:t})),tr(r=>{if(r instanceof $c)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Bc?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(ce(s=>s instanceof zt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Oe(o).pipe(Fr(s=>{let c=r.children[s],u=B1(t,s);return this.processSegmentGroup(e,u,c,s,i)}),ml((s,c)=>(s.push(...c),s)),Lr(null),Pp(),$e(s=>{if(s===null)return ms(r);let c=zC(s);return SF(c),W(c)}))}processSegment(e,t,r,i,o,s,c){return Oe(t).pipe(Fr(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,c).pipe(tr(l=>{if(l instanceof Bc)return W(null);throw l}))),rr(u=>!!u),tr(u=>{if($C(u))return bF(r,i,o)?W(new Ey):ms(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,c,u){return bn(r)!==s&&(s===ee||!ah(i,o,r))?ms(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):ms(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,c){let{matched:u,parameters:l,consumedSegments:f,positionalParamSegments:p,remainingSegments:m}=qC(t,i,o);if(!u)return ms(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>CF&&(this.allowRedirects=!1));let y=new ro(o,l,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,yC(i),bn(i),i.component??i._loadedComponent??null,i,vC(i)),S=rh(y,c,this.paramsInheritanceStrategy);return y.params=Object.freeze(S.params),y.data=Object.freeze(S.data),this.applyRedirects.applyRedirectCommands(f,i.redirectTo,p,y,e).pipe(St(R=>this.applyRedirects.lineralizeSegments(i,R)),$e(R=>this.processSegment(e,r,t,R.concat(m),s,!1,c)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let c=vF(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),c.pipe(St(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(St(({routes:l})=>{let f=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,S=new ro(m,p,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,yC(r),bn(r),r.component??r._loadedComponent??null,r,vC(r)),M=rh(S,s,this.paramsInheritanceStrategy);S.params=Object.freeze(M.params),S.data=Object.freeze(M.data);let{segmentGroup:R,slicedSegments:F}=mC(t,m,y,l);if(F.length===0&&R.hasChildren())return this.processChildren(f,l,R,S).pipe(ce(Z=>new zt(S,Z)));if(l.length===0&&F.length===0)return W(new zt(S,[]));let Q=bn(r)===o;return this.processSegment(f,l,R,F,Q?ee:o,!0,S).pipe(ce(Z=>new zt(S,Z instanceof zt?[Z]:[])))}))):ms(t)))}getChildConfig(e,t,r){return t.children?W({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?W({routes:t._loadedRoutes,injector:t._loadedInjector}):fF(e,t,r,this.urlSerializer).pipe($e(i=>i?this.configLoader.loadChildren(e,t).pipe(ot(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):mF(t))):W({routes:[],injector:e})}};function SF(n){n.sort((e,t)=>e.value.outlet===ee?-1:t.value.outlet===ee?1:e.value.outlet.localeCompare(t.value.outlet))}function AF(n){let e=n.value.routeConfig;return e&&e.path===""}function zC(n){let e=[],t=new Set;for(let r of n){if(!AF(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=zC(r.children);e.push(new zt(r.value,i))}return e.filter(r=>!t.has(r))}function yC(n){return n.data||{}}function vC(n){return n.resolve||{}}function RF(n,e,t,r,i,o){return $e(s=>TF(n,e,t,r,s.extractedUrl,i,o).pipe(ce(({state:c,tree:u})=>ve(O({},s),{targetSnapshot:c,urlAfterRedirects:u}))))}function NF(n,e){return $e(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return W(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of GC(u))s.add(l);let c=0;return Oe(s).pipe(Fr(u=>o.has(u)?MF(u,r,n,e):(u.data=rh(u,u.parent,n).resolve,W(void 0))),ot(()=>c++),Jo(1),$e(u=>c===s.size?W(t):kt))})}function GC(n){let e=n.children.map(t=>GC(t)).flat();return[n,...e]}function MF(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!LC(i)&&(o[Hc]=i.title),Va(()=>(n.data=rh(n,n.parent,t).resolve,PF(o,n,e,r).pipe(ce(s=>(n._resolvedData=s,n.data=O(O({},n.data),s),null)))))}function PF(n,e,t,r){let i=uy(n);if(i.length===0)return W({});let o={};return Oe(i).pipe($e(s=>xF(n[s],e,t,r).pipe(rr(),ot(c=>{if(c instanceof Ts)throw ih(new ri,c);o[s]=c}))),Jo(1),ce(()=>o),tr(s=>$C(s)?kt:Qo(s)))}function xF(n,e,t,r){let i=Ss(e)??r,o=As(n,i),s=o.resolve?o.resolve(e,t):Ke(i,()=>o(e,t));return gr(s)}function ay(n){return St(e=>{let t=n(e);return t?Oe(t).pipe(ce(()=>e)):W(e)})}var Cy=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ee);return r}getResolvedTitleForRoute(t){return t.data[Hc]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>N(WC),providedIn:"root"})}return n})(),WC=(()=>{class n extends Cy{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(K(dC))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),si=new U("",{providedIn:"root",factory:()=>({})}),ao=new U(""),ch=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=N(Nm);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return W(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=gr(Ke(t,()=>r.loadComponent())).pipe(ce(QC),St(YC),ot(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),ja(()=>{this.componentLoaders.delete(r)})),o=new zo(i,()=>new rt).pipe(qo());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=KC(r,this.compiler,t,this.onLoadEndListener).pipe(ja(()=>{this.childrenLoaders.delete(r)})),s=new zo(o,()=>new rt).pipe(qo());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function KC(n,e,t,r){return gr(Ke(t,()=>n.loadChildren())).pipe(ce(QC),St(YC),$e(i=>i instanceof yd||Array.isArray(i)?W(i):Oe(e.compileModuleAsync(i))),ce(i=>{r&&r(n);let o,s,c=!1;return Array.isArray(i)?(s=i,c=!0):(o=i.create(t).injector,s=o.get(ao,[],{optional:!0,self:!0}).flat()),{routes:s.map(Ty),injector:o}}))}function kF(n){return n&&typeof n=="object"&&"default"in n}function QC(n){return kF(n)?n.default:n}function YC(n){return W(n)}var uh=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>N(OF),providedIn:"root"})}return n})(),OF=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Sy=new U(""),Ay=new U("");function ZC(n,e,t){let r=n.get(Ay),i=n.get(qe);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),c=i.startViewTransition(()=>(o(),FF(n)));c.ready.catch(l=>{});let{onViewTransitionCreated:u}=r;return u&&Ke(n,()=>u({transition:c,from:e,to:t})),s}function FF(n){return new Promise(e=>{fd({read:()=>setTimeout(e)},{injector:n})})}var Ry=new U(""),lh=(()=>{class n{currentNavigation=ge(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new rt;transitionAbortWithErrorSubject=new rt;configLoader=N(ch);environmentInjector=N(He);destroyRef=N(yn);urlSerializer=N(oo);rootContexts=N(so);location=N(Xr);inputBindingEnabled=N(zc,{optional:!0})!==null;titleStrategy=N(Cy);options=N(si,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=N(uh);createViewTransition=N(Sy,{optional:!0});navigationErrorHandler=N(Ry,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>W(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Qd(i)),r=i=>this.events.next(new Yd(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;En(()=>{this.transitions?.next(ve(O({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new ut(null),this.transitions.pipe(Ct(r=>r!==null),St(r=>{let i=!1;return W(r).pipe(St(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Mt.SupersededByNewNavigation),kt;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?ve(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&c!=="reload")return this.events.next(new Un(o.id,this.urlSerializer.serialize(o.rawUrl),"",Is.IgnoredSameUrlNavigation)),o.resolve(!1),kt;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return W(o).pipe(St(u=>(this.events.next(new oi(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?kt:Promise.resolve(u))),RF(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),ot(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(f=>(f.finalUrl=u.urlAfterRedirects,f));let l=new Fc(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:f,restoredState:p,extras:m}=o,y=new oi(u,this.urlSerializer.serialize(l),f,p);this.events.next(y);let S=OC(this.rootComponentType).snapshot;return this.currentTransition=r=ve(O({},o),{targetSnapshot:S,urlAfterRedirects:l,extras:ve(O({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(M=>(M.finalUrl=l,M)),W(r)}else return this.events.next(new Un(o.id,this.urlSerializer.serialize(o.extractedUrl),"",Is.IgnoredByUrlHandlingStrategy)),o.resolve(!1),kt}),ot(o=>{let s=new zd(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),ce(o=>(this.currentTransition=r=ve(O({},o),{guards:K1(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),oF(this.environmentInjector,o=>this.events.next(o)),ot(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw ih(this.urlSerializer,o.guardsResult);let s=new Gd(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),Ct(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Mt.GuardRejected),!1)),ay(o=>{if(o.guards.canActivateChecks.length!==0)return W(o).pipe(ot(s=>{let c=new Wd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}),St(s=>{let c=!1;return W(s).pipe(NF(this.paramsInheritanceStrategy,this.environmentInjector),ot({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(s,"",Mt.NoDataFromResolver)}}))}),ot(s=>{let c=new Kd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}))}),ay(o=>{let s=c=>{let u=[];if(c.routeConfig?.loadComponent){let l=Ss(c)??this.environmentInjector;u.push(this.configLoader.loadComponent(l,c.routeConfig).pipe(ot(f=>{c.component=f}),ce(()=>{})))}for(let l of c.children)u.push(...s(l));return u};return La(s(o.targetSnapshot.root)).pipe(Lr(null),nr(1))}),ay(()=>this.afterPreactivation()),St(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,c=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return c?Oe(c).pipe(ce(()=>r)):W(r)}),ce(o=>{let s=H1(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=ve(O({},o),{targetRouterState:s}),this.currentNavigation.update(c=>(c.targetRouterState=s,c)),r}),ot(()=>{this.events.next(new Lc)}),W1(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),nr(1),vl(new se(o=>{let s=r.abortController.signal,c=()=>o.next();return s.addEventListener("abort",c),()=>s.removeEventListener("abort",c)}).pipe(Ct(()=>!i&&!r.targetRouterState),ot(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Mt.Aborted)}))),ot({next:o=>{i=!0,this.lastSuccessfulNavigation=En(this.currentNavigation),this.events.next(new rn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),vl(this.transitionAbortWithErrorSubject.pipe(ot(o=>{throw o}))),ja(()=>{i||this.cancelNavigationTransition(r,"",Mt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),tr(o=>{if(this.destroyed)return r.resolve(!1),kt;if(i=!0,BC(o))this.events.next(new Vn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),G1(o)?this.events.next(new bs(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new ws(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let c=Ke(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(c instanceof Ts){let{message:u,cancellationCode:l}=ih(this.urlSerializer,c);this.events.next(new Vn(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new bs(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return kt}))}))}cancelNavigationTransition(t,r,i){let o=new Vn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=En(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function LF(n){return n!==_s}var JC=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>N(VF),providedIn:"root"})}return n})(),sh=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},VF=(()=>{class n extends sh{static \u0275fac=(()=>{let t;return function(i){return(t||(t=hc(n)))(i||n)}})();static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),XC=(()=>{class n{urlSerializer=N(oo);options=N(si,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=N(Xr);urlHandlingStrategy=N(uh);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new jn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof jn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=OC(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>N(jF),providedIn:"root"})}return n})(),jF=(()=>{class n extends XC{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof oi?this.updateStateMemento():t instanceof Un?this.commitTransition(r):t instanceof Fc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Lc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Vn&&t.code!==Mt.SupersededByNewNavigation&&t.code!==Mt.Redirect?this.restoreHistory(r):t instanceof ws?this.restoreHistory(r,!0):t instanceof rn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let c=this.browserPageId,u=O(O({},s),this.generateNgRouterState(i,c));this.location.replaceState(t,"",u)}else{let c=O(O({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",c)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=hc(n)))(i||n)}})();static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function dh(n,e){n.events.pipe(Ct(t=>t instanceof rn||t instanceof Vn||t instanceof ws||t instanceof Un),ce(t=>t instanceof rn||t instanceof Un?0:(t instanceof Vn?t.code===Mt.Redirect||t.code===Mt.SupersededByNewNavigation:!1)?2:1),Ct(t=>t!==2),nr(1)).subscribe(()=>{e()})}var UF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},BF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},$n=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=N(bm);stateManager=N(XC);options=N(si,{optional:!0})||{};pendingTasks=N(xn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=N(lh);urlSerializer=N(oo);location=N(Xr);urlHandlingStrategy=N(uh);injector=N(He);_events=new rt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=N(JC);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=N(ao,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!N(zc,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ue;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=En(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Vn&&r.code!==Mt.Redirect&&r.code!==Mt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof rn)this.navigated=!0;else if(r instanceof bs){let s=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=O({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||LF(i.source)},s);this.scheduleNavigation(c,_s,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}j1(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),_s,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=O({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(t);this.scheduleNavigation(c,r,s,o).catch(u=>{this.disposed||this.injector.get(Nt)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return En(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Ty),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:c,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,f=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":f=O(O({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=MC(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return PC(p,t,f,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=ii(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,_s,null,r)}navigate(t,r={skipLocationChange:!1}){return $F(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn($r(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=O({},UF):r===!1?i=O({},BF):i=r,ii(t))return hC(this.currentUrlTree,t,i);let o=this.parseUrl(t);return hC(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let c,u,l;s?(c=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{c=p,u=m});let f=this.pendingTasks.add();return dh(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $F(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new V(4008,!1)}var hh=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=ge(null);get href(){return En(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new rt;applicationErrorHandler=N(Nt);options=N(si,{optional:!0});constructor(t,r,i,o,s,c){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=c,this.reactiveHref.set(N(new Ed("href"),{optional:!0}));let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof rn&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ii(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let c=this.urlTree;if(c===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:ii(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(Fe($n),Fe(Bn),fc("tabindex"),Fe(ds),Fe(Gi),Fe(wn))};static \u0275dir=Qr({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&q("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&mc("href",i.reactiveHref(),im)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",gs],skipLocationChange:[2,"skipLocationChange","skipLocationChange",gs],replaceUrl:[2,"replaceUrl","replaceUrl",gs],routerLink:"routerLink"},features:[zi]})}return n})();var Wc=class{};var eS=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Ct(t=>t instanceof rn),Fr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=fs(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,c=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(c,o.children??o._loadedRoutes))}return Oe(i).pipe(Yo())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=W(null);let o=i.pipe($e(s=>s===null?W(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(t,r);return Oe([o,s]).pipe(Yo())}else return o})}static \u0275fac=function(r){return new(r||n)(K($n),K(He),K(Wc),K(ch))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tS=new U(""),HF=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=_s;restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof oi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof rn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Un&&t.code===Is.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{if(!(t instanceof Ds))return;let r={behavior:"instant"};t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position,r):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>C(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new Ds(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Im()};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})();function My(n,...e){return Yt([{provide:ao,multi:!0,useValue:n},[],{provide:Bn,useFactory:nS,deps:[$n]},{provide:gc,multi:!0,useFactory:rS},e.map(t=>t.\u0275providers)])}function nS(n){return n.routerState.root}function Kc(n,e){return{\u0275kind:n,\u0275providers:e}}function rS(){let n=N(We);return e=>{let t=n.get(Zr);if(e!==t.components[0])return;let r=n.get($n),i=n.get(iS);n.get(Py)===1&&r.initialNavigation(),n.get(aS,null,{optional:!0})?.setUpPreloading(),n.get(tS,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var iS=new U("",{factory:()=>new rt}),Py=new U("",{providedIn:"root",factory:()=>1});function oS(){let n=[{provide:tm,useValue:!0},{provide:Py,useValue:0},vd(()=>{let e=N(We);return e.get($m,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get($n),o=e.get(iS);dh(i,()=>{r(!0)}),e.get(lh).afterPreactivation=()=>(r(!0),o.closed?W(void 0):o),i.initialNavigation()}))})];return Kc(2,n)}function sS(){let n=[vd(()=>{N($n).setUpLocationChangeListener()}),{provide:Py,useValue:2}];return Kc(3,n)}var aS=new U("");function cS(n){return Kc(0,[{provide:aS,useExisting:eS},{provide:Wc,useExisting:n}])}function uS(){return Kc(8,[Dy,{provide:zc,useExisting:Dy}])}function lS(n){Yi("NgRouterViewTransitions");let e=[{provide:Sy,useValue:ZC},{provide:Ay,useValue:O({skipNextTransition:!!n?.skipInitialTransition},n)}];return Kc(9,e)}var dS=[Xr,{provide:oo,useClass:ri},$n,so,{provide:Bn,useFactory:nS,deps:[$n]},ch,[]],co=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[dS,[],{provide:ao,multi:!0,useValue:t},[],r?.errorHandler?{provide:Ry,useValue:r.errorHandler}:[],{provide:si,useValue:r||{}},r?.useHash?zF():GF(),qF(),r?.preloadingStrategy?cS(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?WF(r):[],r?.bindToComponentInputs?uS().\u0275providers:[],r?.enableViewTransitions?lS().\u0275providers:[],KF()]}}static forChild(t){return{ngModule:n,providers:[{provide:ao,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=On({type:n});static \u0275inj=fn({})}return n})();function qF(){return{provide:tS,useFactory:()=>{let n=N(rC),e=N(Se),t=N(si),r=N(lh),i=N(oo);return t.scrollOffset&&n.setOffset(t.scrollOffset),new HF(i,r,n,e,t)}}}function zF(){return{provide:wn,useClass:Gm}}function GF(){return{provide:wn,useClass:Td}}function WF(n){return[n.initialNavigation==="disabled"?sS().\u0275providers:[],n.initialNavigation==="enabledBlocking"?oS().\u0275providers:[]]}var Ny=new U("");function KF(){return[{provide:Ny,useFactory:rS},{provide:gc,multi:!0,useExisting:Ny}]}var QF={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},EJ=ve(O({},QF),{"[class.ng-submitted]":"isSubmitted"});var YF=new U("",{providedIn:"root",factory:()=>hS}),hS="always";var ZF=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=On({type:n});static \u0275inj=fn({})}return n})();var Rs=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:YF,useValue:t.callSetDisabledState??hS}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=On({type:n});static \u0275inj=fn({imports:[ZF]})}return n})();var fS=()=>{};var mS=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},JF=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],c=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},fh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,c=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,f=o>>2,p=(o&3)<<4|c>>4,m=(c&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(t[f],t[p],t[m],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(mS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):JF(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||c==null||l==null||p==null)throw new ky;let m=o<<2|c>>4;if(r.push(m),l!==64){let y=c<<4&240|l>>2;if(r.push(y),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},ky=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},XF=function(n){let e=mS(n);return fh.encodeByteArray(e,!0)},Yc=function(n){return XF(n).replace(/\./g,"")},ph=function(n){try{return fh.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Fy(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var eL=()=>Fy().__FIREBASE_DEFAULTS__,tL=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},nL=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&ph(n[1]);return e&&JSON.parse(e)},gh=()=>{try{return fS()||eL()||tL()||nL()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},yS=n=>{var e,t;return(t=(e=gh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},vS=n=>{let e=yS(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Ly=()=>{var n;return(n=gh())===null||n===void 0?void 0:n.config},_S=n=>{var e;return(e=gh())===null||e===void 0?void 0:e[`_${n}`]};var uo=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function lo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function Vy(n){return C(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function ES(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Yc(JSON.stringify(t)),Yc(JSON.stringify(s)),""].join(".")}var Qc={};function rL(){let n={prod:[],emulator:[]};for(let e of Object.keys(Qc))Qc[e]?n.emulator.push(e):n.prod.push(e);return n}function iL(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var pS=!1;function jy(n,e){if(typeof window>"u"||typeof document>"u"||!lo(window.location.host)||Qc[n]===e||Qc[n]||pS)return;Qc[n]=e;function t(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=rL().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function c(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{pS=!0,s()},m}function f(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=iL(r),y=t("text"),S=document.getElementById(y)||document.createElement("span"),M=t("learnmore"),R=document.getElementById(M)||document.createElement("a"),F=t("preprendIcon"),Q=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let Z=m.element;c(Z),f(R,M);let Re=l();u(Q,F),Z.append(Q,S,R,Re),document.body.appendChild(Z)}o?(S.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function oL(){var n;let e=(n=gh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function DS(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function bS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TS(){return!oL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Zc(){try{return typeof indexedDB=="object"}catch{return!1}}function CS(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var sL="FirebaseError",on=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=sL,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tn.prototype.create)}},Tn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?aL(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new on(i,c,r)}};function aL(n,e){return n.replace(cL,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var cL=/\{\$([^}]+)}/g;function ho(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(gS(o)&&gS(s)){if(!ho(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function gS(n){return n!==null&&typeof n=="object"}function Uy(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function SS(n,e){let t=new Oy(n,e);return t.subscribe.bind(t)}var Oy=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");uL(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=xy),i.error===void 0&&(i.error=xy),i.complete===void 0&&(i.complete=xy);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function uL(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function xy(){}var TJ=14400*1e3;function _t(n){return n&&n._delegate?n._delegate:n}var Pt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var fo="[DEFAULT]";var By=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new uo;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dL(e))try{this.getOrInitializeService({instanceIdentifier:fo})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=fo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return C(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=fo){return this.instances.has(e)}getOptions(e=fo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lL(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fo){return this.component?this.component.multipleInstances?e:fo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function lL(n){return n===fo?void 0:n}function dL(n){return n.instantiationMode==="EAGER"}var mh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new By(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var hL=[],le=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(le||{}),fL={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},pL=le.INFO,gL={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},mL=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=gL[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Hn=class{constructor(e){this.name=e,this._logLevel=pL,this._logHandler=mL,this._userLogHandler=null,hL.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}};var yL=(n,e)=>e.some(t=>n instanceof t),AS,RS;function vL(){return AS||(AS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _L(){return RS||(RS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var NS=new WeakMap,Hy=new WeakMap,MS=new WeakMap,$y=new WeakMap,zy=new WeakMap;function EL(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(qn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&NS.set(t,n)}).catch(()=>{}),zy.set(e,n),e}function IL(n){if(Hy.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Hy.set(n,e)}var qy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Hy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||MS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return qn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function PS(n){qy=n(qy)}function wL(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(yh(this),e,...t);return MS.set(r,e.sort?e.sort():[e]),qn(r)}:_L().includes(n)?function(...e){return n.apply(yh(this),e),qn(NS.get(this))}:function(...e){return qn(n.apply(yh(this),e))}}function DL(n){return typeof n=="function"?wL(n):(n instanceof IDBTransaction&&IL(n),yL(n,vL())?new Proxy(n,qy):n)}function qn(n){if(n instanceof IDBRequest)return EL(n);if($y.has(n))return $y.get(n);let e=DL(n);return e!==n&&($y.set(n,e),zy.set(e,n)),e}var yh=n=>zy.get(n);function kS(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),c=qn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(qn(s.result),u.oldVersion,u.newVersion,qn(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var bL=["get","getKey","getAll","getAllKeys","count"],TL=["put","add","delete","clear"],Gy=new Map;function xS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Gy.get(e))return Gy.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=TL.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||bL.includes(t)))return;let o=function(s,...c){return C(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[t](...c),i&&u.done]))[0]})};return Gy.set(e,o),o}PS(n=>ve(O({},n),{get:(e,t,r)=>xS(e,t)||n.get(e,t,r),has:(e,t)=>!!xS(e,t)||n.has(e,t)}));var Ky=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(CL(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function CL(n){let e=n.getComponent();return e?.type==="VERSION"}var Qy="@firebase/app",OS="0.13.2";var mr=new Hn("@firebase/app"),SL="@firebase/app-compat",AL="@firebase/analytics-compat",RL="@firebase/analytics",NL="@firebase/app-check-compat",ML="@firebase/app-check",PL="@firebase/auth",xL="@firebase/auth-compat",kL="@firebase/database",OL="@firebase/data-connect",FL="@firebase/database-compat",LL="@firebase/functions",VL="@firebase/functions-compat",jL="@firebase/installations",UL="@firebase/installations-compat",BL="@firebase/messaging",$L="@firebase/messaging-compat",HL="@firebase/performance",qL="@firebase/performance-compat",zL="@firebase/remote-config",GL="@firebase/remote-config-compat",WL="@firebase/storage",KL="@firebase/storage-compat",QL="@firebase/firestore",YL="@firebase/ai",ZL="@firebase/firestore-compat",JL="firebase",XL="11.10.0";var Yy="[DEFAULT]",eV={[Qy]:"fire-core",[SL]:"fire-core-compat",[RL]:"fire-analytics",[AL]:"fire-analytics-compat",[ML]:"fire-app-check",[NL]:"fire-app-check-compat",[PL]:"fire-auth",[xL]:"fire-auth-compat",[kL]:"fire-rtdb",[OL]:"fire-data-connect",[FL]:"fire-rtdb-compat",[LL]:"fire-fn",[VL]:"fire-fn-compat",[jL]:"fire-iid",[UL]:"fire-iid-compat",[BL]:"fire-fcm",[$L]:"fire-fcm-compat",[HL]:"fire-perf",[qL]:"fire-perf-compat",[zL]:"fire-rc",[GL]:"fire-rc-compat",[WL]:"fire-gcs",[KL]:"fire-gcs-compat",[QL]:"fire-fst",[ZL]:"fire-fst-compat",[YL]:"fire-vertex","fire-js":"fire-js",[JL]:"fire-js-all"};var Jc=new Map,tV=new Map,Zy=new Map;function FS(n,e){try{n.container.addComponent(e)}catch(t){mr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Cn(n){let e=n.name;if(Zy.has(e))return mr.debug(`There were multiple attempts to register component ${e}.`),!1;Zy.set(e,n);for(let t of Jc.values())FS(t,n);for(let t of tV.values())FS(t,n);return!0}function vh(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function yr(n){return n==null?!1:n.settings!==void 0}var nV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ai=new Tn("app","Firebase",nV);var Jy=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ai.create("app-deleted",{appName:this._name})}};var Ns=XL;function tv(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Yy,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw ai.create("bad-app-name",{appName:String(i)});if(t||(t=Ly()),!t)throw ai.create("no-options");let o=Jc.get(i);if(o){if(ho(t,o.options)&&ho(r,o.config))return o;throw ai.create("duplicate-app",{appName:i})}let s=new mh(i);for(let u of Zy.values())s.addComponent(u);let c=new Jy(t,r,s);return Jc.set(i,c),c}function Ms(n=Yy){let e=Jc.get(n);if(!e&&n===Yy&&Ly())return tv();if(!e)throw ai.create("no-app",{appName:n});return e}function _h(){return Array.from(Jc.values())}function Ge(n,e,t){var r;let i=(r=eV[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mr.warn(c.join(" "));return}Cn(new Pt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var rV="firebase-heartbeat-database",iV=1,Xc="firebase-heartbeat-store",Wy=null;function US(){return Wy||(Wy=kS(rV,iV,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Xc)}catch(t){console.warn(t)}}}}).catch(n=>{throw ai.create("idb-open",{originalErrorMessage:n.message})})),Wy}function oV(n){return C(this,null,function*(){try{let t=(yield US()).transaction(Xc),r=yield t.objectStore(Xc).get(BS(n));return yield t.done,r}catch(e){if(e instanceof on)mr.warn(e.message);else{let t=ai.create("idb-get",{originalErrorMessage:e?.message});mr.warn(t.message)}}})}function LS(n,e){return C(this,null,function*(){try{let r=(yield US()).transaction(Xc,"readwrite");yield r.objectStore(Xc).put(e,BS(n)),yield r.done}catch(t){if(t instanceof on)mr.warn(t.message);else{let r=ai.create("idb-set",{originalErrorMessage:t?.message});mr.warn(r.message)}}})}function BS(n){return`${n.name}!${n.options.appId}`}var sV=1024,aV=30,Xy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new ev(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return C(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=VS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>aV){let s=uV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){mr.warn(r)}})}getHeartbeatsHeader(){return C(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=VS(),{heartbeatsToSend:r,unsentEntries:i}=cV(this._heartbeatsCache.heartbeats),o=Yc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return mr.warn(t),""}})}};function VS(){return new Date().toISOString().substring(0,10)}function cV(n,e=sV){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),jS(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),jS(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var ev=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return C(this,null,function*(){return Zc()?CS().then(()=>!0).catch(()=>!1):!1})}read(){return C(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield oV(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return C(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return LS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return C(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return LS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function jS(n){return Yc(JSON.stringify({version:2,heartbeats:n})).length}function uV(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function lV(n){Cn(new Pt("platform-logger",e=>new Ky(e),"PRIVATE")),Cn(new Pt("heartbeat",e=>new Xy(e),"PRIVATE")),Ge(Qy,OS,n),Ge(Qy,OS,"esm2017"),Ge("fire-js","")}lV("");var dV="firebase",hV="11.10.0";Ge(dV,hV,"app");function $S(n){n===void 0&&(n=N(We));let e=n.get(os);return t=>new se(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let c=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return c.add(()=>{r.unsubscribe(),s()}),c})}var go=new Vr("ANGULARFIRE2_VERSION");function Ih(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var xs=(n,e)=>{let t=e?[e]:_h(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Ps=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(Ps||{}),HS=jm()&&typeof Zone<"u"?Ps.WARN:Ps.SILENT;var Eh=class{zone;delegate;constructor(e,t=Rp){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},mo=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=N(Se);this.outsideAngular=t.runOutsideAngular(()=>new Eh(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Eh(typeof Zone>"u"?void 0:Zone.current,Ap))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qS=!1;function fV(n,e){!qS&&(HS>Ps.SILENT||jm())&&(qS=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),HS>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function pV(n){let e=N(Se,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function po(n){let e=N(Se,{optional:!0});return e?e.run(()=>n()):n()}var gV=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Ke(t,()=>po(()=>n.apply(void 0,r)))),sn=(n,e,t)=>(t||=e?Ps.WARN:Ps.VERBOSE,function(){let r,i=arguments,o,s,c;try{o=N(mo),s=N(os),c=N(He)}catch{return fV(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=po(()=>s.add())),i[l]=gV(i[l],r,c));let u=pV(()=>n.apply(this,i));return e?u instanceof se?u.pipe(Or(o.outsideAngular),kr(o.insideAngular),$S(c)):u instanceof Promise?po(()=>{let l=s.add();return new Promise((f,p)=>{u.then(m=>Ke(c,()=>po(()=>f(m))),m=>Ke(c,()=>po(()=>p(m)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:po(()=>u):u instanceof se?u.pipe(Or(o.outsideAngular),kr(o.insideAngular)):po(()=>u)});var yo=class{constructor(e){return e}},eu=class{constructor(){return _h()}};function mV(n){return n&&n.length===1?n[0]:new yo(Ms())}var nv=new U("angularfire2._apps"),yV={provide:yo,useFactory:mV,deps:[[new dr,nv]]},vV={provide:eu,deps:[[new dr,nv]]};function _V(n){return(e,t)=>{let r=t.get(Wi);Ge("angularfire",go.full,"core"),Ge("angularfire",go.full,"app"),Ge("angular",zp.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new yo(i)}}function zS(n,...e){return Yt([yV,vV,{provide:nv,useFactory:_V(n),multi:!0,deps:[Se,We,mo,...e]}])}var GS=sn(tv,!0);var EV=new Map,IV={activated:!1,tokenObservers:[]},wV={initialized:!1,enabled:!1};function Sn(n){return EV.get(n)||Object.assign({},IV)}function YS(){return wV}var DV="https://content-firebaseappcheck.googleapis.com/v1";var bV="exchangeDebugToken",WS={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},AX=1440*60*1e3;var ov=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return C(this,null,function*(){this.stop();try{this.pending=new uo,this.pending.promise.catch(t=>{}),yield TV(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new uo,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function TV(n){return new Promise(e=>{setTimeout(e,n)})}var CV={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},ci=new Tn("appCheck","AppCheck",CV);function ZS(n){if(!Sn(n).activated)throw ci.create("use-before-activation",{appName:n.name})}function JS(r,i){return C(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let c={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,c)}catch(y){throw ci.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw ci.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw ci.create("fetch-parse-error",{originalErrorMessage:y?.message})}let f=l.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw ci.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(f[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function XS(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${DV}/projects/${t}/apps/${r}:${bV}?key=${i}`,body:{debug_token:e}}}var SV="firebase-app-check-database",AV=1,sv="firebase-app-check-store";var wh=null;function RV(){return wh||(wh=new Promise((n,e)=>{try{let t=indexedDB.open(SV,AV);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(ci.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(sv,{keyPath:"compositeKey"})}}}catch(t){e(ci.create("storage-open",{originalErrorMessage:t?.message}))}}),wh)}function NV(n,e){return MV(PV(n),e)}function MV(n,e){return C(this,null,function*(){let r=(yield RV()).transaction(sv,"readwrite"),o=r.objectStore(sv).put({compositeKey:n,value:e});return new Promise((s,c)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;c(ci.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function PV(n){return`${n.options.appId}-${n.name}`}var tu=new Hn("@firebase/app-check");function rv(n,e){return Zc()?NV(n,e).catch(t=>{tu.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function e0(){return YS().enabled}function t0(){return C(this,null,function*(){let n=YS();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var xV={error:"UNKNOWN_ERROR"};function kV(n){return fh.encodeString(JSON.stringify(n),!1)}function av(n,e=!1,t=!1){return C(this,null,function*(){let r=n.app;ZS(r);let i=Sn(r),o=i.token,s;if(o&&!nu(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(nu(l)?o=l:yield rv(r,void 0))}if(!e&&o&&nu(o))return{token:o.token};let c=!1;if(e0())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=JS(XS(r,yield t0()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);let l=yield i.exchangeTokenPromise;return yield rv(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?tu.warn(l.message):t&&tu.error(l),iv(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),o=yield Sn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?tu.warn(l.message):t&&tu.error(l),s=l}let u;return o?s?nu(o)?u={token:o.token,internalError:s}:u=iv(s):(u={token:o.token},i.token=o,yield rv(r,o)):u=iv(s),c&&VV(r,u),u})}function OV(n){return C(this,null,function*(){let e=n.app;ZS(e);let{provider:t}=Sn(e);if(e0()){let r=yield t0(),{token:i}=yield JS(XS(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function FV(n,e,t,r){let{app:i}=n,o=Sn(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&nu(o.token)){let c=o.token;Promise.resolve().then(()=>{t({token:c.token}),KS(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>KS(n))}function n0(n,e){let t=Sn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function KS(n){let{app:e}=n,t=Sn(e),r=t.tokenRefresher;r||(r=LV(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function LV(n){let{app:e}=n;return new ov(()=>C(null,null,function*(){let t=Sn(e),r;if(t.token?r=yield av(n,!0):r=yield av(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=Sn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},WS.RETRIAL_MIN_WAIT,WS.RETRIAL_MAX_WAIT)}function VV(n,e){let t=Sn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function nu(n){return n.expireTimeMillis-Date.now()>0}function iv(n){return{token:kV(xV),error:n}}var cv=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Sn(this.app);for(let t of e)n0(this.app,t.next);return Promise.resolve()}};function jV(n,e){return new cv(n,e)}function UV(n){return{getToken:e=>av(n,e),getLimitedUseToken:()=>OV(n),addTokenListener:e=>FV(n,"INTERNAL",e),removeTokenListener:e=>n0(n.app,e)}}var BV="@firebase/app-check",$V="0.10.1";var HV="app-check",QS="app-check-internal";function qV(){Cn(new Pt(HV,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return jV(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(QS).initialize()})),Cn(new Pt(QS,n=>{let e=n.getProvider("app-check").getImmediate();return UV(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ge(BV,$V)}qV();var zV="app-check";var Dh=class{constructor(){return xs(zV)}};var GV=["localhost","0.0.0.0","127.0.0.1"],BX=typeof window<"u"&&GV.includes(window.location.hostname);function l0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var d0=l0,h0=new Tn("auth","Firebase",l0());var Sh=new Hn("@firebase/auth");function KV(n,...e){Sh.logLevel<=le.WARN&&Sh.warn(`Auth (${Ns}): ${n}`,...e)}function Th(n,...e){Sh.logLevel<=le.ERROR&&Sh.error(`Auth (${Ns}): ${n}`,...e)}function r0(n,...e){throw Ev(n,...e)}function _v(n,...e){return Ev(n,...e)}function f0(n,e,t){let r=Object.assign(Object.assign({},d0()),{[e]:t});return new Tn("auth","Firebase",r).create(e,{appName:n.name})}function Ch(n){return f0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ev(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return h0.create(n,...e)}function Ee(n,e,...t){if(!n)throw Ev(e,...t)}function ru(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Th(e),new Error(e)}function Ah(n,e){n||ru(e)}function QV(){return i0()==="http:"||i0()==="https:"}function i0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function YV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QV()||DS()||"connection"in navigator)?navigator.onLine:!0}function ZV(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Eo=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ah(t>e,"Short delay should be less than long delay!"),this.isMobile=IS()||bS()}get(){return YV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function JV(n,e){Ah(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Rh=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ru("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ru("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ru("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var XV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var e2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],t2=new Eo(3e4,6e4);function p0(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function kh(o,s,c,u){return C(this,arguments,function*(n,e,t,r,i={}){return g0(n,i,()=>C(null,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let p=Uy(Object.assign({key:n.config.apiKey},f)).slice(1),m=yield n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);let y=Object.assign({method:e,headers:m},l);return wS()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&lo(n.emulatorConfig.host)&&(y.credentials="include"),Rh.fetch()(yield m0(n,n.config.apiHost,t,p),y)}))})}function g0(n,e,t){return C(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},XV),e);try{let i=new dv(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw bh(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw bh(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw bh(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw bh(n,"user-disabled",s);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw f0(n,f,l);r0(n,f)}}catch(i){if(i instanceof on)throw i;r0(n,"network-request-failed",{message:String(i)})}})}function m0(n,e,t,r){return C(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?JV(n.config,i):`${n.config.apiScheme}://${i}`;return e2.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var dv=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(_v(this.auth,"network-request-failed")),t2.get())})}};function bh(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=_v(n,e,r);return i.customData._tokenResponse=t,i}function n2(n,e){return C(this,null,function*(){return kh(n,"POST","/v1/accounts:delete",e)})}function Nh(n,e){return C(this,null,function*(){return kh(n,"POST","/v1/accounts:lookup",e)})}function iu(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Iv(n,e=!1){return C(this,null,function*(){let t=_t(n),r=yield t.getIdToken(e),i=y0(r);Ee(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:iu(uv(i.auth_time)),issuedAtTime:iu(uv(i.iat)),expirationTime:iu(uv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function uv(n){return Number(n)*1e3}function y0(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Th("JWT malformed, contained fewer than 3 sections"),null;try{let i=ph(t);return i?JSON.parse(i):(Th("Failed to decode base64 JWT payload"),null)}catch(i){return Th("Caught error parsing JWT payload as JSON",i?.toString()),null}}function o0(n){let e=y0(n);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function hv(n,e,t=!1){return C(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof on&&r2(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function r2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var fv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>C(this,null,function*(){yield this.iteration()}),t)}iteration(){return C(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var su=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=iu(this.lastLoginAt),this.creationTime=iu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Mh(n){return C(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield hv(n,Nh(t,{idToken:r}));Ee(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?v0(o.providerUserInfo):[],c=i2(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!c?.length,f=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new su(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(n,p)})}function wv(n){return C(this,null,function*(){let e=_t(n);yield Mh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function i2(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function v0(n){return n.map(e=>{var{providerId:t}=e,r=Np(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function o2(n,e){return C(this,null,function*(){let t=yield g0(n,{},()=>C(null,null,function*(){let r=Uy({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield m0(n,i,"/v1/token",`key=${o}`),c=yield n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:c,body:r};return n.emulatorConfig&&lo(n.emulatorConfig.host)&&(u.credentials="include"),Rh.fetch()(s,u)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function s2(n,e){return C(this,null,function*(){return kh(n,"POST","/v2/accounts:revokeToken",p0(n,e))})}var ou=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):o0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");let t=o0(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return C(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return C(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield o2(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ee(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ee(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return ru("not implemented")}};function ui(n,e){Ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var vo=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Np(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new su(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return C(this,null,function*(){let t=yield hv(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Iv(this,e)}reload(){return wv(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return C(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Mh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return C(this,null,function*(){if(yr(this.auth.app))return Promise.reject(Ch(this.auth));let e=yield this.getIdToken();return yield hv(this,n2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,c,u,l,f;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=t.photoURL)!==null&&s!==void 0?s:void 0,M=(c=t.tenantId)!==null&&c!==void 0?c:void 0,R=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,F=(l=t.createdAt)!==null&&l!==void 0?l:void 0,Q=(f=t.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:Z,emailVerified:Re,isAnonymous:Dt,providerData:De,stsTokenManager:w}=t;Ee(Z&&w,e,"internal-error");let v=ou.fromJSON(this.name,w);Ee(typeof Z=="string",e,"internal-error"),ui(p,e.name),ui(m,e.name),Ee(typeof Re=="boolean",e,"internal-error"),Ee(typeof Dt=="boolean",e,"internal-error"),ui(y,e.name),ui(S,e.name),ui(M,e.name),ui(R,e.name),ui(F,e.name),ui(Q,e.name);let E=new n({uid:Z,auth:e,email:m,emailVerified:Re,displayName:p,isAnonymous:Dt,photoURL:S,phoneNumber:y,tenantId:M,stsTokenManager:v,createdAt:F,lastLoginAt:Q});return De&&Array.isArray(De)&&(E.providerData=De.map(I=>Object.assign({},I))),R&&(E._redirectEventId=R),E}static _fromIdTokenResponse(e,t,r=!1){return C(this,null,function*(){let i=new ou;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Mh(o),o})}static _fromGetAccountInfoResponse(e,t,r){return C(this,null,function*(){let i=t.users[0];Ee(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?v0(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,c=new ou;c.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new su(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var s0=new Map;function _o(n){Ah(n instanceof Function,"Expected a class definition");let e=s0.get(n);return e?(Ah(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,s0.set(n,e),e)}var a2=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return C(this,null,function*(){return!0})}_set(t,r){return C(this,null,function*(){this.storage[t]=r})}_get(t){return C(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return C(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),pv=a2;function lv(n,e,t){return`firebase:${n}:${e}:${t}`}var Ph=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=lv(this.userKey,i.apiKey,o),this.fullPersistenceKey=lv("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return C(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Nh(this.auth,{idToken:e}).catch(()=>{});return t?vo._fromGetAccountInfoResponse(this.auth,t,e):null}return vo._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return C(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return C(this,null,function*(){if(!t.length)return new n(_o(pv),e,r);let i=(yield Promise.all(t.map(l=>C(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||_o(pv),s=lv(r,e.config.apiKey,e.name),c=null;for(let l of t)try{let f=yield l._get(s);if(f){let p;if(typeof f=="string"){let m=yield Nh(e,{idToken:f}).catch(()=>{});if(!m)break;p=yield vo._fromGetAccountInfoResponse(e,m,f)}else p=vo._fromJSON(e,f);l!==o&&(c=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],c&&(yield o._set(s,c.toJSON())),yield Promise.all(t.map(l=>C(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function a0(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(d2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(c2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(f2(e))return"Blackberry";if(p2(e))return"Webos";if(u2(e))return"Safari";if((e.includes("chrome/")||l2(e))&&!e.includes("edge/"))return"Chrome";if(h2(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function c2(n=Wt()){return/firefox\//i.test(n)}function u2(n=Wt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function l2(n=Wt()){return/crios\//i.test(n)}function d2(n=Wt()){return/iemobile/i.test(n)}function h2(n=Wt()){return/android/i.test(n)}function f2(n=Wt()){return/blackberry/i.test(n)}function p2(n=Wt()){return/webos/i.test(n)}function _0(n,e=[]){let t;switch(n){case"Browser":t=a0(Wt());break;case"Worker":t=`${a0(Wt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ns}/${r}`}var gv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,c)=>{try{let u=e(o);s(u)}catch(u){c(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return C(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function g2(t){return C(this,arguments,function*(n,e={}){return kh(n,"GET","/v2/passwordPolicy",p0(n,e))})}var m2=6,mv=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:m2,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var yv=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xh(this),this.idTokenSubscription=new xh(this),this.beforeStateQueue=new gv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=h0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=_o(t)),this._initializationPromise=this.queue(()=>C(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Ph.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return C(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return C(this,null,function*(){try{let t=yield Nh(this,{idToken:e}),r=yield vo._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return C(this,null,function*(){var t;if(yr(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return C(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return C(this,null,function*(){try{yield Mh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=ZV()}_delete(){return C(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return C(this,null,function*(){if(yr(this.app))return Promise.reject(Ch(this));let t=e?_t(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return C(this,null,function*(){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>C(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return C(this,null,function*(){return yr(this.app)?Promise.reject(Ch(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return yr(this.app)?Promise.reject(Ch(this)):this.queue(()=>C(this,null,function*(){yield this.assertedPersistence.setPersistence(_o(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return C(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return C(this,null,function*(){let e=yield g2(this),t=new mv(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Tn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return C(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield s2(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return C(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return C(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&_o(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=yield Ph.create(this,[_o(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return C(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>C(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return C(this,null,function*(){if(e===this.currentUser)return this.queue(()=>C(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return C(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return C(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return C(this,null,function*(){var e;if(yr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&KV(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function y2(n){return _t(n)}var xh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=SS(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var v2={loadJS(){return C(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _2(n){v2=n}function E2(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function I2(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(_o);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}var XX=E2("rcb"),eee=new Eo(3e4,6e4);var tee=new Eo(2e3,1e4);var nee=600*1e3;var ree=new Eo(3e4,6e4);var iee=new Eo(5e3,15e3);var oee=encodeURIComponent("fac");var c0="@firebase/auth",u0="1.10.8";var vv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return C(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function w2(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function D2(n){Cn(new Pt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;Ee(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_0(n)},l=new yv(r,i,o,u);return I2(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Cn(new Pt("auth-internal",e=>{let t=y2(e.getProvider("auth").getImmediate());return(r=>new vv(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ge(c0,u0,w2(n)),Ge(c0,u0,"esm2017")}var b2=300,see=_S("authIdTokenMaxAge")||b2;function T2(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}_2({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=_v("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",T2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});D2("Browser");var Dj="auth";var Oh=class{constructor(){return xs(Dj)}};var E0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},I0={};var vr,Dv;(function(){var n;function e(w,v){function E(){}E.prototype=v.prototype,w.D=v.prototype,w.prototype=new E,w.prototype.constructor=w,w.C=function(I,D,T){for(var _=Array(arguments.length-2),Zn=2;Zn<arguments.length;Zn++)_[Zn-2]=arguments[Zn];return v.prototype[D].apply(I,_)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,v,E){E||(E=0);var I=Array(16);if(typeof v=="string")for(var D=0;16>D;++D)I[D]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(D=0;16>D;++D)I[D]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=w.g[0],E=w.g[1],D=w.g[2];var T=w.g[3],_=v+(T^E&(D^T))+I[0]+3614090360&4294967295;v=E+(_<<7&4294967295|_>>>25),_=T+(D^v&(E^D))+I[1]+3905402710&4294967295,T=v+(_<<12&4294967295|_>>>20),_=D+(E^T&(v^E))+I[2]+606105819&4294967295,D=T+(_<<17&4294967295|_>>>15),_=E+(v^D&(T^v))+I[3]+3250441966&4294967295,E=D+(_<<22&4294967295|_>>>10),_=v+(T^E&(D^T))+I[4]+4118548399&4294967295,v=E+(_<<7&4294967295|_>>>25),_=T+(D^v&(E^D))+I[5]+1200080426&4294967295,T=v+(_<<12&4294967295|_>>>20),_=D+(E^T&(v^E))+I[6]+2821735955&4294967295,D=T+(_<<17&4294967295|_>>>15),_=E+(v^D&(T^v))+I[7]+4249261313&4294967295,E=D+(_<<22&4294967295|_>>>10),_=v+(T^E&(D^T))+I[8]+1770035416&4294967295,v=E+(_<<7&4294967295|_>>>25),_=T+(D^v&(E^D))+I[9]+2336552879&4294967295,T=v+(_<<12&4294967295|_>>>20),_=D+(E^T&(v^E))+I[10]+4294925233&4294967295,D=T+(_<<17&4294967295|_>>>15),_=E+(v^D&(T^v))+I[11]+2304563134&4294967295,E=D+(_<<22&4294967295|_>>>10),_=v+(T^E&(D^T))+I[12]+1804603682&4294967295,v=E+(_<<7&4294967295|_>>>25),_=T+(D^v&(E^D))+I[13]+4254626195&4294967295,T=v+(_<<12&4294967295|_>>>20),_=D+(E^T&(v^E))+I[14]+2792965006&4294967295,D=T+(_<<17&4294967295|_>>>15),_=E+(v^D&(T^v))+I[15]+1236535329&4294967295,E=D+(_<<22&4294967295|_>>>10),_=v+(D^T&(E^D))+I[1]+4129170786&4294967295,v=E+(_<<5&4294967295|_>>>27),_=T+(E^D&(v^E))+I[6]+3225465664&4294967295,T=v+(_<<9&4294967295|_>>>23),_=D+(v^E&(T^v))+I[11]+643717713&4294967295,D=T+(_<<14&4294967295|_>>>18),_=E+(T^v&(D^T))+I[0]+3921069994&4294967295,E=D+(_<<20&4294967295|_>>>12),_=v+(D^T&(E^D))+I[5]+3593408605&4294967295,v=E+(_<<5&4294967295|_>>>27),_=T+(E^D&(v^E))+I[10]+38016083&4294967295,T=v+(_<<9&4294967295|_>>>23),_=D+(v^E&(T^v))+I[15]+3634488961&4294967295,D=T+(_<<14&4294967295|_>>>18),_=E+(T^v&(D^T))+I[4]+3889429448&4294967295,E=D+(_<<20&4294967295|_>>>12),_=v+(D^T&(E^D))+I[9]+568446438&4294967295,v=E+(_<<5&4294967295|_>>>27),_=T+(E^D&(v^E))+I[14]+3275163606&4294967295,T=v+(_<<9&4294967295|_>>>23),_=D+(v^E&(T^v))+I[3]+4107603335&4294967295,D=T+(_<<14&4294967295|_>>>18),_=E+(T^v&(D^T))+I[8]+1163531501&4294967295,E=D+(_<<20&4294967295|_>>>12),_=v+(D^T&(E^D))+I[13]+2850285829&4294967295,v=E+(_<<5&4294967295|_>>>27),_=T+(E^D&(v^E))+I[2]+4243563512&4294967295,T=v+(_<<9&4294967295|_>>>23),_=D+(v^E&(T^v))+I[7]+1735328473&4294967295,D=T+(_<<14&4294967295|_>>>18),_=E+(T^v&(D^T))+I[12]+2368359562&4294967295,E=D+(_<<20&4294967295|_>>>12),_=v+(E^D^T)+I[5]+4294588738&4294967295,v=E+(_<<4&4294967295|_>>>28),_=T+(v^E^D)+I[8]+2272392833&4294967295,T=v+(_<<11&4294967295|_>>>21),_=D+(T^v^E)+I[11]+1839030562&4294967295,D=T+(_<<16&4294967295|_>>>16),_=E+(D^T^v)+I[14]+4259657740&4294967295,E=D+(_<<23&4294967295|_>>>9),_=v+(E^D^T)+I[1]+2763975236&4294967295,v=E+(_<<4&4294967295|_>>>28),_=T+(v^E^D)+I[4]+1272893353&4294967295,T=v+(_<<11&4294967295|_>>>21),_=D+(T^v^E)+I[7]+4139469664&4294967295,D=T+(_<<16&4294967295|_>>>16),_=E+(D^T^v)+I[10]+3200236656&4294967295,E=D+(_<<23&4294967295|_>>>9),_=v+(E^D^T)+I[13]+681279174&4294967295,v=E+(_<<4&4294967295|_>>>28),_=T+(v^E^D)+I[0]+3936430074&4294967295,T=v+(_<<11&4294967295|_>>>21),_=D+(T^v^E)+I[3]+3572445317&4294967295,D=T+(_<<16&4294967295|_>>>16),_=E+(D^T^v)+I[6]+76029189&4294967295,E=D+(_<<23&4294967295|_>>>9),_=v+(E^D^T)+I[9]+3654602809&4294967295,v=E+(_<<4&4294967295|_>>>28),_=T+(v^E^D)+I[12]+3873151461&4294967295,T=v+(_<<11&4294967295|_>>>21),_=D+(T^v^E)+I[15]+530742520&4294967295,D=T+(_<<16&4294967295|_>>>16),_=E+(D^T^v)+I[2]+3299628645&4294967295,E=D+(_<<23&4294967295|_>>>9),_=v+(D^(E|~T))+I[0]+4096336452&4294967295,v=E+(_<<6&4294967295|_>>>26),_=T+(E^(v|~D))+I[7]+1126891415&4294967295,T=v+(_<<10&4294967295|_>>>22),_=D+(v^(T|~E))+I[14]+2878612391&4294967295,D=T+(_<<15&4294967295|_>>>17),_=E+(T^(D|~v))+I[5]+4237533241&4294967295,E=D+(_<<21&4294967295|_>>>11),_=v+(D^(E|~T))+I[12]+1700485571&4294967295,v=E+(_<<6&4294967295|_>>>26),_=T+(E^(v|~D))+I[3]+2399980690&4294967295,T=v+(_<<10&4294967295|_>>>22),_=D+(v^(T|~E))+I[10]+4293915773&4294967295,D=T+(_<<15&4294967295|_>>>17),_=E+(T^(D|~v))+I[1]+2240044497&4294967295,E=D+(_<<21&4294967295|_>>>11),_=v+(D^(E|~T))+I[8]+1873313359&4294967295,v=E+(_<<6&4294967295|_>>>26),_=T+(E^(v|~D))+I[15]+4264355552&4294967295,T=v+(_<<10&4294967295|_>>>22),_=D+(v^(T|~E))+I[6]+2734768916&4294967295,D=T+(_<<15&4294967295|_>>>17),_=E+(T^(D|~v))+I[13]+1309151649&4294967295,E=D+(_<<21&4294967295|_>>>11),_=v+(D^(E|~T))+I[4]+4149444226&4294967295,v=E+(_<<6&4294967295|_>>>26),_=T+(E^(v|~D))+I[11]+3174756917&4294967295,T=v+(_<<10&4294967295|_>>>22),_=D+(v^(T|~E))+I[2]+718787259&4294967295,D=T+(_<<15&4294967295|_>>>17),_=E+(T^(D|~v))+I[9]+3951481745&4294967295,w.g[0]=w.g[0]+v&4294967295,w.g[1]=w.g[1]+(D+(_<<21&4294967295|_>>>11))&4294967295,w.g[2]=w.g[2]+D&4294967295,w.g[3]=w.g[3]+T&4294967295}r.prototype.u=function(w,v){v===void 0&&(v=w.length);for(var E=v-this.blockSize,I=this.B,D=this.h,T=0;T<v;){if(D==0)for(;T<=E;)i(this,w,T),T+=this.blockSize;if(typeof w=="string"){for(;T<v;)if(I[D++]=w.charCodeAt(T++),D==this.blockSize){i(this,I),D=0;break}}else for(;T<v;)if(I[D++]=w[T++],D==this.blockSize){i(this,I),D=0;break}}this.h=D,this.o+=v},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var v=1;v<w.length-8;++v)w[v]=0;var E=8*this.o;for(v=w.length-8;v<w.length;++v)w[v]=E&255,E/=256;for(this.u(w),w=Array(16),v=E=0;4>v;++v)for(var I=0;32>I;I+=8)w[E++]=this.g[v]>>>I&255;return w};function o(w,v){var E=c;return Object.prototype.hasOwnProperty.call(E,w)?E[w]:E[w]=v(w)}function s(w,v){this.h=v;for(var E=[],I=!0,D=w.length-1;0<=D;D--){var T=w[D]|0;I&&T==v||(E[D]=T,I=!1)}this.g=E}var c={};function u(w){return-128<=w&&128>w?o(w,function(v){return new s([v|0],0>v?-1:0)}):new s([w|0],0>w?-1:0)}function l(w){if(isNaN(w)||!isFinite(w))return p;if(0>w)return R(l(-w));for(var v=[],E=1,I=0;w>=E;I++)v[I]=w/E|0,E*=4294967296;return new s(v,0)}function f(w,v){if(w.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(w.charAt(0)=="-")return R(f(w.substring(1),v));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(v,8)),I=p,D=0;D<w.length;D+=8){var T=Math.min(8,w.length-D),_=parseInt(w.substring(D,D+T),v);8>T?(T=l(Math.pow(v,T)),I=I.j(T).add(l(_))):(I=I.j(E),I=I.add(l(_)))}return I}var p=u(0),m=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(M(this))return-R(this).m();for(var w=0,v=1,E=0;E<this.g.length;E++){var I=this.i(E);w+=(0<=I?I:4294967296+I)*v,v*=4294967296}return w},n.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(S(this))return"0";if(M(this))return"-"+R(this).toString(w);for(var v=l(Math.pow(w,6)),E=this,I="";;){var D=Re(E,v).g;E=F(E,D.j(v));var T=((0<E.g.length?E.g[0]:E.h)>>>0).toString(w);if(E=D,S(E))return T+I;for(;6>T.length;)T="0"+T;I=T+I}},n.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function S(w){if(w.h!=0)return!1;for(var v=0;v<w.g.length;v++)if(w.g[v]!=0)return!1;return!0}function M(w){return w.h==-1}n.l=function(w){return w=F(this,w),M(w)?-1:S(w)?0:1};function R(w){for(var v=w.g.length,E=[],I=0;I<v;I++)E[I]=~w.g[I];return new s(E,~w.h).add(m)}n.abs=function(){return M(this)?R(this):this},n.add=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0,D=0;D<=v;D++){var T=I+(this.i(D)&65535)+(w.i(D)&65535),_=(T>>>16)+(this.i(D)>>>16)+(w.i(D)>>>16);I=_>>>16,T&=65535,_&=65535,E[D]=_<<16|T}return new s(E,E[E.length-1]&-2147483648?-1:0)};function F(w,v){return w.add(R(v))}n.j=function(w){if(S(this)||S(w))return p;if(M(this))return M(w)?R(this).j(R(w)):R(R(this).j(w));if(M(w))return R(this.j(R(w)));if(0>this.l(y)&&0>w.l(y))return l(this.m()*w.m());for(var v=this.g.length+w.g.length,E=[],I=0;I<2*v;I++)E[I]=0;for(I=0;I<this.g.length;I++)for(var D=0;D<w.g.length;D++){var T=this.i(I)>>>16,_=this.i(I)&65535,Zn=w.i(D)>>>16,da=w.i(D)&65535;E[2*I+2*D]+=_*da,Q(E,2*I+2*D),E[2*I+2*D+1]+=T*da,Q(E,2*I+2*D+1),E[2*I+2*D+1]+=_*Zn,Q(E,2*I+2*D+1),E[2*I+2*D+2]+=T*Zn,Q(E,2*I+2*D+2)}for(I=0;I<v;I++)E[I]=E[2*I+1]<<16|E[2*I];for(I=v;I<2*v;I++)E[I]=0;return new s(E,0)};function Q(w,v){for(;(w[v]&65535)!=w[v];)w[v+1]+=w[v]>>>16,w[v]&=65535,v++}function Z(w,v){this.g=w,this.h=v}function Re(w,v){if(S(v))throw Error("division by zero");if(S(w))return new Z(p,p);if(M(w))return v=Re(R(w),v),new Z(R(v.g),R(v.h));if(M(v))return v=Re(w,R(v)),new Z(R(v.g),v.h);if(30<w.g.length){if(M(w)||M(v))throw Error("slowDivide_ only works with positive integers.");for(var E=m,I=v;0>=I.l(w);)E=Dt(E),I=Dt(I);var D=De(E,1),T=De(I,1);for(I=De(I,2),E=De(E,2);!S(I);){var _=T.add(I);0>=_.l(w)&&(D=D.add(E),T=_),I=De(I,1),E=De(E,1)}return v=F(w,D.j(v)),new Z(D,v)}for(D=p;0<=w.l(v);){for(E=Math.max(1,Math.floor(w.m()/v.m())),I=Math.ceil(Math.log(E)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),T=l(E),_=T.j(v);M(_)||0<_.l(w);)E-=I,T=l(E),_=T.j(v);S(T)&&(T=m),D=D.add(T),w=F(w,_)}return new Z(D,w)}n.A=function(w){return Re(this,w).h},n.and=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)&w.i(I);return new s(E,this.h&w.h)},n.or=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)|w.i(I);return new s(E,this.h|w.h)},n.xor=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)^w.i(I);return new s(E,this.h^w.h)};function Dt(w){for(var v=w.g.length+1,E=[],I=0;I<v;I++)E[I]=w.i(I)<<1|w.i(I-1)>>>31;return new s(E,w.h)}function De(w,v){var E=v>>5;v%=32;for(var I=w.g.length-E,D=[],T=0;T<I;T++)D[T]=0<v?w.i(T+E)>>>v|w.i(T+E+1)<<32-v:w.i(T+E);return new s(D,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Dv=I0.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=f,vr=I0.Integer=s}).apply(typeof E0<"u"?E0:typeof self<"u"?self:typeof window<"u"?window:{});var Fh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_r={};var bv,bj,ks,Tv,au,Lh,Cv,Sv,Av;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function t(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fh=="object"&&Fh];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=t(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var b=a[g];if(!(b in h))break e;h=h[b]}a=a[a.length-1],g=h[a],d=d(g),d!=g&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function o(a,d){a instanceof String&&(a+="");var h=0,g=!1,b={next:function(){if(!g&&h<a.length){var A=h++;return{value:d(A,a[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(a){return a||function(){return o(this,function(d,h){return h})}});var s=s||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function p(a,d,h){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),a.apply(d,b)}}return function(){return a.apply(d,arguments)}}function m(a,d,h){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,m.apply(null,arguments)}function y(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function S(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(g,b,A){for(var k=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)k[Ne-2]=arguments[Ne];return d.prototype[b].apply(g,k)}}function M(a){let d=a.length;if(0<d){let h=Array(d);for(let g=0;g<d;g++)h[g]=a[g];return h}return[]}function R(a,d){for(let h=1;h<arguments.length;h++){let g=arguments[h];if(u(g)){let b=a.length||0,A=g.length||0;a.length=b+A;for(let k=0;k<A;k++)a[b+k]=g[k]}else a.push(g)}}class F{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function Q(a){return/^[\s\xa0]*$/.test(a)}function Z(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function Re(a){return Re[" "](a),a}Re[" "]=function(){};var Dt=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function De(a,d,h){for(let g in a)d.call(h,a[g],g,a)}function w(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function v(a){let d={};for(let h in a)d[h]=a[h];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(a,d){let h,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(h in g)a[h]=g[h];for(let A=0;A<E.length;A++)h=E[A],Object.prototype.hasOwnProperty.call(g,h)&&(a[h]=g[h])}}function D(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function T(a){c.setTimeout(()=>{throw a},0)}function _(){var a=Lf;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class Zn{constructor(){this.h=this.g=null}add(d,h){let g=da.get();g.set(d,h),this.h?this.h.next=g:this.g=g,this.h=g}}var da=new F(()=>new JR,a=>a.reset());class JR{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let ha,fa=!1,Lf=new Zn,zE=()=>{let a=c.Promise.resolve(void 0);ha=()=>{a.then(XR)}};var XR=()=>{for(var a;a=_();){try{a.h.call(a.g)}catch(h){T(h)}var d=da;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}fa=!1};function Rr(){this.s=this.s,this.C=this.C}Rr.prototype.s=!1,Rr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Rr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function dt(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}dt.prototype.h=function(){this.defaultPrevented=!0};var eN=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,d),c.removeEventListener("test",h,d)}catch{}return a})();function pa(a,d){if(dt.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(Dt){e:{try{Re(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:tN[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&pa.aa.h.call(this)}}S(pa,dt);var tN={2:"touch",3:"pen",4:"mouse"};pa.prototype.h=function(){pa.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var ga="closure_listenable_"+(1e6*Math.random()|0),nN=0;function rN(a,d,h,g,b){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!g,this.ha=b,this.key=++nN,this.da=this.fa=!1}function Su(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Au(a){this.src=a,this.g={},this.h=0}Au.prototype.add=function(a,d,h,g,b){var A=a.toString();a=this.g[A],a||(a=this.g[A]=[],this.h++);var k=jf(a,d,g,b);return-1<k?(d=a[k],h||(d.fa=!1)):(d=new rN(d,this.src,A,!!g,b),d.fa=h,a.push(d)),d};function Vf(a,d){var h=d.type;if(h in a.g){var g=a.g[h],b=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=b)&&Array.prototype.splice.call(g,b,1),A&&(Su(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function jf(a,d,h,g){for(var b=0;b<a.length;++b){var A=a[b];if(!A.da&&A.listener==d&&A.capture==!!h&&A.ha==g)return b}return-1}var Uf="closure_lm_"+(1e6*Math.random()|0),Bf={};function GE(a,d,h,g,b){if(g&&g.once)return KE(a,d,h,g,b);if(Array.isArray(d)){for(var A=0;A<d.length;A++)GE(a,d[A],h,g,b);return null}return h=zf(h),a&&a[ga]?a.K(d,h,l(g)?!!g.capture:!!g,b):WE(a,d,h,!1,g,b)}function WE(a,d,h,g,b,A){if(!d)throw Error("Invalid event type");var k=l(b)?!!b.capture:!!b,Ne=Hf(a);if(Ne||(a[Uf]=Ne=new Au(a)),h=Ne.add(d,h,g,k,A),h.proxy)return h;if(g=iN(),h.proxy=g,g.src=a,g.listener=h,a.addEventListener)eN||(b=k),b===void 0&&(b=!1),a.addEventListener(d.toString(),g,b);else if(a.attachEvent)a.attachEvent(YE(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function iN(){function a(h){return d.call(a.src,a.listener,h)}let d=oN;return a}function KE(a,d,h,g,b){if(Array.isArray(d)){for(var A=0;A<d.length;A++)KE(a,d[A],h,g,b);return null}return h=zf(h),a&&a[ga]?a.L(d,h,l(g)?!!g.capture:!!g,b):WE(a,d,h,!0,g,b)}function QE(a,d,h,g,b){if(Array.isArray(d))for(var A=0;A<d.length;A++)QE(a,d[A],h,g,b);else g=l(g)?!!g.capture:!!g,h=zf(h),a&&a[ga]?(a=a.i,d=String(d).toString(),d in a.g&&(A=a.g[d],h=jf(A,h,g,b),-1<h&&(Su(A[h]),Array.prototype.splice.call(A,h,1),A.length==0&&(delete a.g[d],a.h--)))):a&&(a=Hf(a))&&(d=a.g[d.toString()],a=-1,d&&(a=jf(d,h,g,b)),(h=-1<a?d[a]:null)&&$f(h))}function $f(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[ga])Vf(d.i,a);else{var h=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(h,g,a.capture):d.detachEvent?d.detachEvent(YE(h),g):d.addListener&&d.removeListener&&d.removeListener(g),(h=Hf(d))?(Vf(h,a),h.h==0&&(h.src=null,d[Uf]=null)):Su(a)}}}function YE(a){return a in Bf?Bf[a]:Bf[a]="on"+a}function oN(a,d){if(a.da)a=!0;else{d=new pa(d,this);var h=a.listener,g=a.ha||a.src;a.fa&&$f(a),a=h.call(g,d)}return a}function Hf(a){return a=a[Uf],a instanceof Au?a:null}var qf="__closure_events_fn_"+(1e9*Math.random()>>>0);function zf(a){return typeof a=="function"?a:(a[qf]||(a[qf]=function(d){return a.handleEvent(d)}),a[qf])}function ht(){Rr.call(this),this.i=new Au(this),this.M=this,this.F=null}S(ht,Rr),ht.prototype[ga]=!0,ht.prototype.removeEventListener=function(a,d,h,g){QE(this,a,d,h,g)};function bt(a,d){var h,g=a.F;if(g)for(h=[];g;g=g.F)h.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new dt(d,a);else if(d instanceof dt)d.target=d.target||a;else{var b=d;d=new dt(g,a),I(d,b)}if(b=!0,h)for(var A=h.length-1;0<=A;A--){var k=d.g=h[A];b=Ru(k,g,!0,d)&&b}if(k=d.g=a,b=Ru(k,g,!0,d)&&b,b=Ru(k,g,!1,d)&&b,h)for(A=0;A<h.length;A++)k=d.g=h[A],b=Ru(k,g,!1,d)&&b}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],g=0;g<h.length;g++)Su(h[g]);delete a.g[d],a.h--}}this.F=null},ht.prototype.K=function(a,d,h,g){return this.i.add(String(a),d,!1,h,g)},ht.prototype.L=function(a,d,h,g){return this.i.add(String(a),d,!0,h,g)};function Ru(a,d,h,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,A=0;A<d.length;++A){var k=d[A];if(k&&!k.da&&k.capture==h){var Ne=k.listener,ct=k.ha||k.src;k.fa&&Vf(a.i,k),b=Ne.call(ct,g)!==!1&&b}}return b&&!g.defaultPrevented}function ZE(a,d,h){if(typeof a=="function")h&&(a=m(a,h));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function JE(a){a.g=ZE(()=>{a.g=null,a.i&&(a.i=!1,JE(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class sN extends Rr{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:JE(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ma(a){Rr.call(this),this.h=a,this.g={}}S(ma,Rr);var XE=[];function eI(a){De(a.g,function(d,h){this.g.hasOwnProperty(h)&&$f(d)},a),a.g={}}ma.prototype.N=function(){ma.aa.N.call(this),eI(this)},ma.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gf=c.JSON.stringify,aN=c.JSON.parse,cN=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Wf(){}Wf.prototype.h=null;function tI(a){return a.h||(a.h=a.i())}function nI(){}var ya={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kf(){dt.call(this,"d")}S(Kf,dt);function Qf(){dt.call(this,"c")}S(Qf,dt);var Ii={},rI=null;function Nu(){return rI=rI||new ht}Ii.La="serverreachability";function iI(a){dt.call(this,Ii.La,a)}S(iI,dt);function va(a){let d=Nu();bt(d,new iI(d))}Ii.STAT_EVENT="statevent";function oI(a,d){dt.call(this,Ii.STAT_EVENT,a),this.stat=d}S(oI,dt);function Tt(a){let d=Nu();bt(d,new oI(d,a))}Ii.Ma="timingevent";function sI(a,d){dt.call(this,Ii.Ma,a),this.size=d}S(sI,dt);function _a(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function Ea(){this.g=!0}Ea.prototype.xa=function(){this.g=!1};function uN(a,d,h,g,b,A){a.info(function(){if(a.g)if(A)for(var k="",Ne=A.split("&"),ct=0;ct<Ne.length;ct++){var ye=Ne[ct].split("=");if(1<ye.length){var ft=ye[0];ye=ye[1];var pt=ft.split("_");k=2<=pt.length&&pt[1]=="type"?k+(ft+"="+ye+"&"):k+(ft+"=redacted&")}}else k=null;else k=A;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+h+`
`+k})}function lN(a,d,h,g,b,A,k){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+h+`
`+A+" "+k})}function Po(a,d,h,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+hN(a,h)+(g?" "+g:"")})}function dN(a,d){a.info(function(){return"TIMEOUT: "+d})}Ea.prototype.info=function(){};function hN(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var g=h[a];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var A=b[0];if(A!="noop"&&A!="stop"&&A!="close")for(var k=1;k<b.length;k++)b[k]=""}}}}return Gf(h)}catch{return d}}var Mu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},aI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yf;function Pu(){}S(Pu,Wf),Pu.prototype.g=function(){return new XMLHttpRequest},Pu.prototype.i=function(){return{}},Yf=new Pu;function Nr(a,d,h,g){this.j=a,this.i=d,this.l=h,this.R=g||1,this.U=new ma(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new cI}function cI(){this.i=null,this.g="",this.h=!1}var uI={},Zf={};function Jf(a,d,h){a.L=1,a.v=Fu(Jn(d)),a.m=h,a.P=!0,lI(a,null)}function lI(a,d){a.F=Date.now(),xu(a),a.A=Jn(a.v);var h=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),bI(h.i,"t",g),a.C=0,h=a.j.J,a.h=new cI,a.g=$I(a.j,h?d:null,!a.m),0<a.O&&(a.M=new sN(m(a.Y,a,a.g),a.O)),d=a.U,h=a.g,g=a.ca;var b="readystatechange";Array.isArray(b)||(b&&(XE[0]=b.toString()),b=XE);for(var A=0;A<b.length;A++){var k=GE(h,b[A],g||d.handleEvent,!1,d.h||d);if(!k)break;d.g[k.key]=k}d=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),va(),uN(a.i,a.u,a.A,a.l,a.R,a.m)}Nr.prototype.ca=function(a){a=a.target;let d=this.M;d&&Xn(a)==3?d.j():this.Y(a)},Nr.prototype.Y=function(a){try{if(a==this.g)e:{let pt=Xn(this.g);var d=this.g.Ba();let Oo=this.g.Z();if(!(3>pt)&&(pt!=3||this.g&&(this.h.h||this.g.oa()||MI(this.g)))){this.J||pt!=4||d==7||(d==8||0>=Oo?va(3):va(2)),Xf(this);var h=this.g.Z();this.X=h;t:if(dI(this)){var g=MI(this.g);a="";var b=g.length,A=Xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wi(this),Ia(this);var k="";break t}this.h.i=new c.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(A&&d==b-1)});g.length=0,this.h.g+=a,this.C=0,k=this.h.g}else k=this.g.oa();if(this.o=h==200,lN(this.i,this.u,this.A,this.l,this.R,pt,h),this.o){if(this.T&&!this.K){t:{if(this.g){var Ne,ct=this.g;if((Ne=ct.g?ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(Ne)){var ye=Ne;break t}}ye=null}if(h=ye)Po(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ep(this,h);else{this.o=!1,this.s=3,Tt(12),wi(this),Ia(this);break e}}if(this.P){h=!0;let un;for(;!this.J&&this.C<k.length;)if(un=fN(this,k),un==Zf){pt==4&&(this.s=4,Tt(14),h=!1),Po(this.i,this.l,null,"[Incomplete Response]");break}else if(un==uI){this.s=4,Tt(15),Po(this.i,this.l,k,"[Invalid Chunk]"),h=!1;break}else Po(this.i,this.l,un,null),ep(this,un);if(dI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pt!=4||k.length!=0||this.h.h||(this.s=1,Tt(16),h=!1),this.o=this.o&&h,!h)Po(this.i,this.l,k,"[Invalid Chunked Response]"),wi(this),Ia(this);else if(0<k.length&&!this.W){this.W=!0;var ft=this.j;ft.g==this&&ft.ba&&!ft.M&&(ft.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),sp(ft),ft.M=!0,Tt(11))}}else Po(this.i,this.l,k,null),ep(this,k);pt==4&&wi(this),this.o&&!this.J&&(pt==4?VI(this.j,this):(this.o=!1,xu(this)))}else NN(this.g),h==400&&0<k.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),wi(this),Ia(this)}}}catch{}finally{}};function dI(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function fN(a,d){var h=a.C,g=d.indexOf(`
`,h);return g==-1?Zf:(h=Number(d.substring(h,g)),isNaN(h)?uI:(g+=1,g+h>d.length?Zf:(d=d.slice(g,g+h),a.C=g+h,d)))}Nr.prototype.cancel=function(){this.J=!0,wi(this)};function xu(a){a.S=Date.now()+a.I,hI(a,a.I)}function hI(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=_a(m(a.ba,a),d)}function Xf(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Nr.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(dN(this.i,this.A),this.L!=2&&(va(),Tt(17)),wi(this),this.s=2,Ia(this)):hI(this,this.S-a)};function Ia(a){a.j.G==0||a.J||VI(a.j,a)}function wi(a){Xf(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,eI(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function ep(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||tp(h.h,a))){if(!a.K&&tp(h.h,a)&&h.G==3){try{var g=h.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)Bu(h),ju(h);else break e;op(h),Tt(18)}}else h.za=b[1],0<h.za-h.T&&37500>b[2]&&h.F&&h.v==0&&!h.C&&(h.C=_a(m(h.Za,h),6e3));if(1>=gI(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else bi(h,11)}else if((a.K||h.g==a)&&Bu(h),!Q(d))for(b=h.Da.g.parse(d),d=0;d<b.length;d++){let ye=b[d];if(h.T=ye[0],ye=ye[1],h.G==2)if(ye[0]=="c"){h.K=ye[1],h.ia=ye[2];let ft=ye[3];ft!=null&&(h.la=ft,h.j.info("VER="+h.la));let pt=ye[4];pt!=null&&(h.Aa=pt,h.j.info("SVER="+h.Aa));let Oo=ye[5];Oo!=null&&typeof Oo=="number"&&0<Oo&&(g=1.5*Oo,h.L=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;let un=a.g;if(un){let Hu=un.g?un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hu){var A=g.h;A.g||Hu.indexOf("spdy")==-1&&Hu.indexOf("quic")==-1&&Hu.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(np(A,A.h),A.h=null))}if(g.D){let ap=un.g?un.g.getResponseHeader("X-HTTP-Session-Id"):null;ap&&(g.ya=ap,Pe(g.I,g.D,ap))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),g=h;var k=a;if(g.qa=BI(g,g.J?g.ia:null,g.W),k.K){mI(g.h,k);var Ne=k,ct=g.L;ct&&(Ne.I=ct),Ne.B&&(Xf(Ne),xu(Ne)),g.g=k}else FI(g);0<h.i.length&&Uu(h)}else ye[0]!="stop"&&ye[0]!="close"||bi(h,7);else h.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?bi(h,7):ip(h):ye[0]!="noop"&&h.l&&h.l.ta(ye),h.v=0)}}va(4)}catch{}}var pN=class{constructor(a,d){this.g=a,this.map=d}};function fI(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pI(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function gI(a){return a.h?1:a.g?a.g.size:0}function tp(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function np(a,d){a.g?a.g.add(d):a.h=d}function mI(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}fI.prototype.cancel=function(){if(this.i=yI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function yI(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return M(a.i)}function gN(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],h=a.length,g=0;g<h;g++)d.push(a[g]);return d}d=[],h=0;for(g in a)d[h++]=a[g];return d}function mN(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let g in a)d[h++]=g;return d}}}function vI(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=mN(a),g=gN(a),b=g.length,A=0;A<b;A++)d.call(void 0,g[A],h&&h[A],a)}var _I=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yN(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var g=a[h].indexOf("="),b=null;if(0<=g){var A=a[h].substring(0,g);b=a[h].substring(g+1)}else A=a[h];d(A,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function Di(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Di){this.h=a.h,ku(this,a.j),this.o=a.o,this.g=a.g,Ou(this,a.s),this.l=a.l;var d=a.i,h=new ba;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),EI(this,h),this.m=a.m}else a&&(d=String(a).match(_I))?(this.h=!1,ku(this,d[1]||"",!0),this.o=wa(d[2]||""),this.g=wa(d[3]||"",!0),Ou(this,d[4]),this.l=wa(d[5]||"",!0),EI(this,d[6]||"",!0),this.m=wa(d[7]||"")):(this.h=!1,this.i=new ba(null,this.h))}Di.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Da(d,II,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Da(d,II,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(Da(h,h.charAt(0)=="/"?EN:_N,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",Da(h,wN)),a.join("")};function Jn(a){return new Di(a)}function ku(a,d,h){a.j=h?wa(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Ou(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function EI(a,d,h){d instanceof ba?(a.i=d,DN(a.i,a.h)):(h||(d=Da(d,IN)),a.i=new ba(d,a.h))}function Pe(a,d,h){a.i.set(d,h)}function Fu(a){return Pe(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function wa(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Da(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,vN),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function vN(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var II=/[#\/\?@]/g,_N=/[#\?:]/g,EN=/[#\?]/g,IN=/[#\?@]/g,wN=/#/g;function ba(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Mr(a){a.g||(a.g=new Map,a.h=0,a.i&&yN(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}n=ba.prototype,n.add=function(a,d){Mr(this),this.i=null,a=xo(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function wI(a,d){Mr(a),d=xo(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function DI(a,d){return Mr(a),d=xo(a,d),a.g.has(d)}n.forEach=function(a,d){Mr(this),this.g.forEach(function(h,g){h.forEach(function(b){a.call(d,b,g,this)},this)},this)},n.na=function(){Mr(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let g=0;g<d.length;g++){let b=a[g];for(let A=0;A<b.length;A++)h.push(d[g])}return h},n.V=function(a){Mr(this);let d=[];if(typeof a=="string")DI(this,a)&&(d=d.concat(this.g.get(xo(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},n.set=function(a,d){return Mr(this),this.i=null,a=xo(this,a),DI(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},n.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function bI(a,d,h){wI(a,d),0<h.length&&(a.i=null,a.g.set(xo(a,d),M(h)),a.h+=h.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var g=d[h];let A=encodeURIComponent(String(g)),k=this.V(g);for(g=0;g<k.length;g++){var b=A;k[g]!==""&&(b+="="+encodeURIComponent(String(k[g]))),a.push(b)}}return this.i=a.join("&")};function xo(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function DN(a,d){d&&!a.j&&(Mr(a),a.i=null,a.g.forEach(function(h,g){var b=g.toLowerCase();g!=b&&(wI(this,g),bI(this,b,h))},a)),a.j=d}function bN(a,d){let h=new Ea;if(c.Image){let g=new Image;g.onload=y(Pr,h,"TestLoadImage: loaded",!0,d,g),g.onerror=y(Pr,h,"TestLoadImage: error",!1,d,g),g.onabort=y(Pr,h,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(Pr,h,"TestLoadImage: timeout",!1,d,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function TN(a,d){let h=new Ea,g=new AbortController,b=setTimeout(()=>{g.abort(),Pr(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(A=>{clearTimeout(b),A.ok?Pr(h,"TestPingServer: ok",!0,d):Pr(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),Pr(h,"TestPingServer: error",!1,d)})}function Pr(a,d,h,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(h)}catch{}}function CN(){this.g=new cN}function SN(a,d,h){let g=h||"";try{vI(a,function(b,A){let k=b;l(b)&&(k=Gf(b)),d.push(g+A+"="+encodeURIComponent(k))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function Ta(a){this.l=a.Ub||null,this.j=a.eb||!1}S(Ta,Wf),Ta.prototype.g=function(){return new Lu(this.l,this.j)},Ta.prototype.i=(function(a){return function(){return a}})({});function Lu(a,d){ht.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Lu,ht),n=Lu.prototype,n.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,Sa(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ca(this)),this.readyState=0},n.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Sa(this)),this.g&&(this.readyState=3,Sa(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;TI(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function TI(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}n.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?Ca(this):Sa(this),this.readyState==3&&TI(this)}},n.Ra=function(a){this.g&&(this.response=this.responseText=a,Ca(this))},n.Qa=function(a){this.g&&(this.response=a,Ca(this))},n.ga=function(){this.g&&Ca(this)};function Ca(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Sa(a)}n.setRequestHeader=function(a,d){this.u.append(a,d)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function Sa(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Lu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function CI(a){let d="";return De(a,function(h,g){d+=g,d+=":",d+=h,d+=`\r
`}),d}function rp(a,d,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=CI(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Pe(a,d,h))}function je(a){ht.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(je,ht);var AN=/^https?$/i,RN=["POST","PUT"];n=je.prototype,n.Ha=function(a){this.J=a},n.ea=function(a,d,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yf.g(),this.v=this.o?tI(this.o):tI(Yf),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(A){SI(this,A);return}if(a=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)h.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())h.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(A=>A.toLowerCase()=="content-type"),b=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(RN,d,void 0))||g||b||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,k]of h)this.g.setRequestHeader(A,k);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{NI(this),this.u=!0,this.g.send(a),this.u=!1}catch(A){SI(this,A)}};function SI(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,AI(a),Vu(a)}function AI(a){a.A||(a.A=!0,bt(a,"complete"),bt(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,bt(this,"complete"),bt(this,"abort"),Vu(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vu(this,!0)),je.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?RI(this):this.bb())},n.bb=function(){RI(this)};function RI(a){if(a.h&&typeof s<"u"&&(!a.v[1]||Xn(a)!=4||a.Z()!=2)){if(a.u&&Xn(a)==4)ZE(a.Ea,0,a);else if(bt(a,"readystatechange"),Xn(a)==4){a.h=!1;try{let k=a.Z();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var g;if(g=k===0){var b=String(a.D).match(_I)[1]||null;!b&&c.self&&c.self.location&&(b=c.self.location.protocol.slice(0,-1)),g=!AN.test(b?b.toLowerCase():"")}h=g}if(h)bt(a,"complete"),bt(a,"success");else{a.m=6;try{var A=2<Xn(a)?a.g.statusText:""}catch{A=""}a.l=A+" ["+a.Z()+"]",AI(a)}}finally{Vu(a)}}}}function Vu(a,d){if(a.g){NI(a);let h=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||bt(a,"ready");try{h.onreadystatechange=g}catch{}}}function NI(a){a.I&&(c.clearTimeout(a.I),a.I=null)}n.isActive=function(){return!!this.g};function Xn(a){return a.g?a.g.readyState:0}n.Z=function(){try{return 2<Xn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),aN(d)}};function MI(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function NN(a){let d={};a=(a.g&&2<=Xn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(Q(a[g]))continue;var h=D(a[g]);let b=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let A=d[b]||[];d[b]=A,A.push(h)}w(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Aa(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function PI(a){this.Aa=0,this.i=[],this.j=new Ea,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Aa("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Aa("baseRetryDelayMs",5e3,a),this.cb=Aa("retryDelaySeedMs",1e4,a),this.Wa=Aa("forwardChannelMaxRetries",2,a),this.wa=Aa("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new fI(a&&a.concurrentRequestLimit),this.Da=new CN,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=PI.prototype,n.la=8,n.G=1,n.connect=function(a,d,h,g){Tt(0),this.W=a,this.H=d||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.I=BI(this,null,this.W),Uu(this)};function ip(a){if(xI(a),a.G==3){var d=a.U++,h=Jn(a.I);if(Pe(h,"SID",a.K),Pe(h,"RID",d),Pe(h,"TYPE","terminate"),Ra(a,h),d=new Nr(a,a.j,d),d.L=2,d.v=Fu(Jn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=d.v,h=!0),h||(d.g=$I(d.j,null),d.g.ea(d.v)),d.F=Date.now(),xu(d)}UI(a)}function ju(a){a.g&&(sp(a),a.g.cancel(),a.g=null)}function xI(a){ju(a),a.u&&(c.clearTimeout(a.u),a.u=null),Bu(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Uu(a){if(!pI(a.h)&&!a.s){a.s=!0;var d=a.Ga;ha||zE(),fa||(ha(),fa=!0),Lf.add(d,a),a.B=0}}function MN(a,d){return gI(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=_a(m(a.Ga,a,d),jI(a,a.B)),a.B++,!0)}n.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let b=new Nr(this,this.j,a),A=this.o;if(this.S&&(A?(A=v(A),I(A,this.S)):A=this.S),this.m!==null||this.O||(b.H=A,A=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=OI(this,b,d),h=Jn(this.I),Pe(h,"RID",a),Pe(h,"CVER",22),this.D&&Pe(h,"X-HTTP-Session-Id",this.D),Ra(this,h),A&&(this.O?d="headers="+encodeURIComponent(String(CI(A)))+"&"+d:this.m&&rp(h,this.m,A)),np(this.h,b),this.Ua&&Pe(h,"TYPE","init"),this.P?(Pe(h,"$req",d),Pe(h,"SID","null"),b.T=!0,Jf(b,h,null)):Jf(b,h,d),this.G=2}}else this.G==3&&(a?kI(this,a):this.i.length==0||pI(this.h)||kI(this))};function kI(a,d){var h;d?h=d.l:h=a.U++;let g=Jn(a.I);Pe(g,"SID",a.K),Pe(g,"RID",h),Pe(g,"AID",a.T),Ra(a,g),a.m&&a.o&&rp(g,a.m,a.o),h=new Nr(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=OI(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),np(a.h,h),Jf(h,g,d)}function Ra(a,d){a.H&&De(a.H,function(h,g){Pe(d,g,h)}),a.l&&vI({},function(h,g){Pe(d,g,h)})}function OI(a,d,h){h=Math.min(a.i.length,h);var g=a.l?m(a.l.Na,a.l,a):null;e:{var b=a.i;let A=-1;for(;;){let k=["count="+h];A==-1?0<h?(A=b[0].g,k.push("ofs="+A)):A=0:k.push("ofs="+A);let Ne=!0;for(let ct=0;ct<h;ct++){let ye=b[ct].g,ft=b[ct].map;if(ye-=A,0>ye)A=Math.max(0,b[ct].g-100),Ne=!1;else try{SN(ft,k,"req"+ye+"_")}catch{g&&g(ft)}}if(Ne){g=k.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,g}function FI(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;ha||zE(),fa||(ha(),fa=!0),Lf.add(d,a),a.v=0}}function op(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=_a(m(a.Fa,a),jI(a,a.v)),a.v++,!0)}n.Fa=function(){if(this.u=null,LI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=_a(m(this.ab,this),a)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tt(10),ju(this),LI(this))};function sp(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function LI(a){a.g=new Nr(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=Jn(a.qa);Pe(d,"RID","rpc"),Pe(d,"SID",a.K),Pe(d,"AID",a.T),Pe(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Pe(d,"TO",a.ja),Pe(d,"TYPE","xmlhttp"),Ra(a,d),a.m&&a.o&&rp(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=Fu(Jn(d)),h.m=null,h.P=!0,lI(h,a)}n.Za=function(){this.C!=null&&(this.C=null,ju(this),op(this),Tt(19))};function Bu(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function VI(a,d){var h=null;if(a.g==d){Bu(a),sp(a),a.g=null;var g=2}else if(tp(a.h,d))h=d.D,mI(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var b=a.B;g=Nu(),bt(g,new sI(g,h)),Uu(a)}else FI(a);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&MN(a,d)||g==2&&op(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),b){case 1:bi(a,5);break;case 4:bi(a,10);break;case 3:bi(a,6);break;default:bi(a,2)}}}function jI(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function bi(a,d){if(a.j.info("Error code "+d),d==2){var h=m(a.fb,a),g=a.Xa;let b=!g;g=new Di(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ku(g,"https"),Fu(g),b?bN(g.toString(),h):TN(g.toString(),h)}else Tt(2);a.G=0,a.l&&a.l.sa(d),UI(a),xI(a)}n.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function UI(a){if(a.G=0,a.ka=[],a.l){let d=yI(a.h);(d.length!=0||a.i.length!=0)&&(R(a.ka,d),R(a.ka,a.i),a.h.i.length=0,M(a.i),a.i.length=0),a.l.ra()}}function BI(a,d,h){var g=h instanceof Di?Jn(h):new Di(h);if(g.g!="")d&&(g.g=d+"."+g.g),Ou(g,g.s);else{var b=c.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var A=new Di(null);g&&ku(A,g),d&&(A.g=d),b&&Ou(A,b),h&&(A.l=h),g=A}return h=a.D,d=a.ya,h&&d&&Pe(g,h,d),Pe(g,"VER",a.la),Ra(a,g),g}function $I(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new je(new Ta({eb:h})):new je(a.pa),d.Ha(a.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function HI(){}n=HI.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function $u(){}$u.prototype.g=function(a,d){return new Ut(a,d)};function Ut(a,d){ht.call(this),this.g=new PI(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!Q(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!Q(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new ko(this)}S(Ut,ht),Ut.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ut.prototype.close=function(){ip(this.g)},Ut.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=Gf(a),a=h);d.i.push(new pN(d.Ya++,a)),d.G==3&&Uu(d)},Ut.prototype.N=function(){this.g.l=null,delete this.j,ip(this.g),delete this.g,Ut.aa.N.call(this)};function qI(a){Kf.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}S(qI,Kf);function zI(){Qf.call(this),this.status=1}S(zI,Qf);function ko(a){this.g=a}S(ko,HI),ko.prototype.ua=function(){bt(this.g,"a")},ko.prototype.ta=function(a){bt(this.g,new qI(a))},ko.prototype.sa=function(a){bt(this.g,new zI)},ko.prototype.ra=function(){bt(this.g,"b")},$u.prototype.createWebChannel=$u.prototype.g,Ut.prototype.send=Ut.prototype.o,Ut.prototype.open=Ut.prototype.m,Ut.prototype.close=Ut.prototype.close,Av=_r.createWebChannelTransport=function(){return new $u},Sv=_r.getStatEventTarget=function(){return Nu()},Cv=_r.Event=Ii,Lh=_r.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Mu.NO_ERROR=0,Mu.TIMEOUT=8,Mu.HTTP_ERROR=6,au=_r.ErrorCode=Mu,aI.COMPLETE="complete",Tv=_r.EventType=aI,nI.EventType=ya,ya.OPEN="a",ya.CLOSE="b",ya.ERROR="c",ya.MESSAGE="d",ht.prototype.listen=ht.prototype.K,ks=_r.WebChannel=nI,bj=_r.FetchXmlHttpFactory=Ta,je.prototype.listenOnce=je.prototype.L,je.prototype.getLastError=je.prototype.Ka,je.prototype.getLastErrorCode=je.prototype.Ba,je.prototype.getStatus=je.prototype.Z,je.prototype.getResponseJson=je.prototype.Oa,je.prototype.getResponseText=je.prototype.oa,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Ha,bv=_r.XhrIo=je}).apply(typeof Fh<"u"?Fh:typeof self<"u"?self:typeof window<"u"?window:{});var w0="@firebase/firestore",D0="4.8.0";var st=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};st.UNAUTHENTICATED=new st(null),st.GOOGLE_CREDENTIALS=new st("google-credentials-uid"),st.FIRST_PARTY=new st("first-party-uid"),st.MOCK_USER=new st("mock-user");var ra="11.10.0";var To=new Hn("@firebase/firestore");function Os(){return To.logLevel}function L(n,...e){if(To.logLevel<=le.DEBUG){let t=e.map(gE);To.debug(`Firestore (${ra}): ${n}`,...t)}}function wr(n,...e){if(To.logLevel<=le.ERROR){let t=e.map(gE);To.error(`Firestore (${ra}): ${n}`,...t)}}function gi(n,...e){if(To.logLevel<=le.WARN){let t=e.map(gE);To.warn(`Firestore (${ra}): ${n}`,...t)}}function gE(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function G(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,fA(n,r,t)}function fA(n,e,t){let r=`FIRESTORE (${ra}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw wr(r),new Error(r)}function we(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||fA(e,i,r)}function te(n,e){return n}var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},$=class extends on{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Er=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var qh=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},xv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(st.UNAUTHENTICATED))}shutdown(){}},kv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Ov=class{constructor(e){this.t=e,this.currentUser=st.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){we(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new Er;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Er,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>C(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Er)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(we(typeof r.accessToken=="string",31837,{l:r}),new qh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return we(e===null||typeof e=="string",2055,{h:e}),new st(e)}},Fv=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=st.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Lv=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new Fv(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(st.FIRST_PARTY))}shutdown(){}invalidateToken(){}},zh=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Vv=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){we(this.o===void 0,3512);let r=o=>{o.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,L("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new zh(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(we(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new zh(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Tj(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function pA(){return new TextEncoder}var fu=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=Tj(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function ae(n,e){return n<e?-1:n>e?1:0}function jv(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return ae(r,i);{let o=pA(),s=Cj(o.encode(b0(n,t)),o.encode(b0(e,t)));return s!==0?s:ae(r,i)}}t+=r>65535?2:1}return ae(n.length,e.length)}function b0(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function Cj(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ae(n[t],e[t]);return ae(n.length,e.length)}function Hs(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var T0="__name__",Gh=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&G(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&G(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return ae(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):jv(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return vr.fromString(e.substring(4,e.length-2))}},Ve=class n extends Gh{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new $(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},Sj=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Qt=class n extends Gh{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return Sj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===T0}static keyField(){return new n([T0])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new $(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new $(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new $(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new $(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var z=class n{constructor(e){this.path=e}static fromPath(e){return new n(Ve.fromString(e))}static fromName(e){return new n(Ve.fromString(e).popFirst(5))}static empty(){return new n(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ve.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Ve(e.slice()))}};function gA(n,e,t){if(!t)throw new $(P.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Aj(n,e,t,r){if(e===!0&&r===!0)throw new $(P.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function C0(n){if(!z.isDocumentKey(n))throw new $(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function S0(n){if(z.isDocumentKey(n))throw new $(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function mA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function mE(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":G(12329,{type:typeof n})}function li(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new $(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=mE(n);throw new $(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Je(n,e){let t={typeString:n};return e&&(t.value=e),t}function bu(n,e){if(!mA(n))throw new $(P.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new $(P.INVALID_ARGUMENT,t);return!0}var A0=-62135596800,R0=1e6,Xe=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*R0);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new $(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new $(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<A0)throw new $(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/R0}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bu(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-A0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Xe._jsonSchemaVersion="firestore/timestamp/1.0",Xe._jsonSchema={type:Je("string",Xe._jsonSchemaVersion),seconds:Je("number"),nanoseconds:Je("number")};var re=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new Xe(0,0))}static max(){return new n(new Xe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var pu=-1,Uv=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};Uv.UNKNOWN_ID=-1;function Rj(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=re.fromTimestamp(r===1e9?new Xe(t+1,0):new Xe(t,r));return new Co(i,z.empty(),e)}function Nj(n){return new Co(n.readTime,n.key,pu)}var Co=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(re.min(),z.empty(),pu)}static max(){return new n(re.max(),z.empty(),pu)}};function Mj(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=z.comparator(n.documentKey,e.documentKey),t!==0?t:ae(n.largestBatchId,e.largestBatchId))}var Pj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Bv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function ia(n){return C(this,null,function*(){if(n.code!==P.FAILED_PRECONDITION||n.message!==Pj)throw n;L("LocalStore","Unexpectedly lost primary lease")})}var x=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&G(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(f=>{s[l]=f,++c,c===o&&r(s)},f=>i(f))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function xj(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function oa(n){return n.name==="IndexedDbTransactionError"}var yE=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),vE=-1;function bf(n){return n==null}function gu(n){return n===0&&1/n==-1/0}function kj(n){return typeof n=="number"&&Number.isInteger(n)&&!gu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var yA="";function Oj(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=N0(e)),e=Fj(n.get(t),e);return N0(e)}function Fj(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case yA:t+="";break;default:t+=o}}return t}function N0(n){return n+yA+""}var Lj="remoteDocuments",vA="owner";var _A="mutationQueues";var EA="mutations";var IA="documentMutations",Vj="remoteDocumentsV14";var wA="remoteDocumentGlobal";var DA="targets";var bA="targetDocuments";var TA="targetGlobal",CA="collectionParents";var SA="clientMetadata";var AA="bundles";var RA="namedQueries";var jj="indexConfiguration";var Uj="indexState";var Bj="indexEntries";var NA="documentOverlays";var $j="globals";var Hj=[_A,EA,IA,Lj,DA,vA,TA,bA,SA,wA,CA,AA,RA],lte=[...Hj,NA],qj=[_A,EA,IA,Vj,DA,vA,TA,bA,SA,wA,CA,AA,RA,NA],zj=qj,Gj=[...zj,jj,Uj,Bj];var dte=[...Gj,$j];function M0(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ei(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function MA(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Be=class n{constructor(e,t){this.comparator=e,this.root=t||zn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,zn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new js(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new js(this.root,e,this.comparator,!1)}getReverseIterator(){return new js(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new js(this.root,e,this.comparator,!0)}},js=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},zn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw G(43730,{key:this.key,value:this.value});if(this.right.isRed())throw G(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw G(27949);return e+(this.isRed()?0:1)}};zn.EMPTY=null,zn.RED=!0,zn.BLACK=!1;zn.EMPTY=new class{constructor(){this.size=0}get key(){throw G(57766)}get value(){throw G(16141)}get color(){throw G(16727)}get left(){throw G(29726)}get right(){throw G(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new zn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var at=class n{constructor(e){this.comparator=e,this.data=new Be(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Wh(this.data.getIterator())}getIteratorFrom(e){return new Wh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Wh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var cn=class n{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new n([])}unionWith(e){let t=new at(Qt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Hs(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Kh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var wt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Kh("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};wt.EMPTY_BYTE_STRING=new wt("");var Wj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dr(n){if(we(!!n,39018),typeof n=="string"){let e=0,t=Wj.exec(n);if(we(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ke(n.seconds),nanos:ke(n.nanos)}}function ke(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function br(n){return typeof n=="string"?wt.fromBase64String(n):wt.fromUint8Array(n)}var PA="server_timestamp",xA="__type__",kA="__previous_value__",OA="__local_write_time__";function _E(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[xA])===null||t===void 0?void 0:t.stringValue)===PA}function Tf(n){let e=n.mapValue.fields[kA];return _E(e)?Tf(e):e}function mu(n){let e=Dr(n.mapValue.fields[OA].timestampValue);return new Xe(e.seconds,e.nanos)}var $v=class{constructor(e,t,r,i,o,s,c,u,l,f){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=f}},Qh="(default)",Yh=class n{constructor(e,t){this.projectId=e,this.database=t||Qh}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Qh}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var EE="__type__",FA="__max__",Vh={mapValue:{fields:{__type__:{stringValue:FA}}}},IE="__vector__",qs="value";function mi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?_E(n)?4:VA(n)?9007199254740991:LA(n)?10:11:G(28295,{value:n})}function Kn(n,e){if(n===e)return!0;let t=mi(n);if(t!==mi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return mu(n).isEqual(mu(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Dr(i.timestampValue),c=Dr(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return br(i.bytesValue).isEqual(br(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return ke(i.geoPointValue.latitude)===ke(o.geoPointValue.latitude)&&ke(i.geoPointValue.longitude)===ke(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return ke(i.integerValue)===ke(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=ke(i.doubleValue),c=ke(o.doubleValue);return s===c?gu(s)===gu(c):isNaN(s)&&isNaN(c)}return!1})(n,e);case 9:return Hs(n.arrayValue.values||[],e.arrayValue.values||[],Kn);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(M0(s)!==M0(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!Kn(s[u],c[u])))return!1;return!0})(n,e);default:return G(52216,{left:n})}}function yu(n,e){return(n.values||[]).find(t=>Kn(t,e))!==void 0}function zs(n,e){if(n===e)return 0;let t=mi(n),r=mi(e);if(t!==r)return ae(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ae(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let c=ke(o.integerValue||o.doubleValue),u=ke(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1})(n,e);case 3:return P0(n.timestampValue,e.timestampValue);case 4:return P0(mu(n),mu(e));case 5:return jv(n.stringValue,e.stringValue);case 6:return(function(o,s){let c=br(o),u=br(s);return c.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let c=o.split("/"),u=s.split("/");for(let l=0;l<c.length&&l<u.length;l++){let f=ae(c[l],u[l]);if(f!==0)return f}return ae(c.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let c=ae(ke(o.latitude),ke(s.latitude));return c!==0?c:ae(ke(o.longitude),ke(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return x0(n.arrayValue,e.arrayValue);case 10:return(function(o,s){var c,u,l,f;let p=o.fields||{},m=s.fields||{},y=(c=p[qs])===null||c===void 0?void 0:c.arrayValue,S=(u=m[qs])===null||u===void 0?void 0:u.arrayValue,M=ae(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((f=S?.values)===null||f===void 0?void 0:f.length)||0);return M!==0?M:x0(y,S)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===Vh.mapValue&&s===Vh.mapValue)return 0;if(o===Vh.mapValue)return 1;if(s===Vh.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),l=s.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){let m=jv(u[p],f[p]);if(m!==0)return m;let y=zs(c[u[p]],l[f[p]]);if(y!==0)return y}return ae(u.length,f.length)})(n.mapValue,e.mapValue);default:throw G(23264,{le:t})}}function P0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ae(n,e);let t=Dr(n),r=Dr(e),i=ae(t.seconds,r.seconds);return i!==0?i:ae(t.nanos,r.nanos)}function x0(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=zs(t[i],r[i]);if(o)return o}return ae(t.length,r.length)}function Gs(n){return Hv(n)}function Hv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=Dr(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return br(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return z.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=Hv(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Hv(t.fields[s])}`;return i+"}"})(n.mapValue):G(61005,{value:n})}function Bh(n){switch(mi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Tf(n);return e?16+Bh(e):16;case 5:return 2*n.stringValue.length;case 6:return br(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+Bh(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return Ei(r.fields,(o,s)=>{i+=o.length+Bh(s)}),i})(n.mapValue);default:throw G(13486,{value:n})}}function qv(n){return!!n&&"integerValue"in n}function wE(n){return!!n&&"arrayValue"in n}function k0(n){return!!n&&"nullValue"in n}function O0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function $h(n){return!!n&&"mapValue"in n}function LA(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[EE])===null||t===void 0?void 0:t.stringValue)===IE}function uu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Ei(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=uu(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=uu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function VA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===FA}var fte={mapValue:{fields:{[EE]:{stringValue:IE},[qs]:{arrayValue:{}}}}};var Kt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!$h(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=uu(t)}setAll(e){let t=Qt.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!t.isImmediateParentOf(c)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=c.popLast()}s?r[c.lastSegment()]=uu(s):i.push(c.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());$h(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Kn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];$h(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ei(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(uu(this.value))}};function jA(n){let e=[];return Ei(n.fields,(t,r)=>{let i=new Qt([t]);if($h(r)){let o=jA(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new cn(e)}var An=class n{constructor(e,t,r,i,o,s,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new n(e,0,re.min(),re.min(),re.min(),Kt.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,re.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,re.min(),re.min(),Kt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,re.min(),re.min(),Kt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ws=class{constructor(e,t){this.position=e,this.inclusive=t}};function F0(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=z.comparator(z.fromName(s.referenceValue),t.key):r=zs(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function L0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Kn(n.position[t],e.position[t]))return!1;return!0}var Ks=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function Kj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Zh=class{},nt=class n extends Zh{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Gv(e,t,r):t==="array-contains"?new Qv(e,r):t==="in"?new Yv(e,r):t==="not-in"?new Zv(e,r):t==="array-contains-any"?new Jv(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Wv(e,r):new Kv(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(zs(t,this.value)):t!==null&&mi(this.value)===mi(t)&&this.matchesComparison(zs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return G(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Qn=class n extends Zh{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return UA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function UA(n){return n.op==="and"}function BA(n){return Qj(n)&&UA(n)}function Qj(n){for(let e of n.filters)if(e instanceof Qn)return!1;return!0}function zv(n){if(n instanceof nt)return n.field.canonicalString()+n.op.toString()+Gs(n.value);if(BA(n))return n.filters.map(e=>zv(e)).join(",");{let e=n.filters.map(t=>zv(t)).join(",");return`${n.op}(${e})`}}function $A(n,e){return n instanceof nt?(function(r,i){return i instanceof nt&&r.op===i.op&&r.field.isEqual(i.field)&&Kn(r.value,i.value)})(n,e):n instanceof Qn?(function(r,i){return i instanceof Qn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&$A(s,i.filters[c]),!0):!1})(n,e):void G(19439)}function HA(n){return n instanceof nt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Gs(t.value)}`})(n):n instanceof Qn?(function(t){return t.op.toString()+" {"+t.getFilters().map(HA).join(" ,")+"}"})(n):"Filter"}var Gv=class extends nt{constructor(e,t,r){super(e,t,r),this.key=z.fromName(r.referenceValue)}matches(e){let t=z.comparator(e.key,this.key);return this.matchesComparison(t)}},Wv=class extends nt{constructor(e,t){super(e,"in",t),this.keys=qA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},Kv=class extends nt{constructor(e,t){super(e,"not-in",t),this.keys=qA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function qA(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>z.fromName(r.referenceValue))}var Qv=class extends nt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return wE(t)&&yu(t.arrayValue,this.value)}},Yv=class extends nt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&yu(this.value.arrayValue,t)}},Zv=class extends nt{constructor(e,t){super(e,"not-in",t)}matches(e){if(yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!yu(this.value.arrayValue,t)}},Jv=class extends nt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!wE(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>yu(this.value.arrayValue,r))}};var Xv=class{constructor(e,t=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.Pe=null}};function V0(n,e=null,t=[],r=[],i=null,o=null,s=null){return new Xv(n,e,t,r,i,o,s)}function DE(n){let e=te(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>zv(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),bf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Gs(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Gs(r)).join(",")),e.Pe=t}return e.Pe}function bE(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Kj(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!$A(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!L0(n.startAt,e.startAt)&&L0(n.endAt,e.endAt)}function e_(n){return z.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Qs=class{constructor(e,t=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function Yj(n,e,t,r,i,o,s,c){return new Qs(n,e,t,r,i,o,s,c)}function TE(n){return new Qs(n)}function j0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Zj(n){return n.collectionGroup!==null}function lu(n){let e=te(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new at(Qt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Ks(o,r))}),t.has(Qt.keyField().canonicalString())||e.Te.push(new Ks(Qt.keyField(),r))}return e.Te}function Gn(n){let e=te(n);return e.Ie||(e.Ie=Jj(e,lu(n))),e.Ie}function Jj(n,e){if(n.limitType==="F")return V0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Ks(i.field,o)});let t=n.endAt?new Ws(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ws(n.startAt.position,n.startAt.inclusive):null;return V0(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function t_(n,e,t){return new Qs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Cf(n,e){return bE(Gn(n),Gn(e))&&n.limitType===e.limitType}function zA(n){return`${DE(Gn(n))}|lt:${n.limitType}`}function Fs(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>HA(i)).join(", ")}]`),bf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Gs(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Gs(i)).join(",")),`Target(${r})`})(Gn(n))}; limitType=${n.limitType})`}function Sf(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):z.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of lu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,c,u){let l=F0(s,c,u);return s.inclusive?l<=0:l<0})(r.startAt,lu(r),i)||r.endAt&&!(function(s,c,u){let l=F0(s,c,u);return s.inclusive?l>=0:l>0})(r.endAt,lu(r),i))})(n,e)}function Xj(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function GA(n){return(e,t)=>{let r=!1;for(let i of lu(n)){let o=eU(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function eU(n,e,t){let r=n.field.isKeyField()?z.comparator(e.key,t.key):(function(o,s,c){let u=s.data.field(o),l=c.data.field(o);return u!==null&&l!==null?zs(u,l):G(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return G(19790,{direction:n.dir})}}var Tr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ei(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return MA(this.inner)}size(){return this.innerSize}};var tU=new Be(z.comparator);function Cr(){return tU}var WA=new Be(z.comparator);function cu(...n){let e=WA;for(let t of n)e=e.insert(t.key,t);return e}function KA(n){let e=WA;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Io(){return du()}function QA(){return du()}function du(){return new Tr(n=>n.toString(),(n,e)=>n.isEqual(e))}var nU=new Be(z.comparator),rU=new at(z.comparator);function de(...n){let e=rU;for(let t of n)e=e.add(t);return e}var iU=new at(ae);function oU(){return iU}function CE(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gu(e)?"-0":e}}function YA(n){return{integerValue:""+n}}function sU(n,e){return kj(e)?YA(e):CE(n,e)}var Ys=class{constructor(){this._=void 0}};function aU(n,e,t){return n instanceof Zs?(function(i,o){let s={fields:{[xA]:{stringValue:PA},[OA]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&_E(o)&&(o=Tf(o)),o&&(s.fields[kA]=o),{mapValue:s}})(t,e):n instanceof So?JA(n,e):n instanceof Ao?XA(n,e):(function(i,o){let s=ZA(i,o),c=U0(s)+U0(i.Ee);return qv(s)&&qv(i.Ee)?YA(c):CE(i.serializer,c)})(n,e)}function cU(n,e,t){return n instanceof So?JA(n,e):n instanceof Ao?XA(n,e):t}function ZA(n,e){return n instanceof Js?(function(r){return qv(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var Zs=class extends Ys{},So=class extends Ys{constructor(e){super(),this.elements=e}};function JA(n,e){let t=eR(e);for(let r of n.elements)t.some(i=>Kn(i,r))||t.push(r);return{arrayValue:{values:t}}}var Ao=class extends Ys{constructor(e){super(),this.elements=e}};function XA(n,e){let t=eR(e);for(let r of n.elements)t=t.filter(i=>!Kn(i,r));return{arrayValue:{values:t}}}var Js=class extends Ys{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function U0(n){return ke(n.integerValue||n.doubleValue)}function eR(n){return wE(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function uU(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof So&&i instanceof So||r instanceof Ao&&i instanceof Ao?Hs(r.elements,i.elements,Kn):r instanceof Js&&i instanceof Js?Kn(r.Ee,i.Ee):r instanceof Zs&&i instanceof Zs})(n.transform,e.transform)}var n_=class{constructor(e,t){this.version=e,this.transformResults=t}},Ir=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Hh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Xs=class{};function tR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new vu(n.key,Ir.none()):new Ro(n.key,n.data,Ir.none());{let t=n.data,r=Kt.empty(),i=new at(Qt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Yn(n.key,r,new cn(i.toArray()),Ir.none())}}function lU(n,e,t){n instanceof Ro?(function(i,o,s){let c=i.value.clone(),u=$0(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(n,e,t):n instanceof Yn?(function(i,o,s){if(!Hh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=$0(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(nR(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function hu(n,e,t,r){return n instanceof Ro?(function(o,s,c,u){if(!Hh(o.precondition,s))return c;let l=o.value.clone(),f=H0(o.fieldTransforms,u,s);return l.setAll(f),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(n,e,t,r):n instanceof Yn?(function(o,s,c,u){if(!Hh(o.precondition,s))return c;let l=H0(o.fieldTransforms,u,s),f=s.data;return f.setAll(nR(o)),f.setAll(l),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(n,e,t,r):(function(o,s,c){return Hh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c})(n,e,t)}function dU(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=ZA(r.transform,i||null);o!=null&&(t===null&&(t=Kt.empty()),t.set(r.field,o))}return t||null}function B0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Hs(r,i,(o,s)=>uU(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Ro=class extends Xs{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Yn=class extends Xs{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function nR(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function $0(n,e,t){let r=new Map;we(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,cU(s,c,t[i]))}return r}function H0(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,aU(o,s,e))}return r}var vu=class extends Xs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},r_=class extends Xs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var i_=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&lU(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=hu(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=hu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=QA();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=t.has(i.key)?null:c;let u=tR(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(re.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),de())}isEqual(e){return this.batchId===e.batchId&&Hs(this.mutations,e.mutations,(t,r)=>B0(t,r))&&Hs(this.baseMutations,e.baseMutations,(t,r)=>B0(t,r))}},o_=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){we(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return nU})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var s_=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var a_=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Ye,me;function hU(n){switch(n){case P.OK:return G(64938);case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0;default:return G(15467,{code:n})}}function rR(n){if(n===void 0)return wr("GRPC error has no .code"),P.UNKNOWN;switch(n){case Ye.OK:return P.OK;case Ye.CANCELLED:return P.CANCELLED;case Ye.UNKNOWN:return P.UNKNOWN;case Ye.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case Ye.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case Ye.INTERNAL:return P.INTERNAL;case Ye.UNAVAILABLE:return P.UNAVAILABLE;case Ye.UNAUTHENTICATED:return P.UNAUTHENTICATED;case Ye.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case Ye.NOT_FOUND:return P.NOT_FOUND;case Ye.ALREADY_EXISTS:return P.ALREADY_EXISTS;case Ye.PERMISSION_DENIED:return P.PERMISSION_DENIED;case Ye.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case Ye.ABORTED:return P.ABORTED;case Ye.OUT_OF_RANGE:return P.OUT_OF_RANGE;case Ye.UNIMPLEMENTED:return P.UNIMPLEMENTED;case Ye.DATA_LOSS:return P.DATA_LOSS;default:return G(39323,{code:n})}}(me=Ye||(Ye={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";var q0=null;var fU=new vr([4294967295,4294967295],0);function z0(n){let e=pA().encode(n),t=new Dv;return t.update(e),new Uint8Array(t.digest())}function G0(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new vr([t,r],0),new vr([i,o],0)]}var c_=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new wo(`Invalid padding: ${t}`);if(r<0)throw new wo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wo(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new wo(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=vr.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(vr.fromNumber(r)));return i.compare(fU)===1&&(i=new vr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=z0(e),[r,i]=G0(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(c=>s.insert(c)),s}insert(e){if(this.fe===0)return;let t=z0(e),[r,i]=G0(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},wo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Jh=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,_u.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(re.min(),i,new Be(ae),Cr(),de())}},_u=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,de(),de(),de())}};var Us=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},Xh=class{constructor(e,t){this.targetId=e,this.De=t}},ef=class{constructor(e,t,r=wt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},tf=class{constructor(){this.ve=0,this.Ce=W0(),this.Fe=wt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=de(),t=de(),r=de();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:G(38017,{changeType:o})}}),new _u(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=W0()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,we(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},u_=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=Cr(),this.je=jh(),this.Je=jh(),this.He=new Be(ae)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:G(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(e_(o))if(r===0){let s=new z(o.path);this.Xe(t,s,An.newNoDocument(s,re.min()))}else we(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let c=this._t(e),u=c?this.ut(c,e,s):1;if(u!==0){this.rt(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,l)}q0?.ct((function(f,p,m,y,S){var M,R,F,Q,Z,Re;let Dt={localCacheCount:f,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},De=p.unchangedNames;return De&&(Dt.bloomFilter={applied:S===0,hashCount:(M=De?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(Q=(F=(R=De?.bits)===null||R===void 0?void 0:R.bitmap)===null||F===void 0?void 0:F.length)!==null&&Q!==void 0?Q:0,padding:(Re=(Z=De?.bits)===null||Z===void 0?void 0:Z.padding)!==null&&Re!==void 0?Re:0,mightContain:w=>{var v;return(v=y?.mightContain(w))!==null&&v!==void 0&&v}}),Dt})(s,e.De,this.We.lt(),c,u))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,c;try{s=br(r).toUint8Array()}catch(u){if(u instanceof Kh)return gi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new c_(s,i,o)}catch(u){return gi(u instanceof wo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.fe===0?null:c}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let c=this.st(s);if(c){if(o.current&&e_(c.target)){let u=new z(c.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,An.newNoDocument(u,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=de();this.Je.forEach((o,s)=>{let c=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new Jh(e,t,this.He,this.ze,r);return this.ze=Cr(),this.je=jh(),this.Je=jh(),this.He=new Be(ae),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new tf,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new at(ae),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new at(ae),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||L("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new tf),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function jh(){return new Be(z.comparator)}function W0(){return new Be(z.comparator)}var pU={asc:"ASCENDING",desc:"DESCENDING"},gU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mU={and:"AND",or:"OR"},l_=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function d_(n,e){return n.useProto3Json||bf(e)?e:{value:e}}function nf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function yU(n,e){return nf(n,e.toTimestamp())}function Wn(n){return we(!!n,49232),re.fromTimestamp((function(t){let r=Dr(t);return new Xe(r.seconds,r.nanos)})(n))}function SE(n,e){return h_(n,e).canonicalString()}function h_(n,e){let t=(function(i){return new Ve(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function oR(n){let e=Ve.fromString(n);return we(lR(e),10190,{key:e.toString()}),e}function f_(n,e){return SE(n.databaseId,e.path)}function Rv(n,e){let t=oR(e);if(t.get(1)!==n.databaseId.projectId)throw new $(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new $(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new z(aR(t))}function sR(n,e){return SE(n.databaseId,e)}function vU(n){let e=oR(n);return e.length===4?Ve.emptyPath():aR(e)}function p_(n){return new Ve(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function aR(n){return we(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function K0(n,e,t){return{name:f_(n,e),fields:t.value.mapValue.fields}}function _U(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:G(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,f){return l.useProto3Json?(we(f===void 0||typeof f=="string",58123),wt.fromBase64String(f||"")):(we(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),wt.fromUint8Array(f||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&(function(l){let f=l.code===void 0?P.UNKNOWN:rR(l.code);return new $(f,l.message||"")})(s);t=new ef(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Rv(n,r.document.name),o=Wn(r.document.updateTime),s=r.document.createTime?Wn(r.document.createTime):re.min(),c=new Kt({mapValue:{fields:r.document.fields}}),u=An.newFoundDocument(i,o,s,c),l=r.targetIds||[],f=r.removedTargetIds||[];t=new Us(l,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Rv(n,r.document),o=r.readTime?Wn(r.readTime):re.min(),s=An.newNoDocument(i,o),c=r.removedTargetIds||[];t=new Us([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Rv(n,r.document),o=r.removedTargetIds||[];t=new Us([],o,i,null)}else{if(!("filter"in e))return G(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new a_(i,o),c=r.targetId;t=new Xh(c,s)}}return t}function EU(n,e){let t;if(e instanceof Ro)t={update:K0(n,e.key,e.value)};else if(e instanceof vu)t={delete:f_(n,e.key)};else if(e instanceof Yn)t={update:K0(n,e.key,e.data),updateMask:RU(e.fieldMask)};else{if(!(e instanceof r_))return G(16599,{Rt:e.type});t={verify:f_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let c=s.transform;if(c instanceof Zs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof So)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Ao)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Js)return{fieldPath:s.field.canonicalString(),increment:c.Ee};throw G(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:yU(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:G(27497)})(n,e.precondition)),t}function IU(n,e){return n&&n.length>0?(we(e!==void 0,14353),n.map(t=>(function(i,o){let s=i.updateTime?Wn(i.updateTime):Wn(o);return s.isEqual(re.min())&&(s=Wn(o)),new n_(s,i.transformResults||[])})(t,e))):[]}function wU(n,e){return{documents:[sR(n,e.path)]}}function DU(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=sR(n,i);let o=(function(l){if(l.length!==0)return uR(Qn.create(l,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(f=>(function(m){return{field:Ls(m.field),direction:CU(m.dir)}})(f))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let c=d_(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:t,parent:i}}function bU(n){let e=vU(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){we(r===1,65062);let f=t.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];t.where&&(o=(function(p){let m=cR(p);return m instanceof Qn&&BA(m)?m.getFilters():[m]})(t.where));let s=[];t.orderBy&&(s=(function(p){return p.map(m=>(function(S){return new Ks(Vs(S.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(m))})(t.orderBy));let c=null;t.limit&&(c=(function(p){let m;return m=typeof p=="object"?p.value:p,bf(m)?null:m})(t.limit));let u=null;t.startAt&&(u=(function(p){let m=!!p.before,y=p.values||[];return new Ws(y,m)})(t.startAt));let l=null;return t.endAt&&(l=(function(p){let m=!p.before,y=p.values||[];return new Ws(y,m)})(t.endAt)),Yj(e,i,s,o,c,"F",u,l)}function TU(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return G(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function cR(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Vs(t.unaryFilter.field);return nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Vs(t.unaryFilter.field);return nt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Vs(t.unaryFilter.field);return nt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Vs(t.unaryFilter.field);return nt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return G(61313);default:return G(60726)}})(n):n.fieldFilter!==void 0?(function(t){return nt.create(Vs(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return G(58110);default:return G(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Qn.create(t.compositeFilter.filters.map(r=>cR(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return G(1026)}})(t.compositeFilter.op))})(n):G(30097,{filter:n})}function CU(n){return pU[n]}function SU(n){return gU[n]}function AU(n){return mU[n]}function Ls(n){return{fieldPath:n.canonicalString()}}function Vs(n){return Qt.fromServerFormat(n.fieldPath)}function uR(n){return n instanceof nt?(function(t){if(t.op==="=="){if(O0(t.value))return{unaryFilter:{field:Ls(t.field),op:"IS_NAN"}};if(k0(t.value))return{unaryFilter:{field:Ls(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(O0(t.value))return{unaryFilter:{field:Ls(t.field),op:"IS_NOT_NAN"}};if(k0(t.value))return{unaryFilter:{field:Ls(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ls(t.field),op:SU(t.op),value:t.value}}})(n):n instanceof Qn?(function(t){let r=t.getFilters().map(i=>uR(i));return r.length===1?r[0]:{compositeFilter:{op:AU(t.op),filters:r}}})(n):G(54877,{filter:n})}function RU(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function lR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Eu=class n{constructor(e,t,r,i,o=re.min(),s=re.min(),c=wt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var g_=class{constructor(e){this.gt=e}};function NU(n){let e=bU({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?t_(e,e.limit,"L"):e}var rf=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(ke(e.integerValue));else if("doubleValue"in e){let r=ke(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),gu(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=Dr(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(br(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?VA(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):LA(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):G(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=qs,c=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(ke(c)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),z.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};rf.Ut=new rf;var m_=class{constructor(){this.Dn=new y_}addToCollectionParentIndex(e,t){return this.Dn.add(t),x.resolve()}getCollectionParents(e,t){return x.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return x.resolve()}deleteFieldIndex(e,t){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,t){return x.resolve()}getDocumentsMatchingTarget(e,t){return x.resolve(null)}getIndexType(e,t){return x.resolve(0)}getFieldIndexes(e,t){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,t){return x.resolve(Co.min())}getMinOffsetFromCollectionGroup(e,t){return x.resolve(Co.min())}updateCollectionGroup(e,t,r){return x.resolve()}updateIndexEntries(e,t){return x.resolve()}},y_=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new at(Ve.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new at(Ve.comparator)).toArray()}};var pte=new Uint8Array(0);var Q0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dR=41943040,an=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(dR,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);var Iu=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var Y0="LruGarbageCollector",MU=1048576;function Z0([n,e],[t,r]){let i=ae(n,t);return i===0?ae(e,r):i}var v_=class{constructor(e){this.Tr=e,this.buffer=new at(Z0),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();Z0(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},__=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){L(Y0,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>C(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){oa(t)?L(Y0,"Ignoring IndexedDB error during garbage collection: ",t):yield ia(t)}yield this.Rr(3e5)}))}},E_=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return x.resolve(yE.ue);let r=new v_(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(L("LruGarbageCollector","Garbage collection skipped; disabled"),x.resolve(Q0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(L("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Q0):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,c,u,l,f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(L("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,c=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Os()<=le.DEBUG&&L("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${i} in `+(c-s)+`ms
	Removed ${o} targets in `+(u-c)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-f}ms`),x.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function PU(n,e){return new E_(n,e)}var I_=class{constructor(){this.changes=new Tr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?x.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var w_=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var D_=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&hu(r.mutation,i,cn.empty(),Xe.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,de()).next(()=>r))}getLocalViewOfDocuments(e,t,r=de()){let i=Io();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=cu();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Io();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,de()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{t.set(s,c)})})}computeViews(e,t,r,i){let o=Cr(),s=du(),c=(function(){return du()})();return t.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof Yn)?o=o.insert(l.key,l):f!==void 0?(s.set(l.key,f.mutation.getFieldMask()),hu(f.mutation,l,f.mutation.getFieldMask(),Xe.now())):s.set(l.key,cn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,f)=>s.set(l,f)),t.forEach((l,f)=>{var p;return c.set(l,new w_(f,(p=s.get(l))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,t){let r=du(),i=new Be((s,c)=>s-c),o=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let c of s)c.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let f=r.get(u)||cn.empty();f=c.applyToLocalView(l,f),r.set(u,f);let p=(i.get(c.batchId)||de()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,f=u.value,p=QA();f.forEach(m=>{if(!o.has(m)){let y=tR(t.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return z.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Zj(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):x.resolve(Io()),c=pu,u=o;return s.next(l=>x.forEach(l,(f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(f)?x.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,de())).next(f=>({batchId:c,changes:KA(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new z(t)).next(r=>{let i=cu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=cu();return this.indexManager.getCollectionParents(e,o).next(c=>x.forEach(c,u=>{let l=(function(p,m){return new Qs(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let f=l.getKey();s.get(f)===null&&(s=s.insert(f,An.newInvalidDocument(f)))});let c=cu();return s.forEach((u,l)=>{let f=o.get(u);f!==void 0&&hu(f.mutation,l,cn.empty(),Xe.now()),Sf(t,l)&&(c=c.insert(u,l))}),c})}};var b_=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return x.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Wn(i.createTime)}})(t)),x.resolve()}getNamedQuery(e,t){return x.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:NU(i.bundledQuery),readTime:Wn(i.readTime)}})(t)),x.resolve()}};var T_=class{constructor(){this.overlays=new Be(z.comparator),this.kr=new Map}getOverlay(e,t){return x.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Io();return x.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),x.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),x.resolve()}getOverlaysForCollection(e,t,r){let i=Io(),o=t.length+1,s=new z(t.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Be((l,f)=>l-f),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let f=o.get(l.largestBatchId);f===null&&(f=Io(),o=o.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let c=Io(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>c.set(l,f)),!(c.size()>=i)););return x.resolve(c)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new s_(t,r));let o=this.kr.get(t);o===void 0&&(o=de(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var C_=class{constructor(){this.sessionToken=wt.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,x.resolve()}};var wu=class{constructor(){this.qr=new at(Ze.Qr),this.$r=new at(Ze.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new Ze(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new Ze(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new z(new Ve([])),r=new Ze(t,e),i=new Ze(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new z(new Ve([])),r=new Ze(t,e),i=new Ze(t,e+1),o=de();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Ze(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Ze=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return z.comparator(e.key,t.key)||ae(e.Hr,t.Hr)}static Ur(e,t){return ae(e.Hr,t.Hr)||z.comparator(e.key,t.key)}};var S_=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new at(Ze.Qr)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new i_(o,t,r,i);this.mutationQueue.push(s);for(let c of i)this.Yr=this.Yr.add(new Ze(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return x.resolve(s)}lookupMutationBatch(e,t){return x.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return x.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?vE:this.er-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Ze(t,0),i=new Ze(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let c=this.Zr(s.Hr);o.push(c)}),x.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new at(ae);return t.forEach(i=>{let o=new Ze(i,0),s=new Ze(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],c=>{r=r.add(c.Hr)})}),x.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;z.isDocumentKey(o)||(o=o.child(""));let s=new Ze(new z(o),0),c=new at(ae);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.Hr)),!0)},s),x.resolve(this.ei(c))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){we(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return x.forEach(t.mutations,i=>{let o=new Ze(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new Ze(t,0),i=this.Yr.firstAfterOrEqual(r);return x.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var A_=class{constructor(e){this.ni=e,this.docs=(function(){return new Be(z.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return x.resolve(r?r.document.mutableCopy():An.newInvalidDocument(t))}getEntries(e,t){let r=Cr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():An.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Cr(),s=t.path,c=new z(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||Mj(Nj(f),r)<=0||(i.has(f.key)||Sf(t,f))&&(o=o.insert(f.key,f.mutableCopy()))}return x.resolve(o)}getAllFromCollectionGroup(e,t,r,i){G(9500)}ri(e,t){return x.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new R_(this)}getSize(e){return x.resolve(this.size)}},R_=class extends I_{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),x.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var N_=class{constructor(e){this.persistence=e,this.ii=new Tr(t=>DE(t),bE),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.si=0,this.oi=new wu,this.targetCount=0,this._i=Iu.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),x.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new Iu(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,x.resolve()}updateTargetData(e,t){return this.hr(t),x.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),x.waitFor(o).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return x.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),x.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),x.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),x.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return x.resolve(r)}containsKey(e,t){return x.resolve(this.oi.containsKey(t))}};var of=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new yE(0),this.ci=!1,this.ci=!0,this.li=new C_,this.referenceDelegate=e(this),this.hi=new N_(this),this.indexManager=new m_,this.remoteDocumentCache=(function(i){return new A_(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new g_(t),this.Ti=new b_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new T_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new S_(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){L("MemoryPersistence","Starting transaction:",e);let i=new M_(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return x.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},M_=class extends Bv{constructor(e){super(),this.currentSequenceNumber=e}},P_=class n{constructor(e){this.persistence=e,this.Ai=new wu,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw G(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),x.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),x.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.mi,r=>{let i=z.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,re.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return x.or([()=>x.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},sf=class n{constructor(e,t){this.persistence=e,this.gi=new Tr(r=>Oj(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=PU(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return x.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return x.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?x.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(c=>{c||(r++,o.removeEntry(s,re.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),x.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),x.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),x.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),x.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Bh(e.data.value)),t}Sr(e,t,r){return x.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return x.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var x_=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=de(),i=de();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var k_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var O_=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return TS()?8:xj(Wt())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new k_;return this.ws(e,t,s).next(c=>{if(o.result=c,this.Rs)return this.Ss(e,t,s,c.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(Os()<=le.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",Fs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),x.resolve()):(Os()<=le.DEBUG&&L("QueryEngine","Query:",Fs(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Os()<=le.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",Fs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gn(t))):x.resolve())}ps(e,t){if(j0(t))return x.resolve(null);let r=Gn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=t_(t,null,"F"),r=Gn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=de(...o);return this.gs.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(t,c);return this.Ds(t,l,s,u.readTime)?this.ps(e,t_(t,null,"F")):this.vs(e,l,t,u)}))})))}ys(e,t,r,i){return j0(t)||i.isEqual(re.min())?x.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?x.resolve(null):(Os()<=le.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Fs(t)),this.vs(e,s,t,Rj(i,pu)).next(c=>c))})}bs(e,t){let r=new at(GA(e));return t.forEach((i,o)=>{Sf(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return Os()<=le.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",Fs(t)),this.gs.getDocumentsMatchingQuery(e,t,Co.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var AE="LocalStore",xU=3e8,F_=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new Be(ae),this.Ms=new Tr(o=>DE(o),bE),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new D_(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function kU(n,e,t,r){return new F_(n,e,t,r)}function hR(n,e){return C(this,null,function*(){let t=te(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=de();for(let l of i){s.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of o){c.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:c}))})})})}function OU(n,e){let t=te(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return(function(c,u,l,f){let p=l.batch,m=p.keys(),y=x.resolve();return m.forEach(S=>{y=y.next(()=>f.getEntry(u,S)).next(M=>{let R=l.docVersions.get(S);we(R!==null,48541),M.version.compareTo(R)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),f.addEntry(M)))})}),y.next(()=>c.mutationQueue.removeMutationBatch(u,p))})(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let u=de();for(let l=0;l<c.mutationResults.length;++l)c.mutationResults[l].transformResults.length>0&&(u=u.add(c.batch.mutations[l].key));return u})(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function fR(n){let e=te(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function FU(n,e){let t=te(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let c=[];e.targetChanges.forEach((f,p)=>{let m=i.get(p);if(!m)return;c.push(t.hi.removeMatchingKeys(o,f.removedDocuments,p).next(()=>t.hi.addMatchingKeys(o,f.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(wt.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,r)),i=i.insert(p,y),(function(M,R,F){return M.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=xU?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(m,y,f)&&c.push(t.hi.updateTargetData(o,y))});let u=Cr(),l=de();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,f))}),c.push(LU(o,s,e.documentUpdates).next(f=>{u=f.Ls,l=f.ks})),!r.isEqual(re.min())){let f=t.hi.getLastRemoteSnapshotVersion(o).next(p=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(f)}return x.waitFor(c).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.Fs=i,o))}function LU(n,e,t){let r=de(),i=de();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Cr();return t.forEach((c,u)=>{let l=o.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(re.min())?(e.removeEntry(c,u.readTime),s=s.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(c,u)):L(AE,"Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function VU(n,e){let t=te(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=vE),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function jU(n,e){let t=te(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,x.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new Eu(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function L_(n,e,t){return C(this,null,function*(){let r=te(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!oa(s))throw s;L(AE,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function J0(n,e,t){let r=te(n),i=re.min(),o=de();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,f){let p=te(u),m=p.Ms.get(f);return m!==void 0?x.resolve(p.Fs.get(m)):p.hi.getTargetData(l,f)})(r,s,Gn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,c.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:re.min(),t?o:de())).next(c=>(UU(r,Xj(e),c),{documents:c,qs:o})))}function UU(n,e,t){let r=n.xs.get(e)||re.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var af=class{constructor(){this.activeTargetIds=oU()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var V_=class{constructor(){this.Fo=new af,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new af,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var j_=class{xo(e){}shutdown(){}};var X0="ConnectivityMonitor",cf=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){L(X0,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){L(X0,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Uh=null;function U_(){return Uh===null?Uh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Uh++,"0x"+Uh.toString(16)}var Nv="RestConnection",BU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},B_=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Qh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=U_(),c=this.Go(e,t.toUriEncodedString());L(Nv,`Sending RPC '${e}' ${s}:`,c,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(c),f=lo(l);return this.jo(e,c,u,r,f).then(p=>(L(Nv,`Received RPC '${e}' ${s}: `,p),p),p=>{throw gi(Nv,`RPC '${e}' ${s} failed with error: `,p,"url: ",c,"request:",r),p})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ra})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=BU[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var $_=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var Et="WebChannelConnection",H_=class extends B_{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=U_();return new Promise((c,u)=>{let l=new bv;l.setWithCredentials(!0),l.listenOnce(Tv.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case au.NO_ERROR:let p=l.getResponseJson();L(Et,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),c(p);break;case au.TIMEOUT:L(Et,`RPC '${e}' ${s} timed out`),u(new $(P.DEADLINE_EXCEEDED,"Request time out"));break;case au.HTTP_ERROR:let m=l.getStatus();if(L(Et,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let S=y?.error;if(S&&S.status&&S.message){let M=(function(F){let Q=F.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(Q)>=0?Q:P.UNKNOWN})(S.status);u(new $(M,S.message))}else u(new $(P.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new $(P.UNAVAILABLE,"Connection failed."));break;default:G(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{L(Et,`RPC '${e}' ${s} completed.`)}});let f=JSON.stringify(i);L(Et,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",f,r,15)})}P_(e,t,r){let i=U_(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Av(),c=Sv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let f=o.join("");L(Et,`Creating RPC '${e}' stream ${i}: ${f}`,u);let p=s.createWebChannel(f,u);this.T_(p);let m=!1,y=!1,S=new $_({Ho:R=>{y?L(Et,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(L(Et,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),L(Et,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Yo:()=>p.close()}),M=(R,F,Q)=>{R.listen(F,Z=>{try{Q(Z)}catch(Re){setTimeout(()=>{throw Re},0)}})};return M(p,ks.EventType.OPEN,()=>{y||(L(Et,`RPC '${e}' stream ${i} transport opened.`),S.s_())}),M(p,ks.EventType.CLOSE,()=>{y||(y=!0,L(Et,`RPC '${e}' stream ${i} transport closed`),S.__(),this.I_(p))}),M(p,ks.EventType.ERROR,R=>{y||(y=!0,gi(Et,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),S.__(new $(P.UNAVAILABLE,"The operation could not be completed")))}),M(p,ks.EventType.MESSAGE,R=>{var F;if(!y){let Q=R.data[0];we(!!Q,16349);let Z=Q,Re=Z?.error||((F=Z[0])===null||F===void 0?void 0:F.error);if(Re){L(Et,`RPC '${e}' stream ${i} received error:`,Re);let Dt=Re.status,De=(function(E){let I=Ye[E];if(I!==void 0)return rR(I)})(Dt),w=Re.message;De===void 0&&(De=P.INTERNAL,w="Unknown error status: "+Dt+" with message "+Re.message),y=!0,S.__(new $(De,w)),p.close()}else L(Et,`RPC '${e}' stream ${i} received:`,Q),S.a_(Q)}}),M(c,Cv.STAT_EVENT,R=>{R.stat===Lh.PROXY?L(Et,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Lh.NOPROXY&&L(Et,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.o_()},0),S}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function Mv(){return typeof document<"u"?document:null}function Af(n){return new l_(n,!0)}var uf=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&L("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var eA="PersistentStream",lf=class{constructor(e,t,r,i,o,s,c,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new uf(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return C(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return C(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return C(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===P.RESOURCE_EXHAUSTED?(wr(t.toString()),wr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new $(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>C(this,null,function*(){this.state=0,this.start()}))}G_(e){return L(eA,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(L(eA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},q_=class extends lf{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=_U(this.serializer,e),r=(function(o){if(!("targetChange"in o))return re.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?re.min():s.readTime?Wn(s.readTime):re.min()})(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=p_(this.serializer),t.addTarget=(function(o,s){let c,u=s.target;if(c=e_(u)?{documents:wU(o,u)}:{query:DU(o,u).Vt},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=iR(o,s.resumeToken);let l=d_(o,s.expectedCount);l!==null&&(c.expectedCount=l)}else if(s.snapshotVersion.compareTo(re.min())>0){c.readTime=nf(o,s.snapshotVersion.toTimestamp());let l=d_(o,s.expectedCount);l!==null&&(c.expectedCount=l)}return c})(this.serializer,e);let r=TU(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=p_(this.serializer),t.removeTarget=e,this.k_(t)}},z_=class extends lf{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return we(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,we(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){we(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=IU(e.writeResults,e.commitTime),r=Wn(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=p_(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>EU(this.serializer,r))};this.k_(t)}};var G_=class{},W_=class extends G_{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new $(P.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,h_(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $(P.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Jo(e,h_(t,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(P.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},K_=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(wr(t),this._a=!1):L("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var No="RemoteStore",Q_=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>C(this,null,function*(){Mo(this)&&(L(No,"Restarting streams for network reachability change."),yield(function(u){return C(this,null,function*(){let l=te(u);l.Ia.add(4),yield Tu(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield Rf(l)})})(this))}))}),this.Aa=new K_(r,i)}};function Rf(n){return C(this,null,function*(){if(Mo(n))for(let e of n.da)yield e(!0)})}function Tu(n){return C(this,null,function*(){for(let e of n.da)yield e(!1)})}function pR(n,e){let t=te(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),PE(t)?ME(t):sa(t).x_()&&NE(t,e))}function RE(n,e){let t=te(n),r=sa(t);t.Ta.delete(e),r.x_()&&gR(t,e),t.Ta.size===0&&(r.x_()?r.B_():Mo(t)&&t.Aa.set("Unknown"))}function NE(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}sa(n).H_(e)}function gR(n,e){n.Ra.$e(e),sa(n).Y_(e)}function ME(n){n.Ra=new u_({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),sa(n).start(),n.Aa.aa()}function PE(n){return Mo(n)&&!sa(n).M_()&&n.Ta.size>0}function Mo(n){return te(n).Ia.size===0}function mR(n){n.Ra=void 0}function $U(n){return C(this,null,function*(){n.Aa.set("Online")})}function HU(n){return C(this,null,function*(){n.Ta.forEach((e,t)=>{NE(n,e)})})}function qU(n,e){return C(this,null,function*(){mR(n),PE(n)?(n.Aa.la(e),ME(n)):n.Aa.set("Unknown")})}function zU(n,e,t){return C(this,null,function*(){if(n.Aa.set("Online"),e instanceof ef&&e.state===2&&e.cause)try{yield(function(i,o){return C(this,null,function*(){let s=o.cause;for(let c of o.targetIds)i.Ta.has(c)&&(yield i.remoteSyncer.rejectListen(c,s),i.Ta.delete(c),i.Ra.removeTarget(c))})})(n,e)}catch(r){L(No,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield df(n,r)}else if(e instanceof Us?n.Ra.Ye(e):e instanceof Xh?n.Ra.it(e):n.Ra.et(e),!t.isEqual(re.min()))try{let r=yield fR(n.localStore);t.compareTo(r)>=0&&(yield(function(o,s){let c=o.Ra.Pt(s);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let f=o.Ta.get(l);f&&o.Ta.set(l,f.withResumeToken(u.resumeToken,s))}}),c.targetMismatches.forEach((u,l)=>{let f=o.Ta.get(u);if(!f)return;o.Ta.set(u,f.withResumeToken(wt.EMPTY_BYTE_STRING,f.snapshotVersion)),gR(o,u);let p=new Eu(f.target,u,l,f.sequenceNumber);NE(o,p)}),o.remoteSyncer.applyRemoteEvent(c)})(n,t))}catch(r){L(No,"Failed to raise snapshot:",r),yield df(n,r)}})}function df(n,e,t){return C(this,null,function*(){if(!oa(e))throw e;n.Ia.add(1),yield Tu(n),n.Aa.set("Offline"),t||(t=()=>fR(n.localStore)),n.asyncQueue.enqueueRetryable(()=>C(null,null,function*(){L(No,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield Rf(n)}))})}function yR(n,e){return e().catch(t=>df(n,t,e))}function Nf(n){return C(this,null,function*(){let e=te(n),t=yi(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:vE;for(;GU(e);)try{let i=yield VU(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,WU(e,i)}catch(i){yield df(e,i)}vR(e)&&_R(e)})}function GU(n){return Mo(n)&&n.Pa.length<10}function WU(n,e){n.Pa.push(e);let t=yi(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function vR(n){return Mo(n)&&!yi(n).M_()&&n.Pa.length>0}function _R(n){yi(n).start()}function KU(n){return C(this,null,function*(){yi(n).na()})}function QU(n){return C(this,null,function*(){let e=yi(n);for(let t of n.Pa)e.X_(t.mutations)})}function YU(n,e,t){return C(this,null,function*(){let r=n.Pa.shift(),i=o_.from(r,e,t);yield yR(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Nf(n)})}function ZU(n,e){return C(this,null,function*(){e&&yi(n).Z_&&(yield(function(r,i){return C(this,null,function*(){if((function(s){return hU(s)&&s!==P.ABORTED})(i.code)){let o=r.Pa.shift();yi(r).N_(),yield yR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Nf(r)}})})(n,e)),vR(n)&&_R(n)})}function tA(n,e){return C(this,null,function*(){let t=te(n);t.asyncQueue.verifyOperationInProgress(),L(No,"RemoteStore received new credentials");let r=Mo(t);t.Ia.add(3),yield Tu(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield Rf(t)})}function JU(n,e){return C(this,null,function*(){let t=te(n);e?(t.Ia.delete(2),yield Rf(t)):e||(t.Ia.add(2),yield Tu(t),t.Aa.set("Unknown"))})}function sa(n){return n.Va||(n.Va=(function(t,r,i){let o=te(t);return o.ia(),new q_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:$U.bind(null,n),e_:HU.bind(null,n),n_:qU.bind(null,n),J_:zU.bind(null,n)}),n.da.push(e=>C(null,null,function*(){e?(n.Va.N_(),PE(n)?ME(n):n.Aa.set("Unknown")):(yield n.Va.stop(),mR(n))}))),n.Va}function yi(n){return n.ma||(n.ma=(function(t,r,i){let o=te(t);return o.ia(),new z_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:KU.bind(null,n),n_:ZU.bind(null,n),ea:QU.bind(null,n),ta:YU.bind(null,n)}),n.da.push(e=>C(null,null,function*(){e?(n.ma.N_(),yield Nf(n)):(yield n.ma.stop(),n.Pa.length>0&&(L(No,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}var Y_=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,c=new n(e,t,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function xE(n,e){if(wr("AsyncQueue",`${e}: ${n}`),oa(n))return new $(P.UNAVAILABLE,`${e}: ${n}`);throw n}var hf=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||z.comparator(t.key,r.key):(t,r)=>z.comparator(t.key,r.key),this.keyedMap=cu(),this.sortedSet=new Be(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var ff=class{constructor(){this.fa=new Be(z.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):G(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},ea=class n{constructor(e,t,r,i,o,s,c,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(c=>{s.push({type:0,doc:c})}),new n(e,t,hf.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var Z_=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},J_=class{constructor(){this.queries=nA(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=te(t),o=i.queries;i.queries=nA(),o.forEach((s,c)=>{for(let u of c.wa)u.onError(r)})})(this,new $(P.ABORTED,"Firestore shutting down"))}};function nA(){return new Tr(n=>zA(n),Cf)}function XU(n,e){return C(this,null,function*(){let t=te(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new Z_,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let c=xE(s,`Initialization of query '${Fs(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&kE(t)})}function eB(n,e){return C(this,null,function*(){let t=te(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function tB(n,e){let t=te(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let c of s.wa)c.Ca(i)&&(r=!0);s.ya=i}}r&&kE(t)}function nB(n,e,t){let r=te(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function kE(n){n.Da.forEach(e=>{e.next()})}var X_,rA;(rA=X_||(X_={})).Fa="default",rA.Cache="cache";var eE=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ea(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=ea.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==X_.Cache}};var pf=class{constructor(e){this.key=e}},gf=class{constructor(e){this.key=e}},tE=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=de(),this.mutatedKeys=de(),this.Xa=GA(e),this.eu=new hf(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new ff,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{let m=i.get(f),y=Sf(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),M=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;m&&y?m.data.isEqual(y.data)?S!==M&&(r.track({type:3,doc:y}),R=!0):this.iu(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(c=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(c=!0)),R&&(y?(s=s.add(y),o=M?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{eu:s,ru:r,Ds:c,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((f,p)=>(function(y,S){let M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return G(20277,{At:R})}};return M(y)-M(S)})(f.type,p.type)||this.Xa(f.doc,p.doc)),this.su(r),i=i!=null&&i;let c=t&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new ea(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:c}:{_u:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new ff,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=de(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new gf(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new pf(r))}),t}uu(e){this.Ha=e.qs,this.Za=de();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return ea.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},OE="SyncEngine",nE=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},rE=class{constructor(e){this.key=e,this.lu=!1}},iE=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Tr(c=>zA(c),Cf),this.Tu=new Map,this.Iu=new Set,this.du=new Be(z.comparator),this.Eu=new Map,this.Au=new wu,this.Ru={},this.Vu=new Map,this.mu=Iu.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function rB(n,e,t=!0){return C(this,null,function*(){let r=TR(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield ER(r,e,t,!0),i})}function iB(n,e){return C(this,null,function*(){let t=TR(n);yield ER(t,e,!0,!1)})}function ER(n,e,t,r){return C(this,null,function*(){let i=yield jU(n.localStore,Gn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),c;return r&&(c=yield oB(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&pR(n.remoteStore,i),c})}function oB(n,e,t,r,i){return C(this,null,function*(){n.gu=(p,m,y)=>(function(M,R,F,Q){return C(this,null,function*(){let Z=R.view.nu(F);Z.Ds&&(Z=yield J0(M.localStore,R.query,!1).then(({documents:w})=>R.view.nu(w,Z)));let Re=Q&&Q.targetChanges.get(R.targetId),Dt=Q&&Q.targetMismatches.get(R.targetId)!=null,De=R.view.applyChanges(Z,M.isPrimaryClient,Re,Dt);return oA(M,R.targetId,De._u),De.snapshot})})(n,p,m,y);let o=yield J0(n.localStore,e,!0),s=new tE(e,o.qs),c=s.nu(o.documents),u=_u.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(c,n.isPrimaryClient,u);oA(n,t,l._u);let f=new nE(e,t,s);return n.Pu.set(e,f),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),l.snapshot})}function sB(n,e,t){return C(this,null,function*(){let r=te(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!Cf(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield L_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&RE(r.remoteStore,i.targetId),oE(r,i.targetId)}).catch(ia))):(oE(r,i.targetId),yield L_(r.localStore,i.targetId,!0))})}function aB(n,e){return C(this,null,function*(){let t=te(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),RE(t.remoteStore,r.targetId))})}function cB(n,e,t){return C(this,null,function*(){let r=gB(n);try{let i=yield(function(s,c){let u=te(s),l=Xe.now(),f=c.reduce((y,S)=>y.add(S.key),de()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let S=Cr(),M=de();return u.Os.getEntries(y,f).next(R=>{S=R,S.forEach((F,Q)=>{Q.isValidDocument()||(M=M.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,S)).next(R=>{p=R;let F=[];for(let Q of c){let Z=dU(Q,p.get(Q.key).overlayedDocument);Z!=null&&F.push(new Yn(Q.key,Z,jA(Z.value.mapValue),Ir.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,F,c)}).next(R=>{m=R;let F=R.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(y,R.batchId,F)})}).then(()=>({batchId:m.batchId,changes:KA(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,c,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new Be(ae)),l=l.insert(c,u),s.Ru[s.currentUser.toKey()]=l})(r,i.batchId,t),yield Cu(r,i.changes),yield Nf(r.remoteStore)}catch(i){let o=xE(i,"Failed to persist write");t.reject(o)}})}function IR(n,e){return C(this,null,function*(){let t=te(n);try{let r=yield FU(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(we(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?we(s.lu,14607):i.removedDocuments.size>0&&(we(s.lu,42227),s.lu=!1))}),yield Cu(t,r,e)}catch(r){yield ia(r)}})}function iA(n,e,t){let r=te(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let c=s.view.va(e);c.snapshot&&i.push(c.snapshot)}),(function(s,c){let u=te(s);u.onlineState=c;let l=!1;u.queries.forEach((f,p)=>{for(let m of p.wa)m.va(c)&&(l=!0)}),l&&kE(u)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function uB(n,e,t){return C(this,null,function*(){let r=te(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Be(z.comparator);s=s.insert(o,An.newNoDocument(o,re.min()));let c=de().add(o),u=new Jh(re.min(),new Map,new Be(ae),s,c);yield IR(r,u),r.du=r.du.remove(o),r.Eu.delete(e),FE(r)}else yield L_(r.localStore,e,!1).then(()=>oE(r,e,t)).catch(ia)})}function lB(n,e){return C(this,null,function*(){let t=te(n),r=e.batch.batchId;try{let i=yield OU(t.localStore,e);DR(t,r,null),wR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Cu(t,i)}catch(i){yield ia(i)}})}function dB(n,e,t){return C(this,null,function*(){let r=te(n);try{let i=yield(function(s,c){let u=te(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return u.mutationQueue.lookupMutationBatch(l,c).next(p=>(we(p!==null,37113),f=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>u.localDocuments.getDocuments(l,f))})})(r.localStore,e);DR(r,e,t),wR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Cu(r,i)}catch(i){yield ia(i)}})}function wR(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function DR(n,e,t){let r=te(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function oE(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||bR(n,r)})}function bR(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(RE(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),FE(n))}function oA(n,e,t){for(let r of t)r instanceof pf?(n.Au.addReference(r.key,e),hB(n,r)):r instanceof gf?(L(OE,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||bR(n,r.key)):G(19791,{yu:r})}function hB(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(L(OE,"New document in limbo: "+t),n.Iu.add(r),FE(n))}function FE(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new z(Ve.fromString(e)),r=n.mu.next();n.Eu.set(r,new rE(t)),n.du=n.du.insert(t,r),pR(n.remoteStore,new Eu(Gn(TE(t.path)),r,"TargetPurposeLimboResolution",yE.ue))}}function Cu(n,e,t){return C(this,null,function*(){let r=te(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((c,u)=>{s.push(r.gu(u,e,t).then(l=>{var f;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(f=t?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=x_.Es(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.hu.J_(i),yield(function(u,l){return C(this,null,function*(){let f=te(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,m=>x.forEach(m.Is,y=>f.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>x.forEach(m.ds,y=>f.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!oa(p))throw p;L(AE,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=f.Fs.get(m),S=y.snapshotVersion,M=y.withLastLimboFreeSnapshotVersion(S);f.Fs=f.Fs.insert(m,M)}}})})(r.localStore,o))})}function fB(n,e){return C(this,null,function*(){let t=te(n);if(!t.currentUser.isEqual(e)){L(OE,"User change. New user:",e.toKey());let r=yield hR(t.localStore,e);t.currentUser=e,(function(o,s){o.Vu.forEach(c=>{c.forEach(u=>{u.reject(new $(P.CANCELLED,s))})}),o.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Cu(t,r.Bs)}})}function pB(n,e){let t=te(n),r=t.Eu.get(e);if(r&&r.lu)return de().add(r.key);{let i=de(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let c=t.Pu.get(s);i=i.unionWith(c.view.tu)}return i}}function TR(n){let e=te(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=IR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uB.bind(null,e),e.hu.J_=tB.bind(null,e.eventManager),e.hu.pu=nB.bind(null,e.eventManager),e}function gB(n){let e=te(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dB.bind(null,e),e}var CR=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return C(this,null,function*(){this.serializer=Af(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return kU(this.persistence,new O_,t.initialUser,this.serializer)}Du(t){return new of(P_.Vi,this.serializer)}bu(t){return new V_}terminate(){return C(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),sE=class extends CR{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){we(this.persistence.referenceDelegate instanceof sf,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new __(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new of(r=>sf.Vi(r,t),this.serializer)}};var mB=(()=>{class n{initialize(t,r){return C(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>iA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=fB.bind(null,this.syncEngine),yield JU(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return(function(){return new J_})()}createDatastore(t){let r=Af(t.databaseInfo.databaseId),i=(function(s){return new H_(s)})(t.databaseInfo);return(function(s,c,u,l){return new W_(s,c,u,l)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,c,u){return new Q_(i,o,s,c,u)})(this.localStore,this.datastore,t.asyncQueue,r=>iA(this.syncEngine,r,0),(function(){return cf.C()?new cf:new j_})())}createSyncEngine(t,r){return(function(o,s,c,u,l,f,p){let m=new iE(o,s,c,u,l,f);return p&&(m.fu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return C(this,null,function*(){var t,r;yield(function(o){return C(this,null,function*(){let s=te(o);L(No,"RemoteStore shutting down."),s.Ia.add(5),yield Tu(s),s.Ea.shutdown(),s.Aa.set("Unknown")})})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var aE=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):wr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var vi="FirestoreClient",cE=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=st.UNAUTHENTICATED,this.clientId=fu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>C(this,null,function*(){L(vi,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(L(vi,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>C(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=xE(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Pv(n,e){return C(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),L(vi,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>C(null,null,function*(){r.isEqual(i)||(yield hR(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{gi("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{L("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{gi("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function sA(n,e){return C(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield yB(n);L(vi,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>tA(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>tA(e.remoteStore,i)),n._onlineComponents=e})}function yB(n){return C(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){L(vi,"Using user provided OfflineComponentProvider");try{yield Pv(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===P.FAILED_PRECONDITION||i.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;gi("Error using user provided cache. Falling back to memory cache: "+t),yield Pv(n,new CR)}}else L(vi,"Using default OfflineComponentProvider"),yield Pv(n,new sE(void 0));return n._offlineComponents})}function SR(n){return C(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(L(vi,"Using user provided OnlineComponentProvider"),yield sA(n,n._uninitializedComponentsProvider._online)):(L(vi,"Using default OnlineComponentProvider"),yield sA(n,new mB))),n._onlineComponents})}function vB(n){return SR(n).then(e=>e.syncEngine)}function aA(n){return C(this,null,function*(){let e=yield SR(n),t=e.eventManager;return t.onListen=rB.bind(null,e.syncEngine),t.onUnlisten=sB.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=iB.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=aB.bind(null,e.syncEngine),t})}function AR(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var cA=new Map;var RR="firestore.googleapis.com",uA=!0,mf=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new $(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=RR,this.ssl=uA}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:uA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=dR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<MU)throw new $(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Aj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new $(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new $(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new $(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ta=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mf({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mf(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new xv;switch(r.type){case"firstParty":return new Lv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return C(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=cA.get(t);r&&(L("ComponentProvider","Removing Datastore"),cA.delete(t),r.terminate())})(this),Promise.resolve()}};function NR(n,e,t,r={}){var i;n=li(n,ta);let o=lo(e),s=n._getSettings(),c=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(Vy(`https://${u}`),jy("Firestore",!0)),s.host!==RR&&s.host!==u&&gi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!ho(l,c)&&(n._setSettings(l),r.mockUserToken)){let f,p;if(typeof r.mockUserToken=="string")f=r.mockUserToken,p=st.MOCK_USER;else{f=ES(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new $(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new st(m)}n._authCredentials=new kv(new qh(f,p))}}var yf=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},It=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new di(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(bu(t,n._jsonSchema))return new n(e,r||null,new z(Ve.fromString(t.referencePath)))}};It._jsonSchemaVersion="firestore/documentReference/1.0",It._jsonSchema={type:Je("string",It._jsonSchemaVersion),referencePath:Je("string")};var di=class n extends yf{constructor(e,t,r){super(e,t,TE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new It(this.firestore,null,new z(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function MR(n,e,...t){if(n=_t(n),gA("collection","path",e),n instanceof ta){let r=Ve.fromString(e,...t);return S0(r),new di(n,null,r)}{if(!(n instanceof It||n instanceof di))throw new $(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ve.fromString(e,...t));return S0(r),new di(n.firestore,null,r)}}function LE(n,e,...t){if(n=_t(n),arguments.length===1&&(e=fu.newId()),gA("doc","path",e),n instanceof ta){let r=Ve.fromString(e,...t);return C0(r),new It(n,null,new z(r))}{if(!(n instanceof It||n instanceof di))throw new $(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ve.fromString(e,...t));return C0(r),new It(n.firestore,n instanceof di?n.converter:null,new z(r))}}var lA="AsyncQueue",vf=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new uf(this,"async_queue_retry"),this.oc=()=>{let r=Mv();r&&L(lA,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=Mv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=Mv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new Er;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return C(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!oa(e))throw e;L(lA,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,wr("INTERNAL UNHANDLED ERROR: ",dA(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=Y_.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&G(47125,{hc:dA(this.tc)})}verifyOperationInProgress(){}Pc(){return C(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function dA(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function hA(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(n,["next","error","complete"])}var _i=class extends ta{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new vf,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return C(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new vf(e),this._firestoreClient=void 0,yield e}})}};function PR(n,e){let t=typeof n=="object"?n:Ms(),r=typeof n=="string"?n:e||Qh,i=vh(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=vS("firestore");o&&NR(i,...o)}return i}function xR(n){if(n._terminated)throw new $(P.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||_B(n),n._firestoreClient}function _B(n){var e,t,r;let i=n._freezeSettings(),o=(function(c,u,l,f){return new $v(c,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,AR(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new cE(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}})(n._componentsProvider))}var hi=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(wt.fromBase64String(e))}catch(t){throw new $(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bu(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};hi._jsonSchemaVersion="firestore/bytes/1.0",hi._jsonSchema={type:Je("string",hi._jsonSchemaVersion),bytes:Je("string")};var na=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new $(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Du=class{constructor(e){this._methodName=e}};var fi=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new $(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new $(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(bu(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};fi._jsonSchemaVersion="firestore/geoPoint/1.0",fi._jsonSchema={type:Je("string",fi._jsonSchemaVersion),latitude:Je("number"),longitude:Je("number")};var pi=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bu(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new $(P.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};pi._jsonSchemaVersion="firestore/vectorValue/1.0",pi._jsonSchema={type:Je("string",pi._jsonSchemaVersion),vectorValues:Je("object")};var EB=/^__.*__$/,uE=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Yn(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ro(e,this.data,t,this.fieldTransforms)}},_f=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Yn(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function kR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw G(40011,{Ec:n})}}var lE=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return If(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(kR(this.Ec)&&EB.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},dE=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Af(e)}Dc(e,t,r,i=!1){return new lE({Ec:e,methodName:t,bc:r,path:Qt.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function OR(n){let e=n._freezeSettings(),t=Af(n._databaseId);return new dE(n._databaseId,!!e.ignoreUndefinedProperties,t)}function IB(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);VE("Data must be an object, but it was:",s,r);let c=FR(r,s),u,l;if(o.merge)u=new cn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let f=[];for(let p of o.mergeFields){let m=hE(e,p,t);if(!s.contains(m))throw new $(P.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);VR(f,m)||f.push(m)}u=new cn(f),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new uE(new Kt(c),u,l)}var Ef=class n extends Du{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function wB(n,e,t,r){let i=n.Dc(1,e,t);VE("Data must be an object, but it was:",i,r);let o=[],s=Kt.empty();Ei(r,(u,l)=>{let f=jE(e,u,t);l=_t(l);let p=i.gc(f);if(l instanceof Ef)o.push(f);else{let m=Mf(l,p);m!=null&&(o.push(f),s.set(f,m))}});let c=new cn(o);return new _f(s,c,i.fieldTransforms)}function DB(n,e,t,r,i,o){let s=n.Dc(1,e,t),c=[hE(e,r,t)],u=[i];if(o.length%2!=0)throw new $(P.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)c.push(hE(e,o[m])),u.push(o[m+1]);let l=[],f=Kt.empty();for(let m=c.length-1;m>=0;--m)if(!VR(l,c[m])){let y=c[m],S=u[m];S=_t(S);let M=s.gc(y);if(S instanceof Ef)l.push(y);else{let R=Mf(S,M);R!=null&&(l.push(y),f.set(y,R))}}let p=new cn(l);return new _f(f,p,s.fieldTransforms)}function Mf(n,e){if(LR(n=_t(n)))return VE("Unsupported field value:",e,n),FR(n,e);if(n instanceof Du)return(function(r,i){if(!kR(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let c of r){let u=Mf(c,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=_t(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return sU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Xe.fromDate(r);return{timestampValue:nf(i.serializer,o)}}if(r instanceof Xe){let o=new Xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nf(i.serializer,o)}}if(r instanceof fi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof hi)return{bytesValue:iR(i.serializer,r._byteString)};if(r instanceof It){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:SE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof pi)return(function(s,c){return{mapValue:{fields:{[EE]:{stringValue:IE},[qs]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw c.wc("VectorValues must only contain numeric values.");return CE(c.serializer,l)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${mE(r)}`)})(n,e)}function FR(n,e){let t={};return MA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ei(n,(r,i)=>{let o=Mf(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function LR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Xe||n instanceof fi||n instanceof hi||n instanceof It||n instanceof Du||n instanceof pi)}function VE(n,e,t){if(!LR(t)||!mA(t)){let r=mE(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function hE(n,e,t){if((e=_t(e))instanceof na)return e._internalPath;if(typeof e=="string")return jE(n,e);throw If("Field path arguments must be of type string or ",n,!1,void 0,t)}var bB=new RegExp("[~\\*/\\[\\]]");function jE(n,e,t){if(e.search(bB)>=0)throw If(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new na(...e.split("."))._internalPath}catch{throw If(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function If(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new $(P.INVALID_ARGUMENT,c+n+u)}function VR(n,e){return n.some(t=>t.isEqual(e))}var wf=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new It(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new fE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(jR("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},fE=class extends wf{data(){return super.data()}};function jR(n,e){return typeof e=="string"?jE(n,e):e instanceof na?e._internalPath:e._delegate._internalPath}function TB(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new $(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var pE=class{convertValue(e,t="none"){switch(mi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ke(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(br(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw G(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Ei(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[qs].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>ke(s.doubleValue));return new pi(o)}convertGeoPoint(e){return new fi(ke(e.latitude),ke(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Tf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(mu(e));default:return null}}convertTimestamp(e){let t=Dr(e);return new Xe(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Ve.fromString(e);we(lR(r),9688,{name:e});let i=new Yh(r.get(1),r.get(3)),o=new z(r.popFirst(5));return i.isEqual(t)||wr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function CB(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Do=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},bo=class n extends wf{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Bs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(jR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new $(P.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};bo._jsonSchemaVersion="firestore/documentSnapshot/1.0",bo._jsonSchema={type:Je("string",bo._jsonSchemaVersion),bundleSource:Je("string","DocumentSnapshot"),bundleName:Je("string"),bundle:Je("string")};var Bs=class extends bo{data(e={}){return super.data(e)}},$s=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Do(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Bs(this._firestore,this._userDataWriter,r.key,r,new Do(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new $(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{let u=new Bs(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Do(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new Bs(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Do(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return c.type!==0&&(l=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),f=s.indexOf(c.doc.key)),{type:SB(c.type),doc:u,oldIndex:l,newIndex:f}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new $(P.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=fu.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function SB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return G(61501,{type:n})}}$s._jsonSchemaVersion="firestore/querySnapshot/1.0",$s._jsonSchema={type:Je("string",$s._jsonSchemaVersion),bundleSource:Je("string","QuerySnapshot"),bundleName:Je("string"),bundle:Je("string")};var Df=class extends pE{constructor(e){super(),this.firestore=e}convertBytes(e){return new hi(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new It(this.firestore,null,t)}};function UR(n,e,t,...r){n=li(n,It);let i=li(n.firestore,_i),o=OR(i),s;return s=typeof(e=_t(e))=="string"||e instanceof na?DB(o,"updateDoc",n._key,e,t,r):wB(o,"updateDoc",n._key,e),BE(i,[s.toMutation(n._key,Ir.exists(!0))])}function BR(n){return BE(li(n.firestore,_i),[new vu(n._key,Ir.none())])}function $R(n,e){let t=li(n.firestore,_i),r=LE(n),i=CB(n.converter,e);return BE(t,[IB(OR(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Ir.exists(!1))]).then(()=>r)}function UE(n,...e){var t,r,i;n=_t(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||hA(e[s])||(o=e[s++]);let c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(hA(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,f;if(n instanceof It)l=li(n.firestore,_i),f=TE(n._key.path),u={next:p=>{e[s]&&e[s](AB(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=li(n,yf);l=li(p.firestore,_i),f=p._query;let m=new Df(l);u={next:y=>{e[s]&&e[s](new $s(l,m,p,y))},error:e[s+1],complete:e[s+2]},TB(n._query)}return(function(m,y,S,M){let R=new aE(M),F=new eE(y,R,S);return m.asyncQueue.enqueueAndForget(()=>C(null,null,function*(){return XU(yield aA(m),F)})),()=>{R.Ou(),m.asyncQueue.enqueueAndForget(()=>C(null,null,function*(){return eB(yield aA(m),F)}))}})(xR(l),f,c,u)}function BE(n,e){return(function(r,i){let o=new Er;return r.asyncQueue.enqueueAndForget(()=>C(null,null,function*(){return cB(yield vB(r),i,o)})),o.promise})(xR(n),e)}function AB(n,e,t){let r=t.docs.get(e._key),i=new Df(n);return new bo(n,i,e._key,r,new Do(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){ra=i})(Ns),Cn(new Pt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new _i(new Ov(r.getProvider("auth-internal")),new Vv(s,r.getProvider("app-check-internal")),(function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new $(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yh(l.options.projectId,f)})(s,i),s);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Ge(w0,D0,e),Ge(w0,D0,"esm2017")})();var Pf=function(){return Pf=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Pf.apply(this,arguments)};var MB={includeMetadataChanges:!1};function HR(n,e){return e===void 0&&(e=MB),new se(function(t){var r=UE(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function qR(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:Pf(Pf({},r),(t={},t[e.idField]=n.id,t))}function zR(n){return HR(n,{includeMetadataChanges:!0}).pipe(ce(function(e){return e.docs}))}function GR(n,e){return e===void 0&&(e={}),zR(n).pipe(ce(function(t){return t.map(function(r){return qR(r,e)})}))}var Rn=class{constructor(e){return e}},WR="firestore",$E=class{constructor(){return xs(WR)}};var HE=new U("angularfire2.firestore-instances");function PB(n,e){let t=Ih(WR,n,e);return t&&new Rn(t)}function xB(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Rn(r)}}var kB={provide:$E,deps:[[new dr,HE]]},OB={provide:Rn,useFactory:PB,deps:[[new dr,HE],yo]};function KR(n,...e){return Ge("angularfire",go.full,"fst"),Yt([OB,kB,{provide:HE,useFactory:xB(n),multi:!0,deps:[Se,We,mo,eu,[new dr,Oh],[new dr,Dh],...e]}])}var aa=sn(GR,!0);var ca=sn($R,!0,2);var Sr=sn(MR,!0,2);var ua=sn(BR,!0,2);var Ar=sn(LE,!0,2);var QR=sn(PR,!0);var la=sn(UR,!0,2);function FB(n,e){if(n&1){let t=Ji();B(0,"div")(1,"input",10),Xi(2,"date"),q("input",function(i){let o=be(t).$implicit;return Te(o.Date=i.target.value)}),j(),B(3,"input",11),q("input",function(i){let o=be(t).$implicit;return Te(o.Name=i.target.value)}),j(),B(4,"input",12),q("input",function(i){let o=be(t).$implicit;return Te(o.age=i.target.valueAsNumber)}),j(),B(5,"input",11),q("input",function(i){let o=be(t).$implicit;return Te(o.gender=i.target.value)}),j(),B(6,"input",11),q("input",function(i){let o=be(t).$implicit;return Te(o.sickness=i.target.value)}),j(),B(7,"input",11),q("input",function(i){let o=be(t).$implicit;return Te(o.treatment=i.target.value)}),j(),B(8,"input",11),q("input",function(i){let o=be(t).$implicit;return Te(o.physician=i.target.value)}),j(),ue(9,"br"),B(10,"button",8),q("click",function(){let i=be(t).$implicit,o=Fn();return Te(o.updatePatient(i.id,i.Date,i.Name,i.age,i.gender,i.sickness,i.treatment,i.physician))}),Le(11,"Update"),j(),B(12,"button",8),q("click",function(){let i=be(t).$implicit,o=Fn();return Te(o.deletePatient(i.id))}),Le(13,"Delete"),j()()}if(n&2){let t=e.$implicit;Y(),X("value",eo(2,7,t.Date?t.Date.toDate?t.Date.toDate():t.Date:"","yyyy-MM-dd")),Y(2),X("value",t.Name),Y(),X("value",t.age),Y(),X("value",t.gender),Y(),X("value",t.sickness),Y(),X("value",t.treatment),Y(),X("value",t.physician)}}var xf=class n{constructor(e){this.firestore=e;let t=Sr(this.firestore,"daily_service_record");aa(t,{idField:"id"}).subscribe(r=>{this.daily_service_records=r})}title=ge("Daily Service Record");Date=ge(null);patientName=ge("");age=ge(null);gender=ge("");sicknessDiagnosed=ge("");treatmentProvided=ge("");attendingPhysician=ge("");daily_service_records=[];addPatient(){let e=this.Date(),t=this.patientName(),r=this.age(),i=this.gender(),o=this.sicknessDiagnosed(),s=this.treatmentProvided(),c=this.attendingPhysician();if(t&&e){let u=Sr(this.firestore,"daily_service_record");ca(u,{Date:e,Name:t,age:r,gender:i,sickness:o,treatment:s,physician:c}),this.Date.set(null),this.patientName.set(""),this.age.set(null),this.gender.set(""),this.sicknessDiagnosed.set(""),this.treatmentProvided.set(""),this.attendingPhysician.set("")}}deletePatient(e){let t=Ar(this.firestore,`daily_service_record/${e}`);ua(t)}updatePatient(e,t,r,i,o,s,c,u){let l=Ar(this.firestore,`daily_service_record/${e}`);la(l,{Date:t,Name:r,age:i,gender:o,sickness:s,treatment:c,physician:u})}static \u0275fac=function(t){return new(t||n)(Fe(Rn))};static \u0275cmp=_n({type:n,selectors:[["app-root"]],decls:26,vars:9,consts:[[2,"text-align","center","margin-top","20px"],["type","date","placeholder","Date",3,"input","value"],["type","text","placeholder","Patient Name",3,"input","value"],["type","number","placeholder","Age",3,"input","value"],["type","text","placeholder","Gender",3,"input","value"],["type","text","placeholder","Sickness Diagnosis",3,"input","value"],["type","text","placeholder","Treatment",3,"input","value"],["type","text","placeholder","Physician",3,"input","value"],[3,"click"],[4,"ngFor","ngForOf"],["type","date",3,"input","value"],[3,"input","value"],["type","number",3,"input","value"]],template:function(t,r){t&1&&(B(0,"div",0)(1,"h1"),Le(2),j(),ue(3,"br"),B(4,"input",1),q("input",function(o){return r.Date.set(o.target.value)}),j(),ue(5,"br"),B(6,"input",2),q("input",function(o){return r.patientName.set(o.target.value)}),j(),ue(7,"br"),B(8,"input",3),q("input",function(o){return r.age.set(o.target.value)}),j(),ue(9,"br"),B(10,"input",4),q("input",function(o){return r.gender.set(o.target.value)}),j(),ue(11,"br"),B(12,"input",5),q("input",function(o){return r.sicknessDiagnosed.set(o.target.value)}),j(),ue(13,"br"),B(14,"input",6),q("input",function(o){return r.treatmentProvided.set(o.target.value)}),j(),ue(15,"br"),B(16,"input",7),q("input",function(o){return r.attendingPhysician.set(o.target.value)}),j(),ue(17,"br")(18,"br"),B(19,"button",8),q("click",function(){return r.addPatient()}),Le(20,"Register User"),j(),ue(21,"br")(22,"hr"),B(23,"h1"),Le(24,"Service Record Data"),j(),Yr(25,FB,14,10,"div",9),j()),t&2&&(Y(2),Jr(r.title()),Y(2),X("value",r.Date()),Y(2),X("value",r.patientName()),Y(2),X("value",r.age()),Y(2),X("value",r.gender()),Y(2),X("value",r.sicknessDiagnosed()),Y(2),X("value",r.treatmentProvided()),Y(2),X("value",r.attendingPhysician()),Y(9),X("ngForOf",r.daily_service_records))},dependencies:[ti,ei,Rs,co,to],styles:[".container[_ngcontent-%COMP%]{max-width:600px;margin:30px auto;padding:20px;text-align:center;font-family:Arial,Helvetica,sans-serif}input[_ngcontent-%COMP%]{width:70%;padding:6px 10px;margin:6px 0;border-radius:6px;border:1px solid #cccccc;font-size:14px;transition:.2s}input[_ngcontent-%COMP%]:focus{border-color:#3b82f6;box-shadow:0 0 4px #3b82f680;outline:none}.patient-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:45%;margin:5px 2%}button[_ngcontent-%COMP%]{padding:6px 12px;border:none;border-radius:6px;margin:5px;font-size:14px;cursor:pointer;transition:.25s}button[_ngcontent-%COMP%]:first-of-type{background-color:#3b82f6;color:#fff}button[_ngcontent-%COMP%]:first-of-type:hover{background-color:#2563eb}button[_ngcontent-%COMP%]:nth-last-of-type(2){background-color:#16a34a;color:#fff}button[_ngcontent-%COMP%]:nth-last-of-type(2):hover{background-color:#15803d}button[_ngcontent-%COMP%]:last-of-type{background-color:#dc2626;color:#fff}button[_ngcontent-%COMP%]:last-of-type:hover{background-color:#b91c1c}.patient-item[_ngcontent-%COMP%]{background:#f8fafc;padding:12px;margin-bottom:12px;border-radius:10px;box-shadow:0 1px 4px #0000001a;text-align:left}hr[_ngcontent-%COMP%]{margin:25px 0;border:none;border-top:1px solid #ddd}"]})};function LB(n,e){if(n&1){let t=Ji();B(0,"div")(1,"input",10),Xi(2,"date"),q("input",function(i){let o=be(t).$implicit;return Te(o.Date=i.target.value)}),j(),B(3,"input",11),q("input",function(i){let o=be(t).$implicit;return Te(o.Name=i.target.value)}),j(),B(4,"input",12),q("input",function(i){let o=be(t).$implicit;return Te(o.age=i.target.valueAsNumber)}),j(),B(5,"input",11),q("input",function(i){let o=be(t).$implicit;return Te(o.gender=i.target.value)}),j(),B(6,"input",11),q("input",function(i){let o=be(t).$implicit;return Te(o.animalType=i.target.value)}),j(),B(7,"input",11),q("input",function(i){let o=be(t).$implicit;return Te(o.rabiesStatus=i.target.value)}),j(),B(8,"input",11),q("input",function(i){let o=be(t).$implicit;return Te(o.treatmentGiven=i.target.value)}),j(),ue(9,"br"),B(10,"button",8),q("click",function(){let i=be(t).$implicit,o=Fn();return Te(o.updatePatient(i.id,i.Date,i.Name,i.age,i.gender,i.animalType,i.rabiesStatus,i.treatmentGiven))}),Le(11,"Update"),j(),B(12,"button",8),q("click",function(){let i=be(t).$implicit,o=Fn();return Te(o.deletePatient(i.id))}),Le(13,"Delete"),j()()}if(n&2){let t=e.$implicit;Y(),X("value",eo(2,7,t.Date?t.Date.toDate?t.Date.toDate():t.Date:"","yyyy-MM-dd")),Y(2),X("value",t.Name),Y(),X("value",t.age),Y(),X("value",t.gender),Y(),X("value",t.animalType),Y(),X("value",t.rabiesStatus),Y(),X("value",t.treatmentGiven)}}var kf=class n{constructor(e){this.firestore=e;let t=Sr(this.firestore,"rabies_case");aa(t,{idField:"id"}).subscribe(r=>{this.rabies_cases=r})}title=ge("Daily Service Record");Date=ge(null);patientName=ge("");age=ge(null);gender=ge("");animalType=ge("");rabiesStatus=ge("");treatmentGiven=ge("");rabies_cases=[];addPatient(){let e=this.Date(),t=this.patientName(),r=this.age(),i=this.gender(),o=this.animalType(),s=this.rabiesStatus(),c=this.treatmentGiven();if(t&&e){let u=Sr(this.firestore,"rabies_case");ca(u,{Date:e,Name:t,age:r,gender:i,animalType:o,rabiesStatus:s,treatmentGiven:c}),this.Date.set(null),this.patientName.set(""),this.age.set(null),this.gender.set(""),this.animalType.set(""),this.rabiesStatus.set(""),this.treatmentGiven.set("")}}deletePatient(e){let t=Ar(this.firestore,`rabies_case/${e}`);ua(t)}updatePatient(e,t,r,i,o,s,c,u){let l=Ar(this.firestore,`rabies_case/${e}`);la(l,{Date:t,Name:r,age:i,gender:o,animalType:s,rabiesStatus:c,treatmentGiven:u})}static \u0275fac=function(t){return new(t||n)(Fe(Rn))};static \u0275cmp=_n({type:n,selectors:[["app-root"]],decls:26,vars:9,consts:[[2,"text-align","center","margin-top","20px"],["type","date","placeholder","Date",3,"input","value"],["type","text","placeholder","Patient Name",3,"input","value"],["type","number","placeholder","Age",3,"input","value"],["type","text","placeholder","Gender",3,"input","value"],["type","text","placeholder","Animal Type",3,"input","value"],["type","text","placeholder","Rabies Status",3,"input","value"],["type","text","placeholder","Treatment Given",3,"input","value"],[3,"click"],[4,"ngFor","ngForOf"],["type","date",3,"input","value"],[3,"input","value"],["type","number",3,"input","value"]],template:function(t,r){t&1&&(B(0,"div",0)(1,"h1"),Le(2),j(),ue(3,"br"),B(4,"input",1),q("input",function(o){return r.Date.set(o.target.value)}),j(),ue(5,"br"),B(6,"input",2),q("input",function(o){return r.patientName.set(o.target.value)}),j(),ue(7,"br"),B(8,"input",3),q("input",function(o){return r.age.set(o.target.value)}),j(),ue(9,"br"),B(10,"input",4),q("input",function(o){return r.gender.set(o.target.value)}),j(),ue(11,"br"),B(12,"input",5),q("input",function(o){return r.animalType.set(o.target.value)}),j(),ue(13,"br"),B(14,"input",6),q("input",function(o){return r.rabiesStatus.set(o.target.value)}),j(),ue(15,"br"),B(16,"input",7),q("input",function(o){return r.treatmentGiven.set(o.target.value)}),j(),ue(17,"br")(18,"br"),B(19,"button",8),q("click",function(){return r.addPatient()}),Le(20,"Register User"),j(),ue(21,"br")(22,"hr"),B(23,"h1"),Le(24,"Rabies Cases Data"),j(),Yr(25,LB,14,10,"div",9),j()),t&2&&(Y(2),Jr(r.title()),Y(2),X("value",r.Date()),Y(2),X("value",r.patientName()),Y(2),X("value",r.age()),Y(2),X("value",r.gender()),Y(2),X("value",r.animalType()),Y(2),X("value",r.rabiesStatus()),Y(2),X("value",r.treatmentGiven()),Y(9),X("ngForOf",r.rabies_cases))},dependencies:[ti,ei,Rs,co,to],styles:[".container[_ngcontent-%COMP%]{max-width:600px;margin:30px auto;padding:20px;text-align:center;font-family:Arial,Helvetica,sans-serif}input[_ngcontent-%COMP%]{width:70%;padding:6px 10px;margin:6px 0;border-radius:6px;border:1px solid #cccccc;font-size:14px;transition:.2s}input[_ngcontent-%COMP%]:focus{border-color:#3b82f6;box-shadow:0 0 4px #3b82f680;outline:none}.patient-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:45%;margin:5px 2%}button[_ngcontent-%COMP%]{padding:6px 12px;border:none;border-radius:6px;margin:5px;font-size:14px;cursor:pointer;transition:.25s}button[_ngcontent-%COMP%]:first-of-type{background-color:#3b82f6;color:#fff}button[_ngcontent-%COMP%]:first-of-type:hover{background-color:#2563eb}button[_ngcontent-%COMP%]:nth-last-of-type(2){background-color:#16a34a;color:#fff}button[_ngcontent-%COMP%]:nth-last-of-type(2):hover{background-color:#15803d}button[_ngcontent-%COMP%]:last-of-type{background-color:#dc2626;color:#fff}button[_ngcontent-%COMP%]:last-of-type:hover{background-color:#b91c1c}.patient-item[_ngcontent-%COMP%]{background:#f8fafc;padding:12px;margin-bottom:12px;border-radius:10px;box-shadow:0 1px 4px #0000001a;text-align:left}hr[_ngcontent-%COMP%]{margin:25px 0;border:none;border-top:1px solid #ddd}"]})};function VB(n,e){if(n&1){let t=Ji();B(0,"div")(1,"input",7),Xi(2,"date"),q("input",function(i){let o=be(t).$implicit;return Te(o.Date=i.target.value)}),j(),B(3,"input",8),q("input",function(i){let o=be(t).$implicit;return Te(o.Name=i.target.value)}),j(),B(4,"input",8),q("input",function(i){let o=be(t).$implicit;return Te(o.status=i.target.value)}),j(),B(5,"input",8),q("input",function(i){let o=be(t).$implicit;return Te(o.remarks=i.target.value)}),j(),ue(6,"br"),B(7,"button",5),q("click",function(){let i=be(t).$implicit,o=Fn();return Te(o.updatePatient(i.id,i.Date,i.Name,i.status,i.remarks))}),Le(8,"Update"),j(),B(9,"button",5),q("click",function(){let i=be(t).$implicit,o=Fn();return Te(o.deletePatient(i.id))}),Le(10,"Delete"),j()()}if(n&2){let t=e.$implicit;Y(),X("value",eo(2,4,t.Date?t.Date.toDate?t.Date.toDate():t.Date:"","yyyy-MM-dd")),Y(2),X("value",t.Name),Y(),X("value",t.status),Y(),X("value",t.remarks)}}var Of=class n{constructor(e){this.firestore=e;let t=Sr(this.firestore,"water_analysis_result");aa(t,{idField:"id"}).subscribe(r=>{this.water_analysis_results=r})}title=ge("Water Analysis Results");Date=ge(null);sourceAddress=ge("");waterStatus=ge("");remarks=ge("");water_analysis_results=[];addPatient(){let e=this.Date(),t=this.sourceAddress(),r=this.waterStatus(),i=this.remarks();if(t&&e){let o=Sr(this.firestore,"water_analysis_result");ca(o,{Date:e,Name:t,status:r,remarks:i}),this.Date.set(null),this.sourceAddress.set(""),this.waterStatus.set(""),this.remarks.set("")}}deletePatient(e){let t=Ar(this.firestore,`water_analysis_result/${e}`);ua(t)}updatePatient(e,t,r,i,o){let s=Ar(this.firestore,`water_analysis_result/${e}`);la(s,{Date:t,Name:r,status:i,remarks:o})}static \u0275fac=function(t){return new(t||n)(Fe(Rn))};static \u0275cmp=_n({type:n,selectors:[["app-root"]],decls:19,vars:6,consts:[[2,"text-align","center","margin-top","20px"],["type","date","placeholder","Date",3,"input","value"],["type","text","placeholder","Source Adress",3,"input","value"],["type","text","placeholder","Water Status",3,"input","value"],["type","text","placeholder","Remarks",3,"input","value"],[3,"click"],[4,"ngFor","ngForOf"],["type","date",3,"input","value"],[3,"input","value"]],template:function(t,r){t&1&&(B(0,"div",0)(1,"h1"),Le(2),j(),ue(3,"br"),B(4,"input",1),q("input",function(o){return r.Date.set(o.target.value)}),j(),ue(5,"br"),B(6,"input",2),q("input",function(o){return r.sourceAddress.set(o.target.value)}),j(),ue(7,"br"),B(8,"input",3),q("input",function(o){return r.waterStatus.set(o.target.value)}),j(),ue(9,"br"),B(10,"input",4),q("input",function(o){return r.remarks.set(o.target.value)}),j(),ue(11,"br"),B(12,"button",5),q("click",function(){return r.addPatient()}),Le(13,"Register Source"),j(),ue(14,"br")(15,"hr"),B(16,"h1"),Le(17,"WATER ANALYSIS DATA"),j(),Yr(18,VB,11,7,"div",6),j()),t&2&&(Y(2),Jr(r.title()),Y(2),X("value",r.Date()),Y(2),X("value",r.sourceAddress()),Y(2),X("value",r.waterStatus()),Y(2),X("value",r.remarks()),Y(8),X("ngForOf",r.water_analysis_results))},dependencies:[ti,ei,Rs,co,to],styles:[".container[_ngcontent-%COMP%]{max-width:600px;margin:30px auto;padding:20px;text-align:center;font-family:Arial,Helvetica,sans-serif}input[_ngcontent-%COMP%]{width:70%;padding:6px 10px;margin:6px 0;border-radius:6px;border:1px solid #cccccc;font-size:14px;transition:.2s}input[_ngcontent-%COMP%]:focus{border-color:#3b82f6;box-shadow:0 0 4px #3b82f680;outline:none}.patient-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:45%;margin:5px 2%}button[_ngcontent-%COMP%]{padding:6px 12px;border:none;border-radius:6px;margin:5px;font-size:14px;cursor:pointer;transition:.25s}button[_ngcontent-%COMP%]:first-of-type{background-color:#3b82f6;color:#fff}button[_ngcontent-%COMP%]:first-of-type:hover{background-color:#2563eb}button[_ngcontent-%COMP%]:nth-last-of-type(2){background-color:#16a34a;color:#fff}button[_ngcontent-%COMP%]:nth-last-of-type(2):hover{background-color:#15803d}button[_ngcontent-%COMP%]:last-of-type{background-color:#dc2626;color:#fff}button[_ngcontent-%COMP%]:last-of-type:hover{background-color:#b91c1c}.patient-item[_ngcontent-%COMP%]{background:#f8fafc;padding:12px;margin-bottom:12px;border-radius:10px;box-shadow:0 1px 4px #0000001a;text-align:left}hr[_ngcontent-%COMP%]{margin:25px 0;border:none;border-top:1px solid #ddd}"]})};var YR=[{path:"",redirectTo:"/daily-service-record",pathMatch:"full"},{path:"daily-service-record",component:xf},{path:"rabies-case",component:kf},{path:"water-analysis-results",component:Of}];var ZR={providers:[Cg(),Pm({eventCoalescing:!0}),My(YR),zS(()=>GS({projectId:"clinic-e62d6",appId:"1:852188150122:web:bec85091174cced63a8d13",storageBucket:"clinic-e62d6.firebasestorage.app",apiKey:"AIzaSyBal_1yNSktIx8u0uLWrTtRqPVDv1xOtCY",authDomain:"clinic-e62d6.firebaseapp.com",messagingSenderId:"852188150122"})),KR(()=>QR())]};var Ff=class n{title=ge("lab2");static \u0275fac=function(t){return new(t||n)};static \u0275cmp=_n({type:n,selectors:[["app-root"]],decls:15,vars:0,consts:[[1,"navbar","navbar-expand-sm","navbar-dark","bg-dark"],[1,"container-fluid"],["type","button","data-toggle","collapse","data-target","#navbarID","aria-controls","navbarID","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarID",1,"collapse","navbar-collapse"],[1,"navbar-nav"],["routerLink","daily-service-record",1,"nav-link"],["routerLink","water-analysis-results",1,"nav-link"],["routerLink","rabies-case",1,"nav-link"]],template:function(t,r){t&1&&(B(0,"nav",0)(1,"div",1)(2,"button",2),ue(3,"span",3),j(),B(4,"div",4)(5,"div",5)(6,"a",6),Le(7,"Service Records"),j()(),B(8,"div",5)(9,"a",7),Le(10,"Water Analysis Results"),j()(),B(11,"div",5)(12,"a",8),Le(13,"Rabies Case"),j()()()()(),ue(14,"router-outlet"))},dependencies:[qc,hh],encapsulation:2})};ry(Ff,ZR).catch(n=>console.error(n));
